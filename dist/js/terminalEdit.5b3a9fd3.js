(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["terminalEdit"],{"09ae":function(e,n,t){var a=t("24fb");n=a(!0),n.push([e.i,".select-input[data-v-613dd80b]{position:relative}.select-input .select-container[data-v-613dd80b]{height:100%;width:20px;position:absolute;right:0;top:0}.select-input .select-container[data-v-613dd80b] .el-select{opacity:0;height:100%;z-index:2}.select-input .select-container[data-v-613dd80b] .el-input{overflow:hidden}.select-input .select-container[data-v-613dd80b] .el-input input{width:20px;padding:0}.select-input .select-container>.el-icon-arrow-down[data-v-613dd80b]{position:absolute;left:50%;top:50%;z-index:1;transform:translate(-50%,-50%)}","",{version:3,sources:["D:/01.workspace/10.test/cicd/test-vue-ui/src/components/D:/01.workspace/10.test/cicd/test-vue-ui/src/components/D:/01.workspace/10.test/cicd/test-vue-ui/src/components/aj-selectInput.vue?vue&type=style&index=0&id=613dd80b&scoped=true&lang=less&","D:/01.workspace/10.test/cicd/test-vue-ui/src/components/D:/01.workspace/10.test/cicd/test-vue-ui/src/components/aj-selectInput.vue"],names:[],mappings:"AAgDA,+BACE,iBC/CF,CD8CA,iDAII,WAAA,CACA,UAAA,CACA,iBAAA,CACA,OAAA,CACA,KC/CJ,CDuCA,4DAUM,SAAA,CACA,WAAA,CACA,SC9CN,CDkCA,2DAeM,eC9CN,CD+BA,iEAiBQ,UAAA,CACA,SC7CR,CD2BA,qEAsBM,iBAAA,CACA,QAAA,CACA,OAAA,CACA,SAAA,CACA,8BC9CN",file:"aj-selectInput.vue",sourcesContent:["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.select-input {\n  position: relative;\n  //overflow: hidden;\n  .select-container {\n    height: 100%;\n    width: 20px;\n    position: absolute;\n    right: 0;\n    top: 0;\n    /deep/ .el-select {\n      opacity: 0;\n      height: 100%;\n      z-index: 2;\n    }\n    /deep/ .el-input {\n      overflow: hidden;\n      input {\n        width: 20px;\n        padding: 0;\n      }\n    }\n    > .el-icon-arrow-down {\n      position: absolute;\n      left: 50%;\n      top: 50%;\n      z-index: 1;\n      transform: translate(-50%, -50%);\n    }\n  }\n}\n",".select-input {\n  position: relative;\n}\n.select-input .select-container {\n  height: 100%;\n  width: 20px;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n.select-input .select-container /deep/ .el-select {\n  opacity: 0;\n  height: 100%;\n  z-index: 2;\n}\n.select-input .select-container /deep/ .el-input {\n  overflow: hidden;\n}\n.select-input .select-container /deep/ .el-input input {\n  width: 20px;\n  padding: 0;\n}\n.select-input .select-container > .el-icon-arrow-down {\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  z-index: 1;\n  transform: translate(-50%, -50%);\n}\n"]}]),e.exports=n},"09cb":function(e,n,t){"use strict";t("4160"),t("d81d"),t("b64b"),t("d3b7"),t("ac1f"),t("1276"),t("159b"),t("99af");var a=t("b32d"),i={revgeocode:function(e,n){var t="".concat(n,",").concat(e);return a["a"].request({url:"https://revgeocode.search.hereapi.com/v1/revgeocode?apikey=W2tAflEZh_G8e84lx8ZmLtlQ9gFR5DAflxIBf0J_X9A",method:"get",params:{at:t}})}},r=function(e){var n=new window.H.geo.LineString;return e&&e.length>0?(e.map((function(e,t){return n.pushPoint(new H.geo.Point(e.lat,e.lon))})),n):[]},o=function(e){return new H.map.Polyline(r(e.points),{style:{strokeColor:e.color,lineWidth:6}})},s=function(e){return new H.geo.Point(e.lat,e.lon)},l=function(e){var n=document.createElement("div");n.style.marginTop="-".concat(e.style.height.split("px")[0]/2,"px"),n.style.marginLeft="-".concat(e.style.width.split("px")[0]/2,"px");var t=document.createElement("img");return t.src=e.url,"string"===typeof e.style?t.style.cssText=e.style:Object.keys(e.style).forEach((function(n){t.style.setProperty(n,e.style[n])})),n.append(t),new H.map.DomIcon(n,e.eventOptions)},c=function(e,n){var t=null;if(n&&n.url){var a=new H.map.Icon(n.url,{size:new H.math.Size(n.width,n.height)});t=new H.map.Marker(s(e),{icon:a})}else t=n instanceof H.map.DomIcon?new H.map.DomMarker(s(e),{icon:n}):new H.map.Marker(s(e));return t},u=function(e,n,t){e.setCenter(new H.geo.Point(n.lat,n.lon)),e.setZoom(t)},d=function(e,n,t,a){e.setCenter(new H.geo.Point(t,n)),e.setZoom(a)},m=[{key:"#FFC94E",name:"0~30km/h"},{key:"#FF8500",name:"30~60km/h"},{key:"#44E4A6",name:"60~80km/h"},{key:"#2BB5FE",name:"80~100km/h"},{key:"#C75EFA",name:">100km/h"}],p=[{key:"#fa0000",name:"智能驾驶"},{key:"#0dc207",name:"人工驾驶"}],f=function(e,n){var t=[],a={color:"",points:[]},i=null,r=0,o=null,s=function(n,s){r=s,a.points.push(e[o]),i===r||null===i?(a.color=n,0!==e.length&&o===e.length-1&&t.push(a)):(t.push(a),a={color:n,points:[e[o]]}),a.points.length===e.length&&0!==e.length&&t.push(a),i=r};if(0===n)for(o=0;o<e.length;o++){var l=parseInt(e[o].speed);l<30?s(m[0].key,0):l>=30&&l<60?s(m[1].key,1):l>=60&&l<80?s(m[2].key,2):l>=80&&l<100?s(m[3].key,3):s(m[4].key,4)}else if(1===n)for(o=0;o<e.length;o++){var c=e[o].autoDriverFlag;c?s(p[0].key,0):s(p[1].key,1)}return t},b=function(e){return f(e,0)},h=function(e){return f(e,1)},g=function(e){var n=document.createElement("div");n.id="customPopCard",n.style.cssText="font-size:12px;width:200px;line-height:12px;";var t=document.createElement("div");t.style.cssText="display: flex;flex-direction: row;justify-content: space-between;border-bottom: 1px solid #293C63;";var a=document.createElement("div");a.style.cssText="color: #48CF4D;",a.innerHTML='<div style="margin-top: 2px; margin-right: 7px;"><img src="@/assets/images/car-card.png" width="20px" height="12px"></div><div style="margin-top: 2px;">'.concat(e.title,"</div>"),t.appendChild(a);var i=document.createElement("div");return i.style.cssText="border-bottom: 1px solid #293C63;line-height: 25px;font-size: 12px;",i.innerHTML="<div>所属机构：111</div>\n      <div>当前速度：111km/h</div>\n      <div>当前油耗：111L/100km</div>\n      <div>上报时间：111</div>\n      <div>当前状态：人工驾驶</div>",n.appendChild(t),n.appendChild(i),n},v=function(e){var n=e.lat,t=e.lng;return new Promise((function(e){i.revgeocode(t,n).then((function(n){var t=n.items;t&&t.length>0&&e(t[0])}))}))};n["a"]={polylineData:r,polylineArray:o,setMarker:c,setPoint:s,setDomIcon:l,speedColor:b,autoColor:h,speedColors:m,autoColors:p,setCenter:u,setCenterByL:d,getPopCard:g,getRevGeocode:v}},"2cef":function(e,n,t){"use strict";var a=t("c9fe"),i=t.n(a);i.a},"321e":function(e,n,t){"use strict";t.d(n,"c",(function(){return r})),t.d(n,"d",(function(){return o})),t.d(n,"a",(function(){return s})),t.d(n,"b",(function(){return l})),t.d(n,"i",(function(){return c})),t.d(n,"g",(function(){return u})),t.d(n,"e",(function(){return d})),t.d(n,"f",(function(){return m})),t.d(n,"h",(function(){return p}));var a=t("6ebf"),i=a["a"],r=function(e,n,t){var a=/[@#\$%\^&\*\!~`'",:+=?\\]+/g;if(a.test(n))return t(new Error(i.t("common.rules.checkString")));t()},o=function(e,n,t){var a=/^(https|http|ftp|mms)?:\/\//;if(!a.test(n))return t(new Error(i.t("common.rules.checkUrl")));t()},s=function(e,n,t){var a=/^[1-9]\d*$/;if(!a.test(n))return t(new Error(i.t("common.rules.Num")));t()},l=function(e,n,t){var a=/^[0-9a-fA-F]{6}$/;if(!a.test(n))return t(new Error(i.t("common.rules.checkColor")));t()},c=function(e,n,t){var a=/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+((\.[a-zA-Z0-9_-]{2,3}){1,2})$/;if(!a.test(n))return t(new Error(i.t("common.rules.validateEmail")));t()},u=function(e){for(var n in e)e[n]instanceof Object&&(e[n]=JSON.stringify(e[n]));return e},d=function(e,n,t){var a=/^[a-zA-Z0-9]{1,16}$/;if(!a.test(n))return t(new Error(i.t("common.rules.letterOrNumber16")));t()},m=function(e,n,t){var a=/^[1][0-9]{10}$/;if(!a.test(n))return t(new Error(i.t("common.rules.mobilePhone")));t()},p=function(e,n,t){var a=/^\d+$/;if(!a.test(n))return t(new Error(i.t("common.rules.publicTel")));t()}},"71c0":function(e,n,t){var a=t("a7a7");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var i=t("499e").default;i("69e110b3",a,!0,{sourceMap:!0,shadowMode:!1})},"71c5":function(e,n,t){"use strict";t.d(n,"f",(function(){return i})),t.d(n,"g",(function(){return r})),t.d(n,"c",(function(){return o})),t.d(n,"i",(function(){return s})),t.d(n,"e",(function(){return l})),t.d(n,"h",(function(){return c})),t.d(n,"a",(function(){return u})),t.d(n,"d",(function(){return d})),t.d(n,"b",(function(){return m})),t.d(n,"j",(function(){return p}));var a=t("b32d"),i=function(e){return Object(a["a"])({url:"system/car/queryCar",method:"get",params:e})},r=function(e){return Object(a["a"])({url:"system/car/queryBasicData",method:"get",params:e})},o=function(e){return Object(a["a"])({url:"system/baseData",method:"get",params:e})},s=function(e){return Object(a["a"])({url:"system/car/queryTerminal",method:"get",params:e})},l=function(e){return Object(a["a"])({url:"system/queryBusinesses",method:"get",params:e})},c=function(e){return Object(a["a"])({url:"system/car/queryDealer",method:"get",params:e})},u=function(e){return Object(a["a"])({url:"operate/vehicle/carBaseInfo",method:"get",params:e})},d=function(e){return Object(a["b"])("system/lockEnable/operat",e,!0)},m=function(e){return Object(a["b"])("system/car/downloadCar",e,!0)},p=function(e){return Object(a["b"])("system/car/updateCar",e,!0)}},"803e":function(e,n,t){"use strict";t.r(n);var a=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"form-page"},[t("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"150px"}},[t("el-form-item",{attrs:{label:e.$t("business.terminal.id"),prop:"terminalId"}},[t("el-input",{attrs:{placeholder:e.$t("business.terminal.idPlaceholder")},model:{value:e.form.terminalId,callback:function(n){e.$set(e.form,"terminalId",n)},expression:"form.terminalId"}})],1),t("el-form-item",{attrs:{label:e.$t("business.terminal.terminalSimCard"),prop:"simNo"}},[t("el-input",{attrs:{maxlength:11,placeholder:e.$t("business.terminal.simPlaceholder")},model:{value:e.form.simNo,callback:function(n){e.$set(e.form,"simNo",n)},expression:"form.simNo"}})],1),t("el-form-item",{attrs:{label:e.$t("business.terminal.peitaoSimLabel")}},[t("el-input",{attrs:{maxlength:50},model:{value:e.form.simMatch,callback:function(n){e.$set(e.form,"simMatch",n)},expression:"form.simMatch"}})],1),t("el-form-item",{attrs:{label:e.$t("business.terminal.terminalCommunicationLabel"),prop:"communicationId"}},[t("el-input",{attrs:{maxlength:11,placeholder:e.$t("business.terminal.simPlaceholder")},model:{value:e.form.communicationId,callback:function(n){e.$set(e.form,"communicationId",n)},expression:"form.communicationId"}})],1),t("el-form-item",{attrs:{label:e.$t("business.terminal.terminalType"),prop:"type"}},[t("el-select",{model:{value:e.form.type,callback:function(n){e.$set(e.form,"type",n)},expression:"form.type"}},[t("el-option",{attrs:{label:"FK"+e.$t("common.ctrl"),value:0}})],1)],1),t("el-form-item",{attrs:{label:e.$t("business.terminal.terminalModel")}},[t("el-select",{model:{value:e.form.model,callback:function(n){e.$set(e.form,"model",n)},expression:"form.model"}},e._l(e.modalList,(function(e,n){return t("el-option",{key:n,attrs:{label:e.tmName,value:e.tmId+""}})})),1)],1),t("el-form-item",{attrs:{label:e.$t("business.terminal.terminalProtocol"),prop:"protocol"}},[t("el-select",{model:{value:e.form.protocol,callback:function(n){e.$set(e.form,"protocol",n)},expression:"form.protocol"}},e._l(e.protocolList,(function(e,n){return t("el-option",{key:n,attrs:{label:e.typeName,value:e.typeId}})})),1)],1),t("SelectTable",{key:1,attrs:{label:e.$t("business.terminal.ownedDealer"),placeholder:e.$t("business.dealer.selectAreaDealer"),"table-title":e.$t("business.terminal.ownedDealer"),prop:"reAgentName","search-name":"fruzzy","column-list":e.columnList,"table-list":e.tableList,total:e.total},on:{search:e.getDealer,obj:e.getSelectDealer},model:{value:e.form.reAgentName,callback:function(n){e.$set(e.form,"reAgentName",n)},expression:"form.reAgentName"}}),t("el-form-item",{attrs:{label:e.$t("business.terminal.deviceTagId")}},[t("el-input",{model:{value:e.form.devLabelId,callback:function(n){e.$set(e.form,"devLabelId",n)},expression:"form.devLabelId"}})],1),t("el-form-item",{attrs:{label:e.$t("common.media")}},[t("el-checkbox-group",{model:{value:e.form.camera,callback:function(n){e.$set(e.form,"camera",n)},expression:"form.camera"}},e._l(e.mediaList,(function(n,a){return t("el-checkbox",{key:a,attrs:{label:n.id+"",name:"type"}},[e._v(e._s(n.value))])})),1)],1),t("el-form-item",{attrs:{label:"MIC"}},[t("el-radio-group",{model:{value:e.form.mic,callback:function(n){e.$set(e.form,"mic",n)},expression:"form.mic"}},[t("el-radio",{attrs:{label:1}},[e._v(e._s(e.$t("message.yes")))]),t("el-radio",{attrs:{label:0}},[e._v(e._s(e.$t("message.no")))])],1)],1),t("el-form-item",{attrs:{label:e.$t("common.remark")}},[t("el-input",{attrs:{type:"textarea",rows:"5"},model:{value:e.form.remark,callback:function(n){e.$set(e.form,"remark",n)},expression:"form.remark"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"primary",loading:e.isloading},on:{click:e.handleSubmit}},[e._v(e._s(e.$t("common.submit")))]),t("el-button",{on:{click:function(n){return e.$router.back()}}},[e._v(e._s(e.$t("common.back")))])],1)],1)],1)},i=[],r=(t("4160"),t("a15b"),t("d3b7"),t("ac1f"),t("1276"),t("159b"),t("5530")),o=(t("96cf"),t("1da1")),s=t("bee6"),l=t("71c5"),c=t("da9c"),u={name:"AddAndEdit",components:{SelectTable:s["a"]},data:function(){return{form:{terminalId:"",simNo:"",simMatch:"",communicationId:"",type:"",model:"",protocol:"",reAgentName:"",reAgent:"",devLabelId:"",camera:[],mic:"",remark:""},isloading:!1,dialogTableVisible:!1,modalList:[],protocolList:[],mediaList:[],tableList:[],columnList:[],total:0,rules:{terminalId:[{required:!0,message:this.$t("business.terminal.idRule"),trigger:"blur"}],simNo:[{required:!0,message:this.$t("business.terminal.simRule"),trigger:"change"},{min:11,max:11,message:this.$t("business.terminal.simPlaceholder"),trigger:"change"}],communicationId:[{required:!0,message:this.$t("business.terminal.communicationRule"),trigger:"change"},{min:11,max:11,message:this.$t("business.terminal.simPlaceholder"),trigger:"change"}],type:[{required:!0,message:this.$t("business.terminal.typeRule"),trigger:"change"}],protocol:[{required:!0,message:this.$t("business.terminal.selectTerminalProtocol"),trigger:"change"}],reAgentName:[{required:!0,message:this.$t("business.dealer.selectAreaDealer"),trigger:"change"}]}}},computed:{id:function(){return this.$route.params.id}},mounted:function(){this.init(),this.$route.params.id&&this.getDetail()},methods:{getDetail:function(){var e=this;Object(c["G"])({id:this.id}).then((function(n){for(var t in e.form)Object.prototype.hasOwnProperty.call(n.data,t)&&("camera"===t?n.data[t]&&(1===n.data[t].length?e.form[t]=n.data[t].split(""):e.form[t]=n.data[t].split(",")):"mic"===t?"1"===n.data[t]?e.form[t]=parseInt(n.data[t]):e.form[t]=n.data[t]:e.form[t]="communicationId"===t?n.data[t]+"":n.data[t])}))},init:function(){var e=this;Object(c["K"])().then((function(n){e.modalList=n.data.list})),Object(c["O"])().then((function(n){e.protocolList=n.data})),Object(c["A"])({type:57}).then((function(n){e.mediaList=n.data}))},getSelectDealer:function(e){this.form.reAgent=e.id},getDealer:function(e){var n=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n.columnList=[{title:n.$t("business.terminal.dealerName"),prop:"tname",width:"260"},{title:n.$t("business.terminal.dealerNo"),prop:"dealerCode",width:"200"},{title:n.$t("business.terminal.area"),prop:"pname",width:"160"},{title:n.$t("business.terminal.BrandManagement"),prop:"manageBrand",width:"180"}],t.next=3,Object(l["h"])(e);case 3:a=t.sent,a.data.list.forEach((function(e){e.value=e.tname})),n.tableList=a.data.list,n.total=a.data.total;case 7:case"end":return t.stop()}}),t)})))()},handleSubmit:function(){var e=this;this.$refs["form"].validate((function(n){if(!n)return console.log("error submit!!"),!1;var t=Object(r["a"])({},e.form);t.camera=t.camera.join(","),e.id&&(t["id"]=e.id),console.log(t),e.isloading=!0,Object(c["f"])(t,e.id?"update":"add").then((function(){e.$message.success(e.id?e.$t("common.changeSuccess"):e.$t("common.addSuccess")),e.$router.back()})).finally((function(){e.isloading=!1}))}))}}},d=u,m=t("2877"),p=Object(m["a"])(d,a,i,!1,null,"74ae53fb",null);n["default"]=p.exports},"8d19":function(e,n,t){var a=t("f3ac");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var i=t("499e").default;i("18c1195a",a,!0,{sourceMap:!0,shadowMode:!1})},"97f3":function(e,n,t){"use strict";var a=t("8d19"),i=t.n(a);i.a},a7a7:function(e,n,t){var a=t("24fb");n=a(!0),n.push([e.i,".form-page[data-v-8854aba2]{width:auto}.form-page .el-input[data-v-8854aba2],.form-page .el-select[data-v-8854aba2]{width:400px}.sub-form-container[data-v-8854aba2]{overflow:auto}.inline-row-forms[data-v-8854aba2]{display:flex;align-items:center;padding:20px 0;position:relative}.inline-row-forms[data-v-8854aba2] .el-select{width:auto}.inline-row-forms[data-v-8854aba2]:not(:first-child){padding-top:10px}.inline-row-forms>div[data-v-8854aba2]{display:flex;align-items:center;border-bottom:1px solid #dcdfe6;text-align:center;height:100px;min-width:140px;padding-right:10px}.inline-row-forms>div[data-v-8854aba2] .el-checkbox{margin-right:0}.inline-row-forms>div.fixed[data-v-8854aba2]{display:block;overflow:hidden}.inline-row-forms>div.fixed>div[data-v-8854aba2]{padding-top:15px;width:100%;height:100%;box-shadow:-5px 0 10px -5px rgba(0,0,0,.1)}.fixed[data-v-8854aba2]{position:-webkit-sticky;position:sticky;z-index:998;right:0;background:#fff;padding-left:10px}.operating-box[data-v-8854aba2]{display:flex;align-items:center}.operating-box i[data-v-8854aba2]{font-size:20px;cursor:pointer;color:#fb713f}.operating-box>*[data-v-8854aba2]{margin:0 10px}","",{version:3,sources:["D:/01.workspace/10.test/cicd/test-vue-ui/src/views/app/business/dealerManagement/D:/01.workspace/10.test/cicd/test-vue-ui/src/views/app/business/dealerManagement/D:/01.workspace/10.test/cicd/test-vue-ui/src/views/app/business/dealerManagement/addAndEdit.vue?vue&type=style&index=0&id=8854aba2&scoped=true&lang=less&","D:/01.workspace/10.test/cicd/test-vue-ui/src/views/app/business/dealerManagement/D:/01.workspace/10.test/cicd/test-vue-ui/src/views/app/business/dealerManagement/addAndEdit.vue"],names:[],mappings:"AA6nBA,4BACE,UC5nBF,CD2nBA,6EAQI,WC7nBJ,CDioBA,qCACE,aC/nBF,CDkoBA,mCACE,YAAA,CACA,kBAAA,CAGA,cAAA,CAEA,iBCnoBF,CD4nBA,8CAUI,UCnoBJ,CDsoBE,qDACE,gBCpoBJ,CDsnBA,uCAkBI,YAAA,CAEA,kBAAA,CACA,+BAAA,CACA,iBAAA,CAMA,YAAA,CACA,eAAA,CACA,kBC3oBJ,CD6mBA,oDAyBM,cCnoBN,CD0oBI,6CACE,aAAA,CACA,eCxoBN,CDsoBI,iDAKI,gBAAA,CACA,UAAA,CACA,WAAA,CACA,0CCxoBR,CD8oBA,wBACE,uBAAA,CAAA,eAAA,CACA,WAAA,CACA,OAAA,CACA,eAAA,CACA,iBC5oBF,CD+oBA,gCACE,YAAA,CACA,kBC7oBF,CD2oBA,kCAKI,cAAA,CACA,cAAA,CACA,aC7oBJ,CDsoBA,kCAWI,aC9oBJ",file:"addAndEdit.vue",sourcesContent:["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.form-page {\n  width: auto;\n  //border: 1px solid red;\n  .el-input {\n    width: 400px;\n  }\n\n  .el-select {\n    width: 400px;\n  }\n}\n\n.sub-form-container {\n  overflow: auto;\n}\n\n.inline-row-forms {\n  display: flex;\n  align-items: center;\n  //overflow: auto;\n  //white-space: nowrap;\n  padding: 20px 0;\n  //border-bottom: 1px solid red;\n  position: relative;\n\n  /deep/ .el-select {\n    width: auto;\n  }\n\n  &:not(:first-child) {\n    padding-top: 10px;\n  }\n\n  > div {\n    display: flex;\n    //display: inline-block;\n    align-items: center;\n    border-bottom: 1px solid #dcdfe6;\n    text-align: center;\n\n    /deep/ .el-checkbox {\n      margin-right: 0;\n    }\n\n    height: 100px;\n    min-width: 140px;\n    padding-right: 10px;\n\n    &.fixed {\n      display: block;\n      overflow: hidden;\n\n      > div {\n        padding-top: 15px;\n        width: 100%;\n        height: 100%;\n        box-shadow: -5px 0 10px -5px rgba(0, 0, 0, 0.1);\n      }\n    }\n  }\n}\n\n.fixed {\n  position: sticky;\n  z-index: 998;\n  right: 0;\n  background: #fff;\n  padding-left: 10px;\n}\n\n.operating-box {\n  display: flex;\n  align-items: center;\n\n  i {\n    font-size: 20px;\n    cursor: pointer;\n    color: #fb713f;\n  }\n\n  > * {\n    margin: 0 10px;\n  }\n}\n",".form-page {\n  width: auto;\n}\n.form-page .el-input {\n  width: 400px;\n}\n.form-page .el-select {\n  width: 400px;\n}\n.sub-form-container {\n  overflow: auto;\n}\n.inline-row-forms {\n  display: flex;\n  align-items: center;\n  padding: 20px 0;\n  position: relative;\n}\n.inline-row-forms /deep/ .el-select {\n  width: auto;\n}\n.inline-row-forms:not(:first-child) {\n  padding-top: 10px;\n}\n.inline-row-forms > div {\n  display: flex;\n  align-items: center;\n  border-bottom: 1px solid #dcdfe6;\n  text-align: center;\n  height: 100px;\n  min-width: 140px;\n  padding-right: 10px;\n}\n.inline-row-forms > div /deep/ .el-checkbox {\n  margin-right: 0;\n}\n.inline-row-forms > div.fixed {\n  display: block;\n  overflow: hidden;\n}\n.inline-row-forms > div.fixed > div {\n  padding-top: 15px;\n  width: 100%;\n  height: 100%;\n  box-shadow: -5px 0 10px -5px rgba(0, 0, 0, 0.1);\n}\n.fixed {\n  position: sticky;\n  z-index: 998;\n  right: 0;\n  background: #fff;\n  padding-left: 10px;\n}\n.operating-box {\n  display: flex;\n  align-items: center;\n}\n.operating-box i {\n  font-size: 20px;\n  cursor: pointer;\n  color: #fb713f;\n}\n.operating-box > * {\n  margin: 0 10px;\n}\n"]}]),e.exports=n},c868:function(e,n,t){"use strict";t.r(n);var a=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"form-page"},[t("h4",[e._v(e._s(e.$t("business.dealer.basicInfo")))]),t("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"150px"}},[t("el-form-item",{attrs:{label:e.$t("user.dealerName"),prop:"tname"}},[t("el-input",{model:{value:e.form.tname,callback:function(n){e.$set(e.form,"tname",n)},expression:"form.tname"}})],1),t("el-form-item",{attrs:{label:e.$t("common.type"),prop:"types"}},[t("el-checkbox-group",{model:{value:e.form.types,callback:function(n){e.$set(e.form,"types",n)},expression:"form.types"}},[t("el-checkbox",{attrs:{label:"heavy",name:"type"}},[e._v(e._s(e.$t("business.dealer.zhongzhongCar")))]),t("el-checkbox",{attrs:{label:"light",name:"type"}},[e._v(e._s(e.$t("business.dealer.lightCar")))])],1)],1),e.getType("heavy")?t("el-form-item",{attrs:{label:e.$t("business.dealer.zhongzhongCarNo"),prop:"dealerCode"}},[t("el-input",{model:{value:e.form.dealerCode,callback:function(n){e.$set(e.form,"dealerCode",n)},expression:"form.dealerCode"}})],1):e._e(),e.getType("light")?t("el-form-item",{attrs:{label:e.$t("business.dealer.lightCarNo"),prop:"dealerQkCode"}},[t("el-input",{model:{value:e.form.dealerQkCode,callback:function(n){e.$set(e.form,"dealerQkCode",n)},expression:"form.dealerQkCode"}})],1):e._e(),t("SelectTable",{key:1,attrs:{"value-width":"400px",label:e.$t("business.dealer.area"),placeholder:e.$t("business.dealer.selectArea"),"table-title":e.$t("business.dealer.area"),prop:"pname","search-name":"districtName","column-list":e.columnList,"table-list":e.tableList,total:e.total},on:{search:e.getDealer,obj:e.getSelectDealer},model:{value:e.form.pname,callback:function(n){e.$set(e.form,"pname",n)},expression:"form.pname"}}),t("h4",[e._v(e._s(e.$t("business.dealer.outletsAddress")))]),t("MapModal",{attrs:{"center-info":e.centerInfo,prop:"companyAddress","value-width":"400px",title:e.$t("business.dealer.selectAddress"),label:e.$t("business.dealer.dealerAddress"),placeholder:e.$t("common.select")},on:{confirm:e.handleTeamPositionConfirm},model:{value:e.form.companyAddress,callback:function(n){e.$set(e.form,"companyAddress",n)},expression:"form.companyAddress"}}),t("el-form-item",{attrs:{label:e.$t("business.dealer.secondaryOutlets")}},[t("div",{staticClass:"sub-form-container"},e._l(e.inlineRowForms,(function(n,a){return t("div",{key:a,staticClass:"inline-row-forms"},[t("div",[t("el-input",{staticStyle:{width:"auto"},attrs:{placeholder:e.$t("business.dealer.outletsName")},model:{value:n.name,callback:function(t){e.$set(n,"name",t)},expression:"item.name"}})],1),t("div",[t("el-input",{staticStyle:{width:"auto"},attrs:{placeholder:e.$t("business.dealer.outletsNo")},model:{value:n.code,callback:function(t){e.$set(n,"code",t)},expression:"item.code"}})],1),t("div",[t("MapModal",{attrs:{"center-info":{lat:n.latitude,lng:n.longitude},title:e.$t("business.dealer.selectAddress"),placeholder:e.$t("common.select")},on:{confirm:function(t){return e.handleItemAddressConfirm(t,n)}},model:{value:n.address,callback:function(t){e.$set(n,"address",t)},expression:"item.address"}})],1),t("div",[t("SelectInput",{attrs:{placeholder:"*"+e.$t("business.dealer.riskControlAreaRadius")},model:{value:n.riskArea,callback:function(t){e.$set(n,"riskArea",t)},expression:"item.riskArea"}})],1),t("div",[t("el-input",{staticStyle:{width:"auto"},attrs:{placeholder:e.$t("business.dealer.coverageRadius")+"(KM)"},model:{value:n.coverRadius,callback:function(t){e.$set(n,"coverRadius",t)},expression:"item.coverRadius"}})],1),t("div",[t("el-select",{attrs:{placeholder:e.$t("business.dealer.secondNetworkMode")},model:{value:n.pattern,callback:function(t){e.$set(n,"pattern",t)},expression:"item.pattern"}},[t("el-option",{attrs:{label:e.$t("business.dealer.selfEmployed"),value:1}}),t("el-option",{attrs:{label:e.$t("business.dealer.cooperation"),value:2}})],1)],1),t("div",[t("el-select",{attrs:{placeholder:e.$t("business.dealer.secondNetworkLevel")},model:{value:n.rank,callback:function(t){e.$set(n,"rank",t)},expression:"item.rank"}},[t("el-option",{attrs:{label:e.$t("business.dealer.core"),value:1}}),t("el-option",{attrs:{label:e.$t("business.dealer.important"),value:2}}),t("el-option",{attrs:{label:e.$t("business.dealer.normal"),value:3}})],1)],1),e.getType("heavy")?t("div",[t("el-checkbox-group",{staticStyle:{"text-align":"center"},model:{value:n.checkList,callback:function(t){e.$set(n,"checkList",t)},expression:"item.checkList"}},[t("el-checkbox",{attrs:{label:1}},[e._v(e._s(e.$t("business.dealer.heavyTruckCollection")))]),t("el-checkbox",{attrs:{label:2}},[e._v(e._s(e.$t("business.dealer.heavyChuckLibrary")))])],1)],1):e._e(),e.getType("light")?t("div",[t("el-checkbox-group",{model:{value:n.checkList2,callback:function(t){e.$set(n,"checkList2",t)},expression:"item.checkList2"}},[t("el-checkbox",{attrs:{label:1}},[e._v(e._s(e.$t("business.dealer.lightTruckCollection")))]),t("el-checkbox",{attrs:{label:2}},[e._v(e._s(e.$t("business.dealer.lightChuckLibrary")))])],1)],1):e._e(),t("div",[t("SelectInput",{attrs:{options:e.shoucheRadiusList,placeholder:e.$t("business.dealer.closedCarRadius")},model:{value:n.workRadius,callback:function(t){e.$set(n,"workRadius",t)},expression:"item.workRadius"}})],1),t("div",[t("SelectInput",{attrs:{options:e.shoucheRadiusList,placeholder:e.$t("business.dealer.diskLibraryRadius")},model:{value:n.workRadius2,callback:function(t){e.$set(n,"workRadius2",t)},expression:"item.workRadius2"}})],1),t("div",{staticClass:"fixed"},[t("div",[t("el-checkbox",{attrs:{label:e.$t("business.dealer.lightTruckMainNetwork"),"true-label":1,"false-label":""},on:{change:function(n){return e.handleVirtualChange(a)}},model:{value:n.isVirtual,callback:function(t){e.$set(n,"isVirtual",t)},expression:"item.isVirtual"}}),t("div",{staticClass:"operating-box"},[a===e.inlineRowForms.length-1?t("i",{staticClass:"el-icon-circle-plus",on:{click:function(t){return e.addOrDelRow(1,a,n)}}}):e._e(),t("i",{staticClass:"el-icon-remove",on:{click:function(n){return e.addOrDelRow(2,a)}}}),t("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:n.isAble,callback:function(t){e.$set(n,"isAble",t)},expression:"item.isAble"}})],1)],1)])])})),0)]),t("h4",[e._v(e._s(e.$t("business.dealer.parametersOfTheLockCar")))]),t("el-form-item",{attrs:{label:e.$t("business.dealer.activeRadius"),prop:"enableRadius"}},[t("el-select",{attrs:{placeholder:e.$t("common.select")},model:{value:e.form.enableRadius,callback:function(n){e.$set(e.form,"enableRadius",n)},expression:"form.enableRadius"}},e._l(e.radiusList,(function(e,n){return t("el-option",{key:n,attrs:{label:e.label,value:e.value}})})),1)],1),t("el-form-item",{attrs:{label:e.$t("business.dealer.lockRadius"),prop:"lockRadius"}},[t("el-select",{attrs:{placeholder:e.$t("common.select")},model:{value:e.form.lockRadius,callback:function(n){e.$set(e.form,"lockRadius",n)},expression:"form.lockRadius"}},e._l(e.lockRadiusList,(function(e,n){return t("el-option",{key:n,attrs:{label:e.label,value:e.value}})})),1)],1),t("h4",[e._v(e._s(e.$t("monitor.car.contract")))]),t("el-form-item",{attrs:{label:e.$t("business.dealer.contactor")}},[t("el-input",{model:{value:e.form.companyLinkman,callback:function(n){e.$set(e.form,"companyLinkman",n)},expression:"form.companyLinkman"}})],1),t("el-form-item",{attrs:{label:e.$t("business.dealer.contactPhone")}},[t("el-input",{model:{value:e.form.companyLinktel,callback:function(n){e.$set(e.form,"companyLinktel",n)},expression:"form.companyLinktel"}})],1),t("el-form-item",{attrs:{label:e.$t("business.dealer.fax")}},[t("el-input",{model:{value:e.form.companyFax,callback:function(n){e.$set(e.form,"companyFax",n)},expression:"form.companyFax"}})],1),t("el-form-item",{attrs:{label:e.$t("business.dealer.postCode")}},[t("el-input",{model:{value:e.form.companyCode,callback:function(n){e.$set(e.form,"companyCode",n)},expression:"form.companyCode"}})],1),t("h4",[e._v(e._s(e.$t("business.dealer.dealerImage")))]),t("aj-upload",{ref:"ajUpload",staticStyle:{"margin-bottom":"40px"},attrs:{"img-url":e.form.teamPicture,label:e.$t("business.dealer.uploadImage"),width:"300px",size:.3,accept:".jpg, .png, .jpeg","show-upload-button":!1}}),t("el-form-item",[t("el-button",{attrs:{type:"primary",loading:e.isLoading},on:{click:e.handleSubmit}},[e._v(e._s(e.$t("common.submit")))]),t("el-button",{on:{click:function(n){return e.$router.back()}}},[e._v(e._s(e.$t("common.back")))])],1)],1)],1)},i=[],r=(t("c740"),t("4160"),t("c975"),t("d81d"),t("a434"),t("b0c0"),t("d3b7"),t("159b"),t("2909")),o=(t("96cf"),t("1da1")),s=t("5530"),l=t("da9c"),c=t("bee6"),u=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"map-modal"},[t("el-form-item",{attrs:{label:e.label,prop:e.prop}},[t("el-input",e._b({style:{width:e.valueWidth},attrs:{readonly:"",value:e.showValue},on:{focus:e.handleOpen}},"el-input",e.$attrs,!1))],1),t("el-dialog",{attrs:{"close-on-click-modal":!1,width:"700px",title:e.title,visible:e.dialogVisible},on:{"update:visible":function(n){e.dialogVisible=n}}},[t("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formInline}},[t("el-form-item",[t("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:e.$t("ajComponents.addressSearchKeywrod")},model:{value:e.formInline.keywords,callback:function(n){e.$set(e.formInline,"keywords",n)},expression:"formInline.keywords"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:e.handleSearch}},[e._v(e._s(e.$t("common.research")))])],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:e.clear}},[e._v(e._s(e.$t("common.clear")))])],1)],1),t("h-map",{staticStyle:{height:"300px","box-sizing":"border-box"},attrs:{center:e.center,zoom:e.zoom,"layer-language":this.$i18n.locale,"zoom-ui":{alignment:"right-bottom"},"zoomrectangle-ui":!1,"mapsettings-ui":!1,"scalebar-ui":!1,"distancemeasurement-ui":{alignment:"right-top"}},on:{ready:e.mapReady}}),t("div",{staticClass:"bottom-form"},[t("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formInline}},[t("el-form-item",{attrs:{label:e.$t("ajComponents.GCJ02Lng")}},[t("el-input",{attrs:{placeholder:e.$t("ajComponents.placeLng")},on:{blur:function(n){return e.handleInputLatLng(n,1)}},model:{value:e.formInline.lng,callback:function(n){e.$set(e.formInline,"lng",n)},expression:"formInline.lng"}})],1),t("el-form-item",{attrs:{label:e.$t("ajComponents.GCJ02Lat")}},[t("el-input",{attrs:{placeholder:e.$t("ajComponents.placeLat")},on:{blur:function(n){return e.handleInputLatLng(n,2)}},model:{value:e.formInline.lat,callback:function(n){e.$set(e.formInline,"lat",n)},expression:"formInline.lat"}})],1),t("el-form-item",{attrs:{label:e.$t("ajComponents.addressDetails")}},[t("el-input",{staticStyle:{width:"520px"},model:{value:e.formInline.title,callback:function(n){e.$set(e.formInline,"title",n)},expression:"formInline.title"}})],1)],1)],1),t("div",{staticStyle:{"text-align":"center"},attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"primary",disabled:!e.formInline.title},on:{click:e.handleConfirm}},[e._v(e._s(e.$t("common.confirm")))]),t("el-button",{on:{click:function(n){e.dialogVisible=!1}}},[e._v(e._s(e.$t("common.cancel")))])],1)],1)],1)},d=[],m=(t("498a"),t("09cb")),p={lat:"39.907950481032636",lng:"116.38146057128907"},f={name:"AjMapModal",props:{label:String,title:String,value:String,valueWidth:String,prop:String,centerInfo:{type:Object,default:function(){return p}}},data:function(){return{showValue:this.value,platform:{},center:p,zoom:10,dialogVisible:!1,formInline:Object(s["a"])(Object(s["a"])({keywords:""},p),{},{title:""}),flag:!1}},watch:{value:function(e){console.log("更新",e),this.showValue=e,this.formInline.title=e}},mounted:function(){},methods:{handleOpen:function(){this.dialogVisible=!0},mapReady:function(e){var n=this,t=e.H,a=e.map,i=(e.ui,e.behavior,e.defaultLayers),r=e.platform;window.H=t,this.MAP=a,this.defaultLayers=i,this.platform=r,this.handleParsePosition(this.center),this.MAP.addEventListener("tap",(function(e){n.formInline.title="";var t=a.screenToGeo(e.currentPointer.viewportX,e.currentPointer.viewportY);n.setMarker(t),n.formInline.lat=t.lat,n.formInline.lng=t.lng,n.handleParsePosition(t,"init")}))},setMarker:function(e){var n=new window.H.map.Marker(e);n.icon.b.x=7.5,n.icon.b.y=18,n.icon.c.w=15,n.icon.c.h=20;var t=this.MAP.getObjects();t.length>0&&this.MAP.removeObjects(t),this.MAP.addObject(n)},handleParsePosition:function(e,n){var t=this;m["a"].getRevGeocode(e).then((function(e){n&&t.flag||(t.formInline.title=e.title)}))},handleInputLatLng:function(e,n){var t={lng:this.formInline.lng,lat:this.formInline.lat};1===n?t.lng=e.target.value:t.lat=e.target.value,this.MAP.setCenter(t),this.MAP.setZoom(10),this.handleParsePosition(t)},handleSearch:function(){var e=this;if(""!==this.formInline.keywords.trim()){var n=this.platform.getSearchService();n.geocode({q:this.formInline.keywords,lang:"zh"},(function(n){var t=n.items[0];t?(e.formInline.title=t.title,e.formInline.lat=1e3*t.position.lat,e.formInline.lng=1e3*t.position.lng,e.setMarker(t.position),e.MAP.setCenter(t.position),e.MAP.setZoom(10)):e.$message.error(e.$t("ajComponents.noSearchResult"))}),(function(){e.$message.error(e.$t("ajComponents.errTip"))}))}else this.$message.error(this.$t("ajComponents.placeAddress"))},clear:function(){this.formInline.keywords=""},handleConfirm:function(){this.$emit("input",this.formInline.title),this.$emit("confirm",this.formInline),this.showValue=this.formInline.title,this.clear(),this.dialogVisible=!1}}},b=f,h=(t("97f3"),t("2877")),g=Object(h["a"])(b,u,d,!1,null,"671398ed",null),v=g.exports,k=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"select-input"},[t("el-input",e._b({attrs:{value:e.value},on:{input:function(n){return e.$emit("input",n)}}},"el-input",e.$attrs,!1)),t("div",{staticClass:"select-container"},[t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:e.$t("common.placeSelect"),value:""},on:{change:function(n){return e.$emit("input",n)}}},e._l(e.options,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),t("i",{staticClass:"el-icon-arrow-down"})],1)],1)},A=[],y=(t("a9e3"),{name:"AjSelectInput",props:{value:[String,Number],options:{type:Array,default:function(){return[{label:"10KM",value:10},{label:"20KM",value:20},{label:"50KM",value:50}]}}},methods:{}}),x=y,$=(t("2cef"),Object(h["a"])(x,k,A,!1,null,"613dd80b",null)),w=$.exports,C=t("b654"),L=t("321e"),I={name:"",code:"",longitude:"",latitude:"",address:"",riskArea:"",coverRadius:"",pattern:"",rank:"",workRadius:"",workRadius2:"",checkList:[],checkList2:[],isVirtual:"",isAble:0},_=1e5,j=1e3,O={name:"AddAndEdit",components:{SelectTable:c["a"],SelectInput:w,MapModal:v,ajUpload:C["a"]},data:function(){return{types:[],isLoading:!1,form:{types:[],isZL:0,tname:"",parentId:"",pname:"",dealerCode:"",dealerQkCode:"",companyAddress:"",companyLinkman:"",companyLinktel:"",companyFax:"",companyCode:"",teamLat:"",teamLon:"",enableRadius:"",lockRadius:"",teamPicture:""},rules:{tname:[{required:!0,message:"请输入经销商名称",trigger:"blur"}],types:[{required:!0,message:"请选择类型",trigger:"change"}],dealerCode:[{required:!0,message:"请输入中重卡编码",trigger:"blur"}],dealerQkCode:[{required:!0,message:"请输入轻卡编码",trigger:"blur"}],pname:[{required:!0,message:"请选择所属经销商",trigger:"change"}],companyAddress:[{required:!0,message:"请选择经销商地址",trigger:"change"}],enableRadius:[{required:!0,message:"请选择激活半径",trigger:"change"}],lockRadius:[{required:!0,message:"请选择锁车半径",trigger:"change"}]},tableList:[],columnList:[],total:0,inlineRowForms:[],radiusList:[{label:"5KM",value:5e3},{label:"10KM",value:1e4},{label:"15KM",value:15e3},{label:"20KM",value:2e4},{label:"30KM",value:3e4},{label:"50KM",value:5e4}],lockRadiusList:[{label:"2KM",value:2e3},{label:"5KM",value:5e3},{label:"10KM",value:1e4},{label:"15KM",value:15e3},{label:"20KM",value:2e4},{label:"30KM",value:3e4}],shoucheRadiusList:[{label:"5KM",value:5},{label:"10KM",value:10},{label:"50KM",value:50},{label:"100KM",value:100},{label:"200KM",value:200},{label:"300KM",value:300},{label:"400KM",value:400},{label:"500KM",value:500},{label:"1000KM",value:1e3}],centerInfo:{}}},computed:{getType:function(){var e=this;return function(n){return e.form.types.indexOf(n)>-1}},id:function(){return this.$route.params.id}},mounted:function(){console.log(this.$route.params.id),this.$route.params.id?this.getDetails():this.inlineRowForms.push(Object(s["a"])({},I))},methods:{getDetails:function(){var e=this;Object(l["F"])({tid:this.id}).then((function(n){for(var t in e.form)Object.prototype.hasOwnProperty.call(n.data,t)&&(e.form[t]=n.data[t]);e.form.teamLat=e.form.teamLat/_,e.form.teamLon=e.form.teamLon/_,e.form.types=e.types;var a=[];n.data.secdTeam.forEach((function(n){2===n.workType&&(n.workRadius2=n.workRadius),1===n.loadType&&(e.form.types.indexOf("heavy")<0&&e.form.types.push("heavy"),n.checkList?n.checkList.push(n.workType):n.checkList=[n.workType]),2===n.loadType&&(e.form.types.indexOf("light")<0&&e.form.types.push("light"),n.checkList2?n.checkList2.push(n.workType):n.checkList2=[n.workType]);var t=a.findIndex((function(e){return e.name===n.name}));t<0?a.push(n):a[t]=Object(s["a"])(Object(s["a"])({},a[t]),n)})),console.log("结果",a),e.inlineRowForms=a.map((function(e){var n={};for(var t in I)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t]);return console.log(n),n.latitude=n.latitude/_,n.longitude=n.longitude/_,n.riskArea=n.riskArea/j,n.workRadius=n.workRadius/j,n.workRadius2=n.workRadius2/j,n.coverRadius=n.coverRadius/j,n}))}))},getSelectDealer:function(e){this.form.parentId=e.id},getDealer:function(e){var n=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n.columnList=[{title:"序号",type:"index"},{title:"所属区域",prop:"districtName"},{title:"上级销售区域",prop:"pdistrictName"},{title:"联系人",prop:"linkMan"}],t.next=3,Object(l["bb"])(Object(s["a"])(Object(s["a"])({},e),{},{type:0}));case 3:a=t.sent,a.data.list.forEach((function(e){e.value=e.districtName})),n.tableList=a.data.list,n.total=a.data.total;case 7:case"end":return t.stop()}}),t)})))()},addOrDelRow:function(e,n,t){for(var a in console.log(t),t)if(""===t[a]&&"isVirtual"!==a)return void this.$message.error("请填写二级网点信息");1===e?this.inlineRowForms.push(Object(s["a"])({},I)):this.inlineRowForms.length>1&&this.inlineRowForms.splice(n,1)},handleTeamPositionConfirm:function(e){console.log(e),this.form.teamLat=e.lat,this.form.teamLon=e.lng},handleItemAddressConfirm:function(e,n){console.log(e,n),n.address=e.title},handleVirtualChange:function(e){this.inlineRowForms.forEach((function(n,t){e!==t&&(n.isVirtual="")}))},delObjInfo:function(e){return e.riskArea=e.riskArea*j,e.workRadius=e.workRadius*j,e.coverRadius=e.coverRadius*j,e.latitude=parseInt(e.latitude*_),e.longitude=parseInt(e.longitude*_),delete e.checkList,delete e.checkList2,delete e.workRadius2,e},handleSubmit:function(){var e=this;console.log("提交"),this.$refs["form"].validate((function(n){if(!n)return console.log("error submit!!"),!1;var t=[],a=Object(r["a"])(e.inlineRowForms);a.forEach((function(n,a){n.checkList&&n.checkList.length>0&&n.checkList.forEach((function(a){var i=e.delObjInfo(Object(s["a"])(Object(s["a"])({},n),{},{workType:a,loadType:1,workRadius:1===a?n.workRadius:n.workRadius2}));t.push(Object(L["g"])(i))})),n.checkList2&&n.checkList2.length>0&&n.checkList2.forEach((function(a){var i=e.delObjInfo(Object(s["a"])(Object(s["a"])({},n),{},{workType:a,loadType:2,workRadius:1===a?n.workRadius:n.workRadius2}));t.push(Object(L["g"])(i))}))})),console.log(t,t.length);var i=Object(s["a"])(Object(s["a"])({},e.form),{},{hySecdTeamList:JSON.stringify(t),govCodePrvc:11e4,govCodeCity:110100});delete i.types,e.id&&(i.id=e.id);var o=e.form.types.indexOf("heavy")>-1,c=e.form.types.indexOf("light")>-1;i.lightHeavyFlg=o&&c?3:o&&!c?2:1,i.teamLat=parseInt(i.teamLat*_),i.teamLon=parseInt(i.teamLon*_),console.log(i),e.$refs.ajUpload.upload().then((function(n){i.teamPicture=n.fullPath,e.isLoading=!0,Object(l["d"])(Object(L["g"])({dealermanager:i}),e.$route.params.id?2:1).then((function(){e.$message.success(e.id?"修改成功":"新增成功"),e.$router.back()})).finally((function(){e.isLoading=!1}))}))}))}}},D=O,R=(t("fd02"),Object(h["a"])(D,a,i,!1,null,"8854aba2",null));n["default"]=R.exports},c9fe:function(e,n,t){var a=t("09ae");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var i=t("499e").default;i("475fc1de",a,!0,{sourceMap:!0,shadowMode:!1})},e4ad:function(e,n,t){"use strict";t.r(n);var a=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"saleAeras-page"},[t("el-card",{staticClass:"card-panel"},[t("el-form",{attrs:{inline:!0,model:e.querys,"label-position":"right","label-width":"110px"}},[t("el-form-item",{attrs:{label:e.$t("business.saleArea.areaName")}},[t("el-input",{staticClass:"search-item",attrs:{placeholder:e.$t("business.saleArea.selectAreaName")},model:{value:e.querys.tname,callback:function(n){e.$set(e.querys,"tname",n)},expression:"querys.tname"}})],1),t("el-form-item",{attrs:{label:e.$t("business.saleArea.areaContactPerson")}},[t("el-input",{staticClass:"search-item",attrs:{placeholder:e.$t("business.saleArea.selectAreaContactPerson")},model:{value:e.querys.tlinkman,callback:function(n){e.$set(e.querys,"tlinkman",n)},expression:"querys.tlinkman"}})],1),t("SelectTable",{key:1,attrs:{label:e.$t("business.dealer.area"),placeholder:e.$t("business.dealer.selectAreaDealer"),"table-title":e.$t("business.dealer.area"),prop:"pName","search-name":"districtName","column-list":e.columnList,"table-list":e.tableList,total:e.total},on:{search:e.getDealer,obj:e.getSelectDealer},model:{value:e.querys.pName,callback:function(n){e.$set(e.querys,"pName",n)},expression:"querys.pName"}}),t("el-form-item",[t("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.getList}},[e._v(e._s(e.$t("common.search")))])],1),t("el-form-item",[t("el-button",{attrs:{type:"primary",icon:"el-icon-delete"},on:{click:e.clear}},[e._v(e._s(e.$t("common.clear")))])],1),t("el-form-item",[e.hasPerm(20020)?t("el-button",{attrs:{type:"primary"},on:{click:function(n){return e.$router.push({name:"saleAreasAddAndEdit"})}}},[e._v(e._s(e.$t("common.add")))]):e._e()],1)],1)],1),t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"t-table",staticStyle:{width:"100%"},attrs:{border:"",stripe:"",data:e.tableData}},[t("el-table-column",{attrs:{type:"index",label:e.$t("common.serialNumber"),width:"80"}}),t("el-table-column",{attrs:{prop:"tName",label:e.$t("business.saleArea.areaName")}}),t("el-table-column",{attrs:{prop:"pName",label:e.$t("business.dealer.area")}}),t("el-table-column",{attrs:{prop:"tlinkMan",label:e.$t("business.saleArea.communityContact")}}),t("el-table-column",{attrs:{prop:"tlinkTel",label:e.$t("business.saleArea.communityContactPhone")}}),t("el-table-column",{attrs:{fixed:"right",label:e.$t("common.operate"),width:"120"},scopedSlots:e._u([{key:"default",fn:function(n){return[e.hasPerm(20021)?t("el-button",{attrs:{type:"text",size:"small"},on:{click:function(t){return e.$router.push({name:"saleAreasAddAndEdit",params:{id:n.row.id}})}}},[e._v(e._s(e.$t("common.edit")))]):e._e(),e.hasPerm(20046)?t("el-button",{staticStyle:{color:"red"},attrs:{type:"text",size:"small"},on:{click:function(t){return e.handleDel(n.row)}}},[e._v(e._s(e.$t("common.del")))]):e._e()]}}])})],1),t("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.querys.page_number,limit:e.querys.page_size},on:{"update:page":function(n){return e.$set(e.querys,"page_number",n)},"update:limit":function(n){return e.$set(e.querys,"page_size",n)},pagination:e.getList}})],1)},i=[],r=(t("4160"),t("d3b7"),t("159b"),t("5530")),o=(t("96cf"),t("1da1")),s=t("da9c"),l=t("bee6"),c=t("6407"),u={name:"Index",components:{SelectTable:l["a"],pagination:c["a"]},data:function(){return{querys:{page_number:1,page_size:10},tableList:[],columnList:[],total:0,loading:!1,tableData:[]}},mounted:function(){this.getList()},methods:{getList:function(){var e=this;this.loading=!0,Object(s["ab"])(this.querys).then((function(n){e.tableData=n.data.list,e.total=n.data.total})).finally((function(){return e.loading=!1}))},getSelectDealer:function(e){this.querys.parentId=e.id},getDealer:function(e){var n=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n.columnList=[{title:n.$t("common.serialNumber"),type:"index"},{title:n.$t("business.terminal.area"),prop:"districtName"},{title:n.$t("business.dealer.topSaleArea"),prop:"pdistrictName"},{title:n.$t("business.dealer.contactPerson"),prop:"linkMan"}],t.next=3,Object(s["bb"])(Object(r["a"])(Object(r["a"])({},e),{},{type:0}));case 3:a=t.sent,a.data.list.forEach((function(e){e.value=e.districtName})),n.tableList=a.data.list,n.total=a.data.total;case 7:case"end":return t.stop()}}),t)})))()},clear:function(){this.querys={page_number:1,page_size:10}},handleDel:function(e){var n=this;this.$confirm(this.$t("common.confirmDel"),this.$t("common.notice"),{confirmButtonText:this.$t("common.confirm"),cancelButtonText:this.$t("common.cancel"),type:"warning"}).then((function(){Object(s["t"])({tid:e.id,tName:e.tName}).then((function(){n.$message.success(n.$t("common.delSuccess")),n.getList()}))})).catch((function(){}))}}},d=u,m=t("2877"),p=Object(m["a"])(d,a,i,!1,null,"9831a1c2",null);n["default"]=p.exports},e6ee:function(e,n,t){"use strict";t.r(n);var a=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"form-page"},[t("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"150px"}},[t("el-form-item",{attrs:{label:e.$t("business.saleArea.areaName"),prop:"tName"}},[t("el-input",{model:{value:e.form.tName,callback:function(n){e.$set(e.form,"tName",n)},expression:"form.tName"}})],1),t("SelectTable",{key:1,attrs:{label:e.$t("business.dealer.area"),placeholder:e.$t("business.dealer.selectAreaDealer"),"table-title":e.$t("business.dealer.area"),prop:"pName","search-name":"districtName","column-list":e.columnList,"table-list":e.tableList,total:e.total},on:{search:e.getDealer,obj:e.getSelectDealer},model:{value:e.form.pName,callback:function(n){e.$set(e.form,"pName",n)},expression:"form.pName"}}),t("el-form-item",{attrs:{prop:"country",label:e.$t("business.saleArea.country")}},[t("el-radio-group",{model:{value:e.form.country,callback:function(n){e.$set(e.form,"country",n)},expression:"form.country"}},e._l(e.countryList,(function(n){return t("el-radio",{key:n.id,attrs:{disabled:"",label:n.id}},[e._v(e._s(n.name))])})),1)],1),t("el-form-item",{attrs:{label:e.$t("business.saleArea.areaContactPerson")}},[t("el-input",{model:{value:e.form.tlinkMan,callback:function(n){e.$set(e.form,"tlinkMan",n)},expression:"form.tlinkMan"}})],1),t("el-form-item",{attrs:{label:e.$t("business.dealer.contactPhone")}},[t("el-input",{model:{value:e.form.tlinkTel,callback:function(n){e.$set(e.form,"tlinkTel",n)},expression:"form.tlinkTel"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:e.handleSubmit}},[e._v(e._s(e.$t("common.submit")))]),t("el-button",{on:{click:function(n){return e.$router.back()}}},[e._v(e._s(e.$t("common.back")))])],1)],1)],1)},i=[],r=(t("4160"),t("159b"),t("5530")),o=(t("96cf"),t("1da1")),s=t("bee6"),l=t("da9c"),c={name:"SaleAerasAddAndEdit",components:{SelectTable:s["a"]},data:function(){return{form:{id:void 0,tName:"",pName:"",parentId:"",tlinkMan:"",tlinkTel:"",country:""},dialogTableVisible:!1,tableList:[],columnList:[],total:0,rules:{tName:[{required:!0,message:this.$t("business.saleArea.selectAreaName"),trigger:"blur"}],pName:[{required:!0,message:this.$t("business.dealer.selectAreaDealer"),trigger:"change"}],country:[{required:!0,message:this.$t("business.saleArea.selectCountry"),trigger:"change"}]}}},computed:{countryList:function(){return[{id:1,name:this.$t("business.saleArea.V")},{id:2,name:this.$t("business.saleArea.P")},{id:3,name:this.$t("business.saleArea.N")},{id:4,name:this.$t("business.saleArea.C")}]}},mounted:function(){this.$route.params.id&&this.init()},methods:{init:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){var t,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,Object(l["C"])({id:e.$route.params.id});case 2:t=n.sent,a=t.data,e.form={id:e.$route.params.id,tName:a.tName,pName:a.pName,parentId:a.parentId,tlinkMan:a.tlinkMan,tlinkTel:a.tlinkTel,country:a.country};case 5:case"end":return n.stop()}}),n)})))()},getSelectDealer:function(e){this.form.parentId=e.id,this.form.country=e.country},getDealer:function(e){var n=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n.columnList=[{title:n.$t("common.serialNumber"),type:"index"},{title:n.$t("business.terminal.area"),prop:"districtName"},{title:n.$t("business.dealer.topSaleArea"),prop:"pdistrictName"},{title:n.$t("business.dealer.contactPerson"),prop:"linkMan"}],t.next=3,Object(l["bb"])(Object(r["a"])(Object(r["a"])({},e),{},{type:0}));case 3:a=t.sent,a.data.list.forEach((function(e){e.value=e.districtName})),n.tableList=a.data.list,n.total=a.data.total;case 7:case"end":return t.stop()}}),t)})))()},handleSubmit:function(){var e=this;this.$refs["form"].validate(function(){var n=Object(o["a"])(regeneratorRuntime.mark((function n(t){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!t){n.next=7;break}return n.next=3,Object(l["e"])(e.form,!!e.$route.params.id);case 3:e.$message.success(e.$route.params.id?e.$t("common.changeSuccess"):e.$t("common.addSuccess")),e.$router.back(),n.next=9;break;case 7:return console.log("error submit!!"),n.abrupt("return",!1);case 9:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())}}},u=c,d=t("2877"),m=Object(d["a"])(u,a,i,!1,null,"d5054792",null);n["default"]=m.exports},f3ac:function(e,n,t){var a=t("24fb");n=a(!0),n.push([e.i,".map-modal[data-v-671398ed] .here-map{position:relative!important;box-sizing:border-box}.demo-form-inline[data-v-671398ed] .el-form-item{margin-bottom:20px}.bottom-form[data-v-671398ed]{padding-top:20px}","",{version:3,sources:["D:/01.workspace/10.test/cicd/test-vue-ui/src/components/D:/01.workspace/10.test/cicd/test-vue-ui/src/components/D:/01.workspace/10.test/cicd/test-vue-ui/src/components/aj-mapModal.vue?vue&type=style&index=0&id=671398ed&scoped=true&lang=less&","D:/01.workspace/10.test/cicd/test-vue-ui/src/components/D:/01.workspace/10.test/cicd/test-vue-ui/src/components/aj-mapModal.vue"],names:[],mappings:"AAwOA,sCAEI,2BAAA,CACA,qBCxOJ,CD2OA,iDAEI,kBC1OJ,CD6OA,8BACE,gBC3OF",file:"aj-mapModal.vue",sourcesContent:["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.map-modal {\n  /deep/ .here-map {\n    position: relative !important;\n    box-sizing: border-box;\n  }\n}\n.demo-form-inline {\n  /deep/ .el-form-item {\n    margin-bottom: 20px;\n  }\n}\n.bottom-form {\n  padding-top: 20px;\n}\n",".map-modal /deep/ .here-map {\n  position: relative !important;\n  box-sizing: border-box;\n}\n.demo-form-inline /deep/ .el-form-item {\n  margin-bottom: 20px;\n}\n.bottom-form {\n  padding-top: 20px;\n}\n"]}]),e.exports=n},fd02:function(e,n,t){"use strict";var a=t("71c0"),i=t.n(a);i.a}}]);
//# sourceMappingURL=terminalEdit.5b3a9fd3.js.map