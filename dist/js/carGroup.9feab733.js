(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["carGroup"],{"129f":function(e,r){e.exports=Object.is||function(e,r){return e===r?0!==e||1/e===1/r:e!=e&&r!=r}},"321e":function(e,r,a){"use strict";a.d(r,"c",(function(){return i})),a.d(r,"d",(function(){return s})),a.d(r,"a",(function(){return l})),a.d(r,"b",(function(){return o})),a.d(r,"i",(function(){return c})),a.d(r,"g",(function(){return u})),a.d(r,"e",(function(){return m})),a.d(r,"f",(function(){return d})),a.d(r,"h",(function(){return p}));var t=a("6ebf"),n=t["a"],i=function(e,r,a){var t=/[@#\$%\^&\*\!~`'",:+=?\\]+/g;if(t.test(r))return a(new Error(n.t("common.rules.checkString")));a()},s=function(e,r,a){var t=/^(https|http|ftp|mms)?:\/\//;if(!t.test(r))return a(new Error(n.t("common.rules.checkUrl")));a()},l=function(e,r,a){var t=/^[1-9]\d*$/;if(!t.test(r))return a(new Error(n.t("common.rules.Num")));a()},o=function(e,r,a){var t=/^[0-9a-fA-F]{6}$/;if(!t.test(r))return a(new Error(n.t("common.rules.checkColor")));a()},c=function(e,r,a){var t=/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+((\.[a-zA-Z0-9_-]{2,3}){1,2})$/;if(!t.test(r))return a(new Error(n.t("common.rules.validateEmail")));a()},u=function(e){for(var r in e)e[r]instanceof Object&&(e[r]=JSON.stringify(e[r]));return e},m=function(e,r,a){var t=/^[a-zA-Z0-9]{1,16}$/;if(!t.test(r))return a(new Error(n.t("common.rules.letterOrNumber16")));a()},d=function(e,r,a){var t=/^[1][0-9]{10}$/;if(!t.test(r))return a(new Error(n.t("common.rules.mobilePhone")));a()},p=function(e,r,a){var t=/^\d+$/;if(!t.test(r))return a(new Error(n.t("common.rules.publicTel")));a()}},3671:function(e,r,a){var t=a("d4ed");"string"===typeof t&&(t=[[e.i,t,""]]),t.locals&&(e.exports=t.locals);var n=a("499e").default;n("379b08a3",t,!0,{sourceMap:!0,shadowMode:!1})},"489f":function(e,r,a){"use strict";a.r(r);var t=function(){var e=this,r=e.$createElement,a=e._self._c||r;return a("div",{staticClass:"app-container"},[a("el-card",[a("el-row",{staticClass:"title-item"},[e._v(" "+e._s(e.$t("userDetail.userInfo"))+" ")]),a("el-row",{staticClass:"info-row"},[a("el-col",{attrs:{span:11,offset:2}},[e._v(" "+e._s(e.$t("userDetail.phone"))),a("span",{staticClass:"basicinfo"},[e._v(e._s(e.basicinfo.phone))])]),a("el-col",{attrs:{span:11}},[e._v(" "+e._s(e.$t("userDetail.userName"))),a("span",{staticClass:"basicinfo"},[e._v(e._s(e.basicinfo.accountName))])])],1),a("el-row",{staticClass:"info-row"},[a("el-col",{attrs:{span:11,offset:2}},[e._v(" "+e._s(e.$t("userDetail.userID"))),a("span",{staticClass:"basicinfo"},[e._v(e._s(e.basicinfo.ucId))])]),a("el-col",{attrs:{span:11}},[e._v(" "+e._s(e.$t("userDetail.account"))),a("span",{staticClass:"basicinfo"},[e._v(e._s(e.basicinfo.account))])])],1),a("el-row",{staticClass:"info-row"},[a("el-col",{attrs:{span:11,offset:2}},[e._v(" "+e._s(e.$t("userDetail.licenseType"))),a("span",{staticClass:"basicinfo"},[e._v(e._s(e.basicinfo.license))])]),a("el-col",{attrs:{span:11}},[e._v(" "+e._s(e.$t("userDetail.createTime"))),a("span",{staticClass:"basicinfo"},[e._v(e._s(e.basicinfo.createDate))])])],1),a("el-row",{staticClass:"info-row"},[a("el-col",{attrs:{span:11,offset:2}},[e._v(" "+e._s(e.$t("userDetail.trueName"))),a("span",{staticClass:"basicinfo"},[e._v(e._s(e.basicinfo.userName))])]),a("el-col",{attrs:{span:11}},[e._v(" "+e._s(e.$t("userDetail.creater"))),a("span",{staticClass:"basicinfo"},[e._v(e._s(e.basicinfo.createName))])])],1),a("el-row",{staticClass:"info-row"},[a("el-col",{attrs:{span:11,offset:2}},[e._v(" "+e._s(e.$t("userDetail.idNo"))),a("span",{staticClass:"basicinfo"},[e._v(e._s(e.basicinfo.identityCard))])]),a("el-col",{attrs:{span:11}},[e._v(" "+e._s(e.$t("userDetail.createSource"))),a("span",{staticClass:"basicinfo"},[e._v(e._s(e.basicinfo.registered))])])],1),a("el-row",{staticClass:"info-row"},[a("el-col",{attrs:{span:11,offset:2}},[e._v(" "+e._s(e.$t("userDetail.registeredSource"))),a("span",{staticClass:"basicinfo"},[e._v(e._s(e.basicinfo.registerOrigin))])]),a("el-col",{attrs:{span:11}},[e._v(" "+e._s(e.$t("userDetail.refereeAccount"))),a("span",{staticClass:"basicinfo"},[e._v(e._s(e.basicinfo.recommendPerson))])])],1),a("el-row",{staticClass:"info-row"},[a("el-col",{attrs:{span:11,offset:2}},[e._v(" "+e._s(e.$t("userDetail.refereePhone"))),a("span",{staticClass:"basicinfo"},[e._v(e._s(e.basicinfo.recommendPhone))])]),a("el-col",{attrs:{span:11}},[e._v(" "+e._s(e.$t("userDetail.refereeSource"))),a("span",{staticClass:"basicinfo"},[e._v(e._s(e.basicinfo.recommendOrigin))])])],1),a("el-row",{staticClass:"info-row"},[a("el-col",{attrs:{span:11,offset:2}},[e._v(" "+e._s(e.$t("userDetail.firstLogonTime"))),a("span",{staticClass:"basicinfo"},[e._v(e._s(e.basicinfo.firstLoginDate))])])],1),a("el-row",{staticClass:"title-item"},[a("el-col",{attrs:{span:1.5}},[e._v(" "+e._s(e.$t("userDetail.bindCars"))+" ")]),a("el-col",{staticClass:"addBtn",attrs:{span:1}},[a("el-button",{attrs:{plain:"",type:"primary",size:"small"},on:{click:e.unbind}},[e._v(" "+e._s(e.$t("userDetail.unbind"))+" ")])],1)],1),a("el-row",{staticClass:"info-row"},[a("el-table",{staticClass:"t-table",staticStyle:{width:"100%","text-align":"center"},attrs:{stripe:"",data:e.carsData},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{prop:"carRole",align:"center",label:e.$t("userDetail.identity")},scopedSlots:e._u([{key:"default",fn:function(r){return[e._v(" "+e._s(e.showCarRoleLabel(r.row.carRole))+" ")]}}])}),a("el-table-column",{attrs:{prop:"vin",align:"center",label:"VIN"},scopedSlots:e._u([{key:"default",fn:function(r){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.goToEdit(r.row.carId,"detail")}}},[e._v(e._s(r.row.vin))])]}}])}),a("el-table-column",{attrs:{prop:"carSerise",align:"center",label:e.$t("userDetail.carSeries")}}),a("el-table-column",{attrs:{prop:"carModel",align:"center",label:e.$t("userDetail.carModel")}}),a("el-table-column",{attrs:{prop:"dischargeName",align:"center",label:e.$t("userDetail.discharge")}}),a("el-table-column",{attrs:{prop:"carNumber",align:"center",label:e.$t("userDetail.carNo")}}),a("el-table-column",{attrs:{prop:"invoiceNo",align:"center",label:e.$t("userDetail.invoiceNumber")}}),a("el-table-column",{attrs:{prop:"invoicePhoto",align:"center",label:e.$t("userDetail.photo")},scopedSlots:e._u([{key:"default",fn:function(r){return[a("img",{staticStyle:{width:"150px"},attrs:{src:r.row.invoicePhoto,alt:e.$t("userDetail.photo")}})]}}])}),a("el-table-column",{attrs:{prop:"salesDate",align:"center",label:e.$t("userDetail.STD")}}),a("el-table-column",{attrs:{prop:"mbSalesDate",align:"center",label:e.$t("userDetail.AAK")}}),a("el-table-column",{attrs:{prop:"driveing",align:"center",label:e.$t("userDetail.whetherDriving")},scopedSlots:e._u([{key:"default",fn:function(r){return[e._v(" "+e._s(1*r.row.driveing>0?e.$t("userDetail.yes"):e.$t("userDetail.no"))+" ")]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.query.page_number,limit:e.query.page_size},on:{"update:page":function(r){return e.$set(e.query,"page_number",r)},"update:limit":function(r){return e.$set(e.query,"page_size",r)},pagination:e.getCarList}})],1),a("el-row",{staticClass:"title-item"},[e._v(" "+e._s(e.$t("userDetail.bindCarTeams"))+" ")]),a("el-row",{staticClass:"info-row"},[a("el-table",{staticClass:"t-table",staticStyle:{width:"100%","text-align":"center"},attrs:{stripe:"",data:e.teamsData}},[a("el-table-column",{attrs:{prop:"carRole",align:"center",label:e.$t("userDetail.identity")},scopedSlots:e._u([{key:"default",fn:function(r){return[e._v(" "+e._s(e.showCarRoleLabel(r.row.carRole))+" ")]}}])}),a("el-table-column",{attrs:{prop:"teamName",align:"center",label:e.$t("userDetail.carTeamName")},scopedSlots:e._u([{key:"default",fn:function(r){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.goToGroup(r.row)}}},[e._v(e._s(r.row.teamName))])]}}])}),a("el-table-column",{attrs:{prop:"teamCarNum",align:"center",label:e.$t("userDetail.carNum")}}),a("el-table-column",{attrs:{prop:"teamDriverNum",align:"center",label:e.$t("userDetail.driverNum")}})],1)],1)],1)],1)},n=[],i=(a("99af"),a("4160"),a("a15b"),a("ac1f"),a("1276"),a("159b"),a("96cf"),a("1da1")),s=a("da9c"),l=a("6407"),o={name:"UserDetail",components:{pagination:l["a"]},data:function(){return{query:{page_number:1,page_size:20},total:0,basicinfo:{account:null,accountName:null,carOwner:null,createDate:null,createName:null,firstLoginDate:null,id:null,identityCard:null,lastLogonTime:null,license:null,phone:null,recommendOrigin:null,recommendPerson:null,recommendPhone:null,registerOrigin:null,registered:null,role:null,ucId:null,userName:null},carsData:[],teamsData:[]}},activated:function(){this.getUserBaseInfo()},mounted:function(){this.getUserBaseInfo()},methods:{goToGroup:function(e){var r={carTeamid:e.teamId,carTeamName:e.teamName,carTeamLevel:e.carTeamLevel};this.$router.push({path:"/business/carGroupDetail",query:{basicinfo:r}})},goToEdit:function(e,r){this.$router.push("/basicInfo/carManage/".concat(e,"/").concat(r))},handleSelectionChange:function(e){console.log(e)},showCarRoleLabel:function(e){var r=this,a=e.split(","),t=[];return a.forEach((function(e,a){"0"==e||"1"==e?t[a]=r.$t("userDetail.manager"):"2"==e?t[a]=r.$t("userDetail.driver"):"3"==e&&(t[a]=r.$t("userDetail.owner"))})),t.join()},getCarList:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){var a,t;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a={id:e.basicinfo.id,page_number:e.query.page_number,page_size:e.query.page_size},r.next=3,Object(s["nb"])(a);case 3:t=r.sent,e.carsData=t.data.list,e.total=t.data.total;case 6:case"end":return r.stop()}}),r)})))()},getTeamList:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){var a,t;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a={id:e.basicinfo.id},r.next=3,Object(s["ob"])(a);case 3:t=r.sent,e.teamsData=t.data.list;case 5:case"end":return r.stop()}}),r)})))()},unbind:function(){},getUserBaseInfo:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,Object(s["mb"])({phone:e.$route.query.basicinfo.phone});case 2:a=r.sent,e.basicinfo=a.data,e.basicinfo.createName=3!=e.basicinfo.registered?"system":e.basicinfo.createName,e.basicinfo.registered=1==e.basicinfo.registered?e.$t("userDetail.driverApp"):2==e.basicinfo.registered?e.$t("userDetail.ownerApp"):3==e.basicinfo.registered?"Tboss":4==e.basicinfo.registered?e.$t("userDetail.teamWeb"):"",e.basicinfo.license=1==e.basicinfo.license?"A1":2==e.basicinfo.license?"A2":3==e.basicinfo.license?"B1":4==e.basicinfo.license?"B2":5==e.basicinfo.license?"C1":6==e.basicinfo.license?"C2":"C3",e.getCarList(),e.getTeamList();case 9:case"end":return r.stop()}}),r)})))()}}},c=o,u=(a("d7f9"),a("2877")),m=Object(u["a"])(c,t,n,!1,null,"2cbebeec",null);r["default"]=m.exports},"4a2e":function(e,r,a){"use strict";var t=function(){var e=this,r=e.$createElement,a=e._self._c||r;return a("div",[a("iframe",{staticStyle:{display:"none"},attrs:{src:e.iframeSrc}}),a("el-dialog",{attrs:{width:"550px","close-on-click-modal":!1,title:e.title,visible:e.dialogPvVisible,"before-close":e.clearAddform},on:{"update:visible":function(r){e.dialogPvVisible=r}},nativeOn:{submit:function(e){e.preventDefault()}}},[a("el-form",{ref:"addForm",attrs:{model:e.addForm}},[a("el-form-item",{attrs:{"label-width":"80px",label:e.$t("user.email")+"：",prop:"email",rules:e.ruless.email}},[a("el-input",{attrs:{size:"small",maxlength:50},model:{value:e.addForm.email,callback:function(r){e.$set(e.addForm,"email",r)},expression:"addForm.email"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.childMethod}},[e._v(e._s(e.$t("common.submit")))])],1)],1)],1)},n=[],i=a("321e"),s={props:{iframeFilter:{type:Object,required:!0,default:function(){return{data:{isEmail:!1}}}}},computed:{title:function(){return this.$t("export.exceed")}},data:function(){return{addForm:{email:""},iframeSrc:null,dialogPvVisible:!1,ruless:{email:[{required:!0,message:"请输入邮箱",trigger:"blur"},{max:50,message:"请输入50个以内的字符",trigger:"change"},{validator:i["i"],trigger:"blur"}]}}},watch:{"iframeFilter.data":function(e,r){e&&e.isEmail?this.dialogPvVisible=!0:this.iframeSrc=e}},methods:{clearAddform:function(){this.$refs["addForm"].resetFields(),this.dialogPvVisible=!1},childMethod:function(){var e=this;this.$refs["addForm"].validate((function(r){if(!r)return!1;e.$emit("exportMethod",e.addForm.email),e.clearAddform()}))}}},l=s,o=a("2877"),c=Object(o["a"])(l,t,n,!1,null,null,null);r["a"]=c.exports},6030:function(e,r,a){var t=a("24fb");r=t(!0),r.push([e.i,".addBtn[data-v-2cbebeec]{display:inline-block;padding-left:10px}","",{version:3,sources:["D:/01.workspace/10.test/cicd/test-vue-ui/src/views/app/business/appUserManage/D:/01.workspace/10.test/cicd/test-vue-ui/src/views/app/business/appUserManage/src/views/app/business/appUserManage/userDetail.vue"],names:[],mappings:"AAkSA,yBACA,oBAAA,CACA,iBACA",file:"userDetail.vue",sourcesContent:['<template>\r\n\t<div class="app-container">\r\n    <el-card>\r\n\r\n      <el-row class="title-item">\r\n        {{$t(\'userDetail.userInfo\')}}\r\n      </el-row>\r\n\r\n      <el-row class="info-row">\r\n        <el-col :span="11" :offset="2">\r\n          {{$t(\'userDetail.phone\')}}<span class="basicinfo">{{basicinfo.phone}}</span>\r\n        </el-col>\r\n        <el-col :span="11">\r\n          {{$t(\'userDetail.userName\')}}<span class="basicinfo">{{basicinfo.accountName}}</span>\r\n        </el-col>\r\n      </el-row>\r\n\r\n      <el-row class="info-row">\r\n        <el-col :span="11" :offset="2">\r\n          {{$t(\'userDetail.userID\')}}<span class="basicinfo">{{basicinfo.ucId}}</span>\r\n        </el-col>\r\n        <el-col :span="11">\r\n          {{$t(\'userDetail.account\')}}<span class="basicinfo">{{basicinfo.account}}</span>\r\n        </el-col>\r\n      </el-row>\r\n\r\n      <el-row class="info-row">\r\n        <el-col :span="11" :offset="2">\r\n          {{$t(\'userDetail.licenseType\')}}<span class="basicinfo">{{basicinfo.license}}</span>\r\n        </el-col>\r\n        <el-col :span="11">\r\n          {{$t(\'userDetail.createTime\')}}<span class="basicinfo">{{basicinfo.createDate}}</span>\r\n        </el-col>\r\n      </el-row>\r\n\r\n      <el-row class="info-row">\r\n        <el-col :span="11" :offset="2">\r\n          {{$t(\'userDetail.trueName\')}}<span class="basicinfo">{{basicinfo.userName}}</span>\r\n        </el-col>\r\n        <el-col :span="11">\r\n          {{$t(\'userDetail.creater\')}}<span class="basicinfo">{{basicinfo.createName}}</span>\r\n        </el-col>\r\n      </el-row>\r\n\r\n      <el-row class="info-row">\r\n        <el-col :span="11" :offset="2">\r\n          {{$t(\'userDetail.idNo\')}}<span class="basicinfo">{{basicinfo.identityCard}}</span>\r\n        </el-col>\r\n        <el-col :span="11">\r\n          {{$t(\'userDetail.createSource\')}}<span class="basicinfo">{{basicinfo.registered}}</span>\r\n        </el-col>\r\n      </el-row>\r\n\r\n      <el-row class="info-row">\r\n        <el-col :span="11" :offset="2">\r\n          {{$t(\'userDetail.registeredSource\')}}<span class="basicinfo">{{basicinfo.registerOrigin}}</span>\r\n        </el-col>\r\n        <el-col :span="11">\r\n          {{$t(\'userDetail.refereeAccount\')}}<span class="basicinfo">{{basicinfo.recommendPerson}}</span>\r\n        </el-col>\r\n      </el-row>\r\n\r\n      <el-row class="info-row">\r\n        <el-col :span="11" :offset="2">\r\n          {{$t(\'userDetail.refereePhone\')}}<span class="basicinfo">{{basicinfo.recommendPhone}}</span>\r\n        </el-col>\r\n        <el-col :span="11">\r\n          {{$t(\'userDetail.refereeSource\')}}<span class="basicinfo">{{basicinfo.recommendOrigin}}</span>\r\n        </el-col>\r\n      </el-row>\r\n\r\n      <el-row class="info-row">\r\n        <el-col :span="11" :offset="2">\r\n          {{$t(\'userDetail.firstLogonTime\')}}<span class="basicinfo">{{basicinfo.firstLoginDate}}</span>\r\n        </el-col>\r\n      </el-row>\r\n\r\n      <el-row class="title-item">\r\n        <el-col :span=\'1.5\'>\r\n          {{$t(\'userDetail.bindCars\')}}\r\n        </el-col>\r\n        <el-col class="addBtn" :span=\'1\'>\r\n          <el-button\r\n            plain\r\n            type="primary"\r\n            size="small"\r\n            @click="unbind"\r\n          >\r\n          {{$t(\'userDetail.unbind\')}}\r\n          </el-button> \r\n        </el-col>\r\n      </el-row>\r\n\r\n      <el-row class="info-row">\r\n        <el-table\r\n          class=\'t-table\'\r\n          stripe\r\n          :data="carsData"\r\n          style="width: 100%; text-align: center;"\r\n          @selection-change="handleSelectionChange"\r\n        >\r\n          <el-table-column type="selection" width="55"></el-table-column>\r\n          <el-table-column prop="carRole" align="center" :label="$t(\'userDetail.identity\')">\r\n            <template slot-scope="scope">\r\n              {{showCarRoleLabel(scope.row.carRole)}}\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column prop="vin" align="center" :label="\'VIN\'">\r\n            <template slot-scope="scope">\r\n              <el-button type="text" @click="goToEdit(scope.row.carId, \'detail\')" size="small">{{scope.row.vin}}</el-button>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column prop="carSerise" align="center" :label="$t(\'userDetail.carSeries\')"></el-table-column>\r\n          <el-table-column prop="carModel" align="center" :label="$t(\'userDetail.carModel\')"></el-table-column>\r\n          <el-table-column prop="dischargeName" align="center" :label="$t(\'userDetail.discharge\')"></el-table-column>\r\n          <el-table-column prop="carNumber" align="center" :label="$t(\'userDetail.carNo\')"></el-table-column>\r\n          <el-table-column prop="invoiceNo" align="center" :label="$t(\'userDetail.invoiceNumber\')"></el-table-column>\r\n          <el-table-column prop="invoicePhoto" align="center" :label="$t(\'userDetail.photo\')">\r\n            <template slot-scope="scope">\r\n              <img :src="scope.row.invoicePhoto" :alt="$t(\'userDetail.photo\')" style="width:150px;">\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column prop="salesDate" align="center" :label="$t(\'userDetail.STD\')"></el-table-column>\r\n          <el-table-column prop="mbSalesDate" align="center" :label="$t(\'userDetail.AAK\')"></el-table-column>\r\n          <el-table-column prop="driveing" align="center" :label="$t(\'userDetail.whetherDriving\')">\r\n            <template slot-scope="scope">\r\n              {{scope.row.driveing*1>0?$t(\'userDetail.yes\'):$t(\'userDetail.no\')}}\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n        <pagination\r\n          v-show="total>0"\r\n          :total="total"\r\n          :page.sync="query.page_number"\r\n          :limit.sync="query.page_size"\r\n          @pagination="getCarList"\r\n        />\r\n      </el-row>\r\n\r\n      <el-row class="title-item">\r\n        {{$t(\'userDetail.bindCarTeams\')}}\r\n      </el-row>\r\n\r\n      <el-row class="info-row">\r\n        <el-table\r\n          class=\'t-table\'\r\n          stripe\r\n          :data="teamsData"\r\n          style="width: 100%; text-align: center;"\r\n        >\r\n          <el-table-column prop="carRole" align="center" :label="$t(\'userDetail.identity\')">\r\n            <template slot-scope="scope">\r\n              {{showCarRoleLabel(scope.row.carRole)}}\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column prop="teamName" align="center" :label="$t(\'userDetail.carTeamName\')">\r\n            <template slot-scope="scope">\r\n              <el-button type="text" @click="goToGroup(scope.row)" size="small">{{scope.row.teamName}}</el-button>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column prop="teamCarNum" align="center" :label="$t(\'userDetail.carNum\')"></el-table-column>\r\n          <el-table-column prop="teamDriverNum" align="center" :label="$t(\'userDetail.driverNum\')"></el-table-column>\r\n        </el-table>\r\n      </el-row>\r\n\r\n    </el-card>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nimport { \r\n  userBaseInfo ,\r\n  userInfoCar ,\r\n  userInfoCarTeam\r\n} from "@/api/business/businessService";\r\nimport pagination from \'@/components/pagination\';\r\n\r\nexport default {\r\n  name: \'UserDetail\',\r\n  components: {\r\n    pagination\r\n  },\r\n  data () {\r\n    return {\r\n      query: {\r\n        page_number: 1,\r\n        page_size: 20\r\n      },\r\n      total: 0,\r\n      basicinfo: {\r\n        account: null,\r\n        accountName: null,\r\n        carOwner: null,\r\n        createDate: null,\r\n        createName: null,\r\n        firstLoginDate: null,\r\n        id: null,\r\n        identityCard: null,\r\n        lastLogonTime: null,\r\n        license: null,\r\n        phone: null,\r\n        recommendOrigin: null,\r\n        recommendPerson: null,\r\n        recommendPhone: null,\r\n        registerOrigin: null,\r\n        registered: null,\r\n        role: null,\r\n        ucId: null,\r\n        userName: null\r\n      },\r\n      carsData: [],\r\n      teamsData: []\r\n    }\r\n  },\r\n  activated() {\r\n    this.getUserBaseInfo()\r\n  },\r\n  mounted() {\r\n    this.getUserBaseInfo()\r\n  },\r\n  methods: {\r\n    goToGroup (row) {\r\n      let params = {\r\n        carTeamid: row.teamId ,\r\n        carTeamName: row.teamName ,\r\n        carTeamLevel: row.carTeamLevel\r\n      }\r\n      this.$router.push({\r\n        path: \'/business/carGroupDetail\',\r\n        query: {\r\n          basicinfo : params\r\n        }  \r\n      })\r\n    },\r\n    goToEdit(id, type){\r\n      this.$router.push(`/basicInfo/carManage/${id}/${type}`)\r\n    },\r\n    handleSelectionChange(val) {\r\n      console.log(val)\r\n    },\r\n    showCarRoleLabel (row) {\r\n      let arr = row.split(\',\')\r\n      let arr2 = []\r\n      arr.forEach((item , index) => {\r\n        if (item == \'0\') {\r\n          arr2[index] = this.$t(\'userDetail.manager\')\r\n        } else if (item == \'1\') {\r\n          arr2[index] = this.$t(\'userDetail.manager\')\r\n        } else if (item == \'2\') {\r\n          arr2[index] = this.$t(\'userDetail.driver\')\r\n        } else if (item == \'3\') {\r\n          arr2[index] = this.$t(\'userDetail.owner\')\r\n        }\r\n      })\r\n      return arr2.join()\r\n    },\r\n    async getCarList () {\r\n      let params = {\r\n        id: this.basicinfo.id,\r\n        page_number: this.query.page_number,\r\n        page_size: this.query.page_size\r\n      }\r\n      const cars = await userInfoCar(params);\r\n      this.carsData = cars.data.list\r\n      this.total = cars.data.total\r\n    },\r\n    async getTeamList () {\r\n      let params = {\r\n        id: this.basicinfo.id\r\n      }\r\n      const re = await userInfoCarTeam(params);\r\n      this.teamsData = re.data.list\r\n    },\r\n    unbind () {\r\n\r\n    },\r\n    async getUserBaseInfo () {\r\n      let re = await userBaseInfo({phone:  this.$route.query.basicinfo.phone})\r\n      this.basicinfo = re.data\r\n      this.basicinfo.createName = this.basicinfo.registered!=3?\'system\':this.basicinfo.createName\r\n      this.basicinfo.registered = this.basicinfo.registered==1?this.$t(\'userDetail.driverApp\'):this.basicinfo.registered==2?this.$t(\'userDetail.ownerApp\'):this.basicinfo.registered==3?\'Tboss\':this.basicinfo.registered==4?this.$t(\'userDetail.teamWeb\'):\'\'\r\n      this.basicinfo.license = this.basicinfo.license==1?\'A1\':this.basicinfo.license==2?\'A2\':this.basicinfo.license==3?\'B1\':this.basicinfo.license==4?\'B2\':this.basicinfo.license==5?\'C1\':this.basicinfo.license==6?\'C2\':\'C3\'\r\n      this.getCarList()\r\n      this.getTeamList()\r\n    }\r\n  }\r\n}\r\n<\/script>\r\n\r\n<style scoped>\r\n  .addBtn {\r\n    display: inline-block;\r\n    padding-left: 10px;\r\n  }\r\n</style>\r\n']}]),e.exports=r},"616a":function(e,r,a){"use strict";var t=a("3671"),n=a.n(t);n.a},6407:function(e,r,a){"use strict";var t=function(){var e=this,r=e.$createElement,a=e._self._c||r;return a("div",{staticClass:"pagination-container",class:{hidden:e.hidden}},[a("el-pagination",e._b({attrs:{background:e.background,"current-page":e.currentPage,"page-size":e.pageSize,layout:e.layout,"page-sizes":e.pageSizes,total:e.total},on:{"update:currentPage":function(r){e.currentPage=r},"update:current-page":function(r){e.currentPage=r},"update:pageSize":function(r){e.pageSize=r},"update:page-size":function(r){e.pageSize=r},"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}},"el-pagination",e.$attrs,!1))],1)},n=[],i=a("d4ec"),s=a("bee2"),l=a("262e"),o=a("2caf"),c=a("9ab4"),u=a("60a3"),m=function(e){Object(l["a"])(a,e);var r=Object(o["a"])(a);function a(){return Object(i["a"])(this,a),r.apply(this,arguments)}return Object(s["a"])(a,[{key:"handleSizeChange",value:function(e){this.$emit("pagination",{page:this.currentPage,limit:e})}},{key:"handleCurrentChange",value:function(e){this.$emit("pagination",{page:e,limit:this.pageSize})}},{key:"currentPage",get:function(){return this.page},set:function(e){this.$emit("update:page",e)}},{key:"pageSize",get:function(){return this.limit},set:function(e){this.$emit("update:limit",e)}}]),a}(u["e"]);Object(c["a"])([Object(u["c"])({required:!0})],m.prototype,"total",void 0),Object(c["a"])([Object(u["c"])({default:!1})],m.prototype,"hidden",void 0),Object(c["a"])([Object(u["c"])({default:!0})],m.prototype,"background",void 0),Object(c["a"])([Object(u["c"])({default:function(){}})],m.prototype,"pageSizes",void 0),Object(c["a"])([Object(u["c"])({default:"total, sizes, prev, pager, next, jumper"})],m.prototype,"layout",void 0),Object(c["a"])([Object(u["c"])({default:1})],m.prototype,"page",void 0),Object(c["a"])([Object(u["c"])({default:20})],m.prototype,"limit",void 0),m=Object(c["a"])([u["a"]],m);var d=m,p=d,b=(a("899d"),a("2877")),f=Object(b["a"])(p,t,n,!1,null,"6b7bdeba",null);r["a"]=f.exports},7581:function(e,r,a){var t=a("24fb");r=t(!0),r.push([e.i,"[data-v-2521fad5]:export{menuBg:#304156;menuText:#bfcbd9;menuActiveText:#409eff}.com-search[data-v-2521fad5]{display:inline;margin-left:10px}","",{version:3,sources:["D:/01.workspace/10.test/cicd/test-vue-ui/src/components/D:/01.workspace/10.test/cicd/test-vue-ui/src/components/D:/01.workspace/10.test/cicd/test-vue-ui/src/components/comSearch.vue"],names:[],mappings:"AA6BA,yBACE,cAbM,CAcN,gBAbQ,CAcR,sBAbc,CAuDhB,6BACE,cAAA,CACA,gBAAA",file:"comSearch.vue",sourcesContent:['/* Variables */\r\n\r\n// Base color\r\n$blue:#324157;\r\n$light-blue:#3A71A8;\r\n$red:#C03639;\r\n$pink: #E65D6E;\r\n$green: #30B08F;\r\n$tiffany: #4AB7BD;\r\n$yellow:#FEC171;\r\n$panGreen: #30B08F;\r\n\r\n// Sidebar\r\n$sideBarWidth: 210px;\r\n$subMenuBg:#1f2d3d;\r\n$subMenuHover:#001528;\r\n$subMenuActiveText:#f4f4f5;\r\n$menuBg:#304156;\r\n$menuText:#bfcbd9;\r\n$menuActiveText:#409EFF; // Also see settings.sidebarTextTheme\r\n\r\n// Login page\r\n$lightGray: #eee;\r\n$darkGray:#889aa4;\r\n$loginBg: #2d3a4b;\r\n$loginCursorColor: #fff;\r\n\r\n// The :export directive is the magic sauce for webpack\r\n// https://mattferderer.com/use-sass-variables-in-typescript-and-javascript\r\n:export {\r\n  menuBg: $menuBg;\r\n  menuText: $menuText;\r\n  menuActiveText: $menuActiveText;\r\n}\r\n/* Mixins */\r\n@mixin clearfix {\r\n  &:after {\r\n    content: "";\r\n    display: table;\r\n    clear: both;\r\n  }\r\n}\r\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\n.com-search {\r\n  display: inline;\r\n  margin-left: 10px;\r\n}\r\n']}]),e.exports=r},"841c":function(e,r,a){"use strict";var t=a("d784"),n=a("825a"),i=a("1d80"),s=a("129f"),l=a("14c3");t("search",1,(function(e,r,a){return[function(r){var a=i(this),t=void 0==r?void 0:r[e];return void 0!==t?t.call(r,a):new RegExp(r)[e](String(a))},function(e){var t=a(r,e,this);if(t.done)return t.value;var i=n(e),o=String(this),c=i.lastIndex;s(c,0)||(i.lastIndex=0);var u=l(i,o);return s(i.lastIndex,c)||(i.lastIndex=c),null===u?-1:u.index}]}))},"899d":function(e,r,a){"use strict";var t=a("ce92"),n=a.n(t);n.a},"8b62":function(e,r,a){var t=a("6030");"string"===typeof t&&(t=[[e.i,t,""]]),t.locals&&(e.exports=t.locals);var n=a("499e").default;n("f858b032",t,!0,{sourceMap:!0,shadowMode:!1})},9808:function(e,r,a){var t=a("24fb");r=t(!0),r.push([e.i,".pagination-container[data-v-6b7bdeba]{background:transparent;padding:32px 16px}.pagination-container.hidden[data-v-6b7bdeba]{display:none}","",{version:3,sources:["D:/01.workspace/10.test/cicd/test-vue-ui/src/components/D:/01.workspace/10.test/cicd/test-vue-ui/src/components/src/components/pagination.vue"],names:[],mappings:"AAyDA,uCACA,sBAAA,CACA,iBACA,CACA,8CACA,YACA",file:"pagination.vue",sourcesContent:['<template>\r\n  <div :class="{\'hidden\':hidden}"\r\n       class="pagination-container">\r\n    <el-pagination :background="background"\r\n                   :current-page.sync="currentPage"\r\n                   :page-size.sync="pageSize"\r\n                   :layout="layout"\r\n                   :page-sizes="pageSizes"\r\n                   :total="total"\r\n                   v-bind="$attrs"\r\n                   @size-change="handleSizeChange"\r\n                   @current-change="handleCurrentChange" />\r\n  </div>\r\n</template>\r\n\r\n<script lang="ts">\r\nimport { Component, Prop, Vue } from \'vue-property-decorator\'\r\n\r\n@Component\r\nexport default class Pageination extends Vue {\r\n  @Prop({ required: true }) private total!: Number\r\n  @Prop({ default: false }) private hidden!: boolean\r\n  @Prop({ default: true }) private background!: boolean\r\n  @Prop({\r\n    default: () => {\r\n      ;[10, 20, 30, 50]\r\n    }\r\n  })\r\n  private pageSizes!: object\r\n  @Prop({ default: \'total, sizes, prev, pager, next, jumper\' })\r\n  private layout!: string\r\n  @Prop({ default: 1 }) private page!: Number\r\n  @Prop({ default: 20 }) private limit!: Number\r\n\r\n  private get currentPage() {\r\n    return this.page\r\n  }\r\n  private set currentPage(val) {\r\n    this.$emit(\'update:page\', val)\r\n  }\r\n  private get pageSize() {\r\n    return this.limit\r\n  }\r\n  private set pageSize(val) {\r\n    this.$emit(\'update:limit\', val)\r\n  }\r\n\r\n  private handleSizeChange(val: number) {\r\n    this.$emit(\'pagination\', { page: this.currentPage, limit: val })\r\n  }\r\n  private handleCurrentChange(val: any) {\r\n    this.$emit(\'pagination\', { page: val, limit: this.pageSize })\r\n  }\r\n}\r\n<\/script>\r\n\r\n<style scoped>\r\n.pagination-container {\r\n  background: transparent;\r\n  padding: 32px 16px;\r\n}\r\n.pagination-container.hidden {\r\n  display: none;\r\n}\r\n</style>\r\n']}]),e.exports=r},a15b:function(e,r,a){"use strict";var t=a("23e7"),n=a("44ad"),i=a("fc6a"),s=a("a640"),l=[].join,o=n!=Object,c=s("join",",");t({target:"Array",proto:!0,forced:o||!c},{join:function(e){return l.call(i(this),void 0===e?",":e)}})},b77d:function(e,r,a){"use strict";a.r(r);var t=function(){var e=this,r=e.$createElement,a=e._self._c||r;return a("div",{staticClass:"app-container"},[a("el-card",{staticClass:"card-panel"},[a("el-form",{attrs:{inline:!0,model:e.query,"label-position":"left"}},[a("el-form-item",{attrs:{label:e.$t("carGroup.groupName")+"：","label-width":"120px"}},[a("el-input",{staticStyle:{width:"220px"},attrs:{placeholder:e.$t("carGroup.groupNamePlaceholder")},model:{value:e.query.keyWord,callback:function(r){e.$set(e.query,"keyWord",r)},expression:"query.keyWord"}})],1),a("el-form-item",[a("el-button",{staticStyle:{width:"100px"},attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.getList}},[e._v(e._s(e.$t("common.search")))])],1),a("el-form-item",[a("el-button",{staticStyle:{width:"100px"},attrs:{type:"primary"},on:{click:e.build}},[e._v(e._s(e.$t("carGroup.build")))])],1),a("el-form-item",[a("el-button",{staticStyle:{width:"100px"},attrs:{type:"primary"},on:{click:e.handleDownExcel}},[e._v(e._s(e.$t("carGroup.export")))])],1),a("com-search",[[a("span",{attrs:{slot:"item"},slot:"item"},[a("el-form-item",{attrs:{label:e.$t("carGroup.createType")+"：","label-width":"120px"}},[a("el-select",{attrs:{placeholder:e.$t("carGroup.all"),clearable:"",size:"samll"},model:{value:e.query.createType,callback:function(r){e.$set(e.query,"createType",r)},expression:"query.createType"}},[a("el-option",{attrs:{label:e.$t("carGroup.yes"),value:1}}),a("el-option",{attrs:{label:e.$t("carGroup.no"),value:0}})],1)],1),a("el-form-item",{attrs:{label:e.$t("carGroup.createStartTime")+"：","label-width":"90px"}},[a("el-date-picker",{attrs:{type:"date",placeholder:e.$t("carGroup.startTimePlaceholder"),"value-format":"yyyy-MM-dd","picker-options":e.pickerOptionsStart,size:"samll"},model:{value:e.query.createStartTime,callback:function(r){e.$set(e.query,"createStartTime",r)},expression:"query.createStartTime"}})],1),a("el-form-item",{attrs:{label:e.$t("carGroup.to")}},[a("el-date-picker",{attrs:{type:"date",placeholder:e.$t("carGroup.endTimePlaceholder"),"value-format":"yyyy-MM-dd","picker-options":e.pickerOptionsEnd,size:"samll"},model:{value:e.query.createEndTime,callback:function(r){e.$set(e.query,"createEndTime",r)},expression:"query.createEndTime"}})],1)],1)]],2)],1)],1),a("el-table",{staticClass:"t-table",staticStyle:{width:"100%","text-align":"center"},attrs:{stripe:"",data:e.tableData},on:{"sort-change":e.handleSortChange}},[a("el-table-column",{attrs:{prop:"carTeamid",align:"center",label:e.$t("carGroup.id")}}),a("el-table-column",{attrs:{prop:"carTeamName",align:"center",label:e.$t("carGroup.groupName")}}),a("el-table-column",{attrs:{prop:"createUser",align:"center",label:e.$t("carGroup.creater")}}),a("el-table-column",{attrs:{prop:"createTime",align:"center",label:e.$t("carGroup.createStartTime"),sortable:"custom"}}),a("el-table-column",{attrs:{fixed:"right",align:"center",label:e.$t("carGroup.operation"),width:"120"},scopedSlots:e._u([{key:"default",fn:function(r){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.look(r.row)}}},[e._v(e._s(e.$t("carGroup.look")))]),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.edit(r.row)}}},[e._v(e._s(e.$t("carGroup.edit")))])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.query.page_number,limit:e.query.page_size},on:{"update:page":function(r){return e.$set(e.query,"page_number",r)},"update:limit":function(r){return e.$set(e.query,"page_size",r)},pagination:e.getList}}),a("Export",{attrs:{"iframe-filter":e.iframeFilter},on:{exportMethod:e.emailExcel}})],1)},n=[],i=(a("96cf"),a("1da1")),s=a("de35"),l=a("6407"),o=a("da9c"),c=a("4a2e"),u={name:"CarGroup",components:{comSearch:s["a"],pagination:l["a"],Export:c["a"]},data:function(){var e=this;return{iframeFilter:{},total:0,pickerOptionsStart:{disabledDate:function(r){var a=e.query.createEndTime;if(a)return r.getTime()>new Date(a).getTime()}},pickerOptionsEnd:{disabledDate:function(r){var a=e.query.createStartTime;if(a)return r.getTime()<new Date(a).getTime()-864e5}},value6:"",query:{page_number:1,page_size:10,sortType:0,createStartTime:null,createEndTime:null},tableData:[]}},activated:function(){this.getList()},mounted:function(){this.getList()},methods:{emailExcel:function(e){var r=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(o["l"])(Object.assign({email:e},r.query));case 2:r.$message.success("后台正在导出，稍后请查收邮件");case 3:case"end":return a.stop()}}),a)})))()},handleDownExcel:function(){this.iframeFilter={data:{isEmail:!0}}},edit:function(e){this.$router.push({path:"/business/carGroupUpdate",query:{basicinfo:e,isEdit:!0}})},look:function(e){this.$router.push({path:"/business/carGroupDetail",query:{basicinfo:e}})},getList:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){var a,t,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:for(t in a={},e.query)(e.query[t]||0==e.query[t])&&(a[t]=e.query[t]);return r.next=4,Object(o["k"])(a);case 4:n=r.sent,e.tableData=n.data.list,e.total=n.data.total;case 7:case"end":return r.stop()}}),r)})))()},build:function(){this.$router.push("/business/carGroupBuild")},handleSortChange:function(e){"descending"==e.order?this.query.sortType=0:this.query.sortType=1,this.getList()}}},m=u,d=a("2877"),p=Object(d["a"])(m,t,n,!1,null,null,null);r["default"]=p.exports},ba0f:function(e,r,a){var t=a("7581");"string"===typeof t&&(t=[[e.i,t,""]]),t.locals&&(e.exports=t.locals);var n=a("499e").default;n("90f64e32",t,!0,{sourceMap:!0,shadowMode:!1})},ce92:function(e,r,a){var t=a("9808");"string"===typeof t&&(t=[[e.i,t,""]]),t.locals&&(e.exports=t.locals);var n=a("499e").default;n("9234cb74",t,!0,{sourceMap:!0,shadowMode:!1})},d4ed:function(e,r,a){var t=a("24fb");r=t(!0),r.push([e.i,".formItem[data-v-5f1f4f92]{width:600px}.dialogFormItem[data-v-5f1f4f92]{width:300px}.el-form-item[data-v-5f1f4f92]{margin-top:50px!important}.margin[data-v-5f1f4f92]{margin:15px 0}.transform[data-v-5f1f4f92]{transform:rotate(90deg);color:#e6a23c}","",{version:3,sources:["D:/01.workspace/10.test/cicd/test-vue-ui/src/views/app/business/appUserManage/D:/01.workspace/10.test/cicd/test-vue-ui/src/views/app/business/appUserManage/src/views/app/business/appUserManage/buildManager.vue"],names:[],mappings:"AA2TA,2BACA,WACA,CACA,iCACA,WACA,CACA,+BACA,yBACA,CACA,yBACA,aACA,CACA,4BACA,uBAAA,CACA,aACA",file:"buildManager.vue",sourcesContent:['<template>\r\n\t<div class="app-container">\r\n    <el-card>\r\n      <center>\r\n        <el-form\r\n          :inline="true"\r\n          :model="buildForm"\r\n          label-position="left"\r\n          :rules="ruless"\r\n          ref="buildForm"\r\n        >\r\n          <el-row>\r\n            <el-form-item :label="$t(\'buildManager.managerName\')" label-width="150px" prop="name" class="is-required">\r\n              <el-input v-model="buildForm.name" class="formItem" :placeholder="$t(\'buildManager.managerNameUnexpected\')"/>\r\n            </el-form-item>\r\n          </el-row>\r\n\r\n          <el-row>\r\n            <el-form-item :label="$t(\'buildManager.managerAccount\')" label-width="150px" prop="accountName" class="is-required">\r\n              <el-input v-model="buildForm.accountName" class="formItem" :placeholder="$t(\'buildManager.accountNameUnexpected\')"/>\r\n            </el-form-item>\r\n          </el-row>\r\n\r\n          <el-row>\r\n            <el-form-item :label="$t(\'buildManager.passWord\')" label-width="150px" prop="passWord" class="is-required">\r\n              <el-input auto-complete="new-password" v-model="buildForm.passWord" class="formItem" :placeholder="$t(\'buildManager.passWordUnexpected\')"/>\r\n            </el-form-item>\r\n          </el-row>\r\n\r\n          <el-row>\r\n            <el-form-item :label="$t(\'buildManager.team\')" label-width="150px" prop="teamName" align="left">\r\n              <el-select\r\n                v-model="buildForm.teamName"\r\n                class="formItem"\r\n                filterable\r\n                remote\r\n                :remote-method="remoteMethod"\r\n                :placeholder="$t(\'buildManager.teamPlaceholder\')"\r\n                :loading="loading"\r\n                @change="handleChange"\r\n              >\r\n                <el-option\r\n                  v-for="item in teams"\r\n                  :key="item.id"\r\n                  :label="item.name"\r\n                  :value="item.name">\r\n                </el-option>\r\n              </el-select>\r\n              <br/>\r\n              <el-button type="text" size="small" @click="buildManager">{{$t(\'buildManager.newTeam\')}}</el-button>\r\n              <el-button type="text" size="small" @click="buildManager(true)" v-if="this.dialogForm.teamName">{{$t(\'buildManager.showBuild\')}}</el-button>\r\n            </el-form-item>\r\n          </el-row>\r\n\r\n          <el-row>\r\n            <el-form-item>\r\n              <el-button type="primary" @click="save" size="midium" style="width: 100px">{{$t(\'buildManager.save\')}}</el-button>\r\n            </el-form-item>\r\n          </el-row>\r\n\r\n        </el-form>\r\n      </center>\r\n    </el-card>\r\n    <el-dialog\r\n      :close-on-click-modal="false"\r\n      :visible.sync="buildManagerDialogVis"\r\n      top="20vh"\r\n      width="50%"\r\n      :title="$t(\'buildManager.newManager\')"\r\n    >\r\n      <el-card>\r\n        <center>\r\n          <el-form\r\n            :inline="true"\r\n            :model="dialogForm"\r\n            label-position="left"\r\n            :rules="dialogRuless"\r\n            ref="dialogForm"\r\n          >\r\n\r\n            <el-row>\r\n              <el-form-item :label="$t(\'buildManager.teamName\')" label-width="150px" prop="teamName">\r\n                <el-input v-model="dialogForm.teamName" class="dialogFormItem" :disabled="isLook"/>\r\n              </el-form-item>\r\n            </el-row>\r\n\r\n            <el-row>\r\n              <el-form-item>\r\n                <el-button type="warning" @click="cancel" v-if="!isLook">{{$t(\'buildManager.cancel\')}}</el-button>\r\n                <el-button type="primary" @click="add" v-if="!isLook">{{$t(\'buildManager.add\')}}</el-button>\r\n              </el-form-item>\r\n            </el-row>\r\n\r\n          </el-form>\r\n        </center>\r\n      </el-card>\r\n    </el-dialog>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nimport { getManagerData , newAccount , batchAddCarList , queryCarTeamByName } from "@/api/business/businessService";\r\nimport { getUserInfo } from \'@/api/users\'\r\nimport Import from \'@/components/import\';\r\n\r\nexport default {\r\n  name: \'BuildManager\',\r\n  components: {\r\n    Import\r\n  },\r\n  data () {\r\n    var checkName = (rule, value, callback) => {\r\n      var reg = /^[a-zA-Z0-9]{2,20}$/;\r\n      if(!value) {\r\n        return callback(new Error(this.$t(\'buildManager.managerNameRequired\')));\r\n      } else if (!reg.test(value)) {\r\n        return callback(new Error(this.$t(\'buildManager.managerNameWarn\')));\r\n      } else {\r\n        callback();\r\n      }\r\n    };\r\n    var checkTeamName = (rule, value, callback) => {\r\n      var reg = /^[a-zA-Z0-9!_\\-\\u4e00-\\u9fa5]+$/;\r\n      if(!value) {\r\n        return callback(new Error(this.$t(\'buildManager.teamNameRequired\')));\r\n      } else if (!reg.test(value)) {\r\n        return callback(new Error(this.$t(\'buildManager.teamNameWarn\')));\r\n      } else if (value.length>32) {\r\n        return callback(new Error(this.$t(\'buildManager.teamNameMax\')));\r\n      } else {\r\n        callback();\r\n      }\r\n    };\r\n    var checkAccountName = (rule, value, callback) => {\r\n      var reg = /^[a-zA-Z0-9!_@#$%^&*\\.\\+\\-=]+$/;\r\n      if(!value) {\r\n        return callback(new Error(this.$t(\'buildManager.managerAccountRequired\')));\r\n      } else if (value.search(/[a-zA-Z]+/)==-1) {\r\n        return callback(new Error(this.$t(\'buildManager.aTozRequire\')));\r\n      } else if (!reg.test(value)) {\r\n        return callback(new Error(this.$t(\'buildManager.managerAccountWarn\')));\r\n      } else if (value.length<6) {\r\n        return callback(new Error(this.$t(\'buildManager.managerAccountMin\')));\r\n      } else if (value.length>20) {\r\n        return callback(new Error(this.$t(\'buildManager.managerAccountMax\')));\r\n      } else {\r\n        callback();\r\n      }\r\n    };\r\n    var checkPassWord = (rule, value, callback) => {\r\n      var reg = /^[a-zA-Z0-9!_@#$%^&*\\.\\+\\-=]+$/;\r\n      if(!value) {\r\n        return callback(new Error(this.$t(\'buildManager.managerPasswordRequired\')));\r\n      } else if (!reg.test(value)) {\r\n        return callback(new Error(this.$t(\'buildManager.managerPasswordWarn\')));\r\n      } else if (value.length<6) {\r\n        return callback(new Error(this.$t(\'buildManager.managerPasswordMin\')));\r\n      } else if (value.length>20) {\r\n        return callback(new Error(this.$t(\'buildManager.managerPasswordMax\')));\r\n      } else {\r\n        callback();\r\n      }\r\n    };\r\n    return {\r\n      accountName: \'\',\r\n      demoURL: \'http://sy.aerozhonghuan.com:81/test/yiqi/web/qdfaw/tboss/assets/import/addCarList.xlsx\',\r\n      tip: this.$t(\'buildManager.tip\'),\r\n      accept: \'.xlsx,.xls\',\r\n      action: \'http://sy.aerozhonghuan.com:81/fsm/fsevice/uploadFile\',\r\n      limit: 1,\r\n      batchAddInfo: null,\r\n      teamId: \'\',\r\n      isLook: false,\r\n      loading: false,\r\n      teams: [],\r\n      teamsCopy: [],\r\n      buildForm: {\r\n        createType:\'tboss\',\r\n        type: 2\r\n      },\r\n      dialogForm: {\r\n        teamName: \'\'\r\n      },\r\n      dialogRuless: {\r\n        teamName: [\r\n          { validator: checkTeamName, trigger: \'blur\' }\r\n        ]\r\n      },\r\n      ruless: {\r\n        name: [\r\n          { validator: checkName, trigger: \'blur\' },\r\n        ],\r\n        accountName: [\r\n          { validator: checkAccountName, trigger: \'blur\' }\r\n        ],\r\n        passWord: [\r\n          { validator: checkPassWord, trigger: \'blur\' }\r\n        ],\r\n        teamName: [\r\n          { required: true, message: this.$t(\'buildManager.selectTeam\'), trigger: \'change\' }\r\n        ]\r\n      },\r\n      buildManagerDialogVis: false,\r\n      fileList: []\r\n    }\r\n  },\r\n  activated() {\r\n    this.getAccountName ()\r\n  },\r\n  methods: {\r\n    handleChange () {\r\n      if(this.$refs[\'dialogForm\']){\r\n        this.$refs[\'dialogForm\'].resetFields()\r\n      }\r\n    },\r\n    save () {\r\n      this.$refs[\'buildForm\'].validate(async (valid) => {\r\n        if (valid) {\r\n          if (this.dialogForm.passWord) param.passWord = this.dialogForm.passWord\r\n          let param = {}\r\n          param.name = this.buildForm.name\r\n          param.accountName = this.buildForm.accountName\r\n          param.passWord = this.buildForm.passWord\r\n          param.teamName = this.buildForm.teamName\r\n          param.createType = \'tboss\'\r\n          param.type = \'1\'\r\n          param.tbossName = this.accountName\r\n          if(this.teams.length){\r\n            let fil = this.teamsCopy.filter(item => {\r\n              return item.name === this.buildForm.teamName\r\n            })\r\n            param.carTeamId = fil[0].id\r\n          }else{\r\n            param.isCompany = 0\r\n            param.isGroup = 0\r\n            param.isVip = 0\r\n          }\r\n          const re = await newAccount(param);\r\n          if(re.message == \'OK\'){\r\n            this.$message({\r\n              message: this.$t(\'buildManager.buildSuccess\'),\r\n              type: \'success\'\r\n            });\r\n            if(this.$refs[\'buildForm\']){\r\n              this.$refs[\'buildForm\'].resetFields()\r\n            }\r\n            if(this.$refs[\'dialogForm\']){\r\n              this.$refs[\'dialogForm\'].resetFields()\r\n            }\r\n            this.teams = []\r\n            this.teamsCopy = []\r\n            this.$router.go(-1)\r\n          } else {\r\n            this.$message({\r\n              message: this.$t(\'buildManager.buildFault\'),\r\n              type: \'error\'\r\n            });\r\n          }\r\n        } else {\r\n          this.$message.error(this.$t(\'buildManager.submitFault\'))\r\n          return false\r\n        }\r\n      });\r\n    },\r\n    cancel () {\r\n      this.$refs[\'dialogForm\'].resetFields()\r\n      this.buildManagerDialogVis = false\r\n    },\r\n    add () {\r\n      this.$refs[\'dialogForm\'].validate(async (valid) => {\r\n        if (valid) {\r\n          this.buildManagerDialogVis = false\r\n          this.buildForm.teamName = this.dialogForm.teamName\r\n          this.teams = []\r\n          this.teamsCopy = []\r\n        } else {\r\n          this.$message.error(this.$t(\'buildManager.submitFault\'))\r\n          return false\r\n        }\r\n      });\r\n    },\r\n    async remoteMethod(query) {\r\n      if (query !== \'\') {\r\n        let params = {\r\n          keyWord: query\r\n        }\r\n        this.loading = true;\r\n        const re = await queryCarTeamByName(params);\r\n        this.teams = JSON.parse(JSON.stringify(re.data))\r\n        this.teamsCopy = JSON.parse(JSON.stringify(re.data))\r\n        this.loading = false;\r\n      } else {\r\n        this.teams = [];\r\n      }\r\n    },\r\n    buildManager (flag) {\r\n      this.buildManagerDialogVis = true\r\n      if(flag===true){\r\n        this.isLook = true\r\n      }else{\r\n        if(this.$refs[\'dialogForm\']){\r\n          this.$refs[\'dialogForm\'].resetFields()\r\n        }\r\n        this.isLook = false\r\n      }\r\n    },\r\n    async getAccountName () {\r\n      const user = await getUserInfo()\r\n      this.accountName = user.data.username\r\n    }\r\n  }\r\n}\r\n<\/script>\r\n\r\n<style scoped>\r\n  .formItem {\r\n    width: 600px\r\n  }\r\n  .dialogFormItem {\r\n    width: 300px\r\n  }\r\n  .el-form-item {\r\n    margin-top: 50px !important;\r\n  }\r\n  .margin {\r\n    margin: 15px 0;\r\n  }\r\n  .transform {\r\n    transform: rotate(90deg);\r\n    color: #E6A23C;\r\n  }\r\n</style>\r\n']}]),e.exports=r},d7f9:function(e,r,a){"use strict";var t=a("8b62"),n=a.n(t);n.a},de35:function(e,r,a){"use strict";var t=function(){var e=this,r=e.$createElement,a=e._self._c||r;return a("div",{staticClass:"com-search"},[a("el-form-item",[a("el-button",{attrs:{type:"text",icon:e.getIcon},on:{click:e.toggleShow}},[e._v(e._s(e.$t("common.advancedSearch")))])],1),e.isShow?a("el-card",{staticClass:"card-panel"},[e._t("item")],2):e._e()],1)},n=[],i=a("d4ec"),s=a("bee2"),l=a("262e"),o=a("2caf"),c=a("9ab4"),u=a("60a3"),m=function(e){Object(l["a"])(a,e);var r=Object(o["a"])(a);function a(){var e;return Object(i["a"])(this,a),e=r.apply(this,arguments),e.isShow=!1,e}return Object(s["a"])(a,[{key:"toggleShow",value:function(){this.isShow=!this.isShow}},{key:"getIcon",get:function(){var e=this.isShow?"el-icon-caret-bottom":"el-icon-caret-top";return"computed "+e}}]),a}(u["e"]);m=Object(c["a"])([u["a"]],m);var d=m,p=d,b=(a("ee49"),a("2877")),f=Object(b["a"])(p,t,n,!1,null,"2521fad5",null);r["a"]=f.exports},e2f9:function(e,r,a){"use strict";a.r(r);var t=function(){var e=this,r=e.$createElement,a=e._self._c||r;return a("div",{staticClass:"app-container"},[a("el-card",[a("center",[a("el-form",{ref:"buildForm",attrs:{inline:!0,model:e.buildForm,"label-position":"left",rules:e.ruless}},[a("el-row",[a("el-form-item",{staticClass:"is-required",attrs:{label:e.$t("buildManager.managerName"),"label-width":"150px",prop:"name"}},[a("el-input",{staticClass:"formItem",attrs:{placeholder:e.$t("buildManager.managerNameUnexpected")},model:{value:e.buildForm.name,callback:function(r){e.$set(e.buildForm,"name",r)},expression:"buildForm.name"}})],1)],1),a("el-row",[a("el-form-item",{staticClass:"is-required",attrs:{label:e.$t("buildManager.managerAccount"),"label-width":"150px",prop:"accountName"}},[a("el-input",{staticClass:"formItem",attrs:{placeholder:e.$t("buildManager.accountNameUnexpected")},model:{value:e.buildForm.accountName,callback:function(r){e.$set(e.buildForm,"accountName",r)},expression:"buildForm.accountName"}})],1)],1),a("el-row",[a("el-form-item",{staticClass:"is-required",attrs:{label:e.$t("buildManager.passWord"),"label-width":"150px",prop:"passWord"}},[a("el-input",{staticClass:"formItem",attrs:{"auto-complete":"new-password",placeholder:e.$t("buildManager.passWordUnexpected")},model:{value:e.buildForm.passWord,callback:function(r){e.$set(e.buildForm,"passWord",r)},expression:"buildForm.passWord"}})],1)],1),a("el-row",[a("el-form-item",{attrs:{label:e.$t("buildManager.team"),"label-width":"150px",prop:"teamName",align:"left"}},[a("el-select",{staticClass:"formItem",attrs:{filterable:"",remote:"","remote-method":e.remoteMethod,placeholder:e.$t("buildManager.teamPlaceholder"),loading:e.loading},on:{change:e.handleChange},model:{value:e.buildForm.teamName,callback:function(r){e.$set(e.buildForm,"teamName",r)},expression:"buildForm.teamName"}},e._l(e.teams,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.name}})})),1),a("br"),a("el-button",{attrs:{type:"text",size:"small"},on:{click:e.buildManager}},[e._v(e._s(e.$t("buildManager.newTeam")))]),this.dialogForm.teamName?a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(r){return e.buildManager(!0)}}},[e._v(e._s(e.$t("buildManager.showBuild")))]):e._e()],1)],1),a("el-row",[a("el-form-item",[a("el-button",{staticStyle:{width:"100px"},attrs:{type:"primary",size:"midium"},on:{click:e.save}},[e._v(e._s(e.$t("buildManager.save")))])],1)],1)],1)],1)],1),a("el-dialog",{attrs:{"close-on-click-modal":!1,visible:e.buildManagerDialogVis,top:"20vh",width:"50%",title:e.$t("buildManager.newManager")},on:{"update:visible":function(r){e.buildManagerDialogVis=r}}},[a("el-card",[a("center",[a("el-form",{ref:"dialogForm",attrs:{inline:!0,model:e.dialogForm,"label-position":"left",rules:e.dialogRuless}},[a("el-row",[a("el-form-item",{attrs:{label:e.$t("buildManager.teamName"),"label-width":"150px",prop:"teamName"}},[a("el-input",{staticClass:"dialogFormItem",attrs:{disabled:e.isLook},model:{value:e.dialogForm.teamName,callback:function(r){e.$set(e.dialogForm,"teamName",r)},expression:"dialogForm.teamName"}})],1)],1),a("el-row",[a("el-form-item",[e.isLook?e._e():a("el-button",{attrs:{type:"warning"},on:{click:e.cancel}},[e._v(e._s(e.$t("buildManager.cancel")))]),e.isLook?e._e():a("el-button",{attrs:{type:"primary"},on:{click:e.add}},[e._v(e._s(e.$t("buildManager.add")))])],1)],1)],1)],1)],1)],1)],1)},n=[],i=(a("4de4"),a("b0c0"),a("ac1f"),a("841c"),a("96cf"),a("1da1")),s=a("da9c"),l=a("b8f0"),o=a("e168"),c={name:"BuildManager",components:{Import:o["a"]},data:function(){var e=this,r=function(r,a,t){var n=/^[a-zA-Z0-9]{2,20}$/;return a?n.test(a)?void t():t(new Error(e.$t("buildManager.managerNameWarn"))):t(new Error(e.$t("buildManager.managerNameRequired")))},a=function(r,a,t){var n=/^[a-zA-Z0-9!_\-\u4e00-\u9fa5]+$/;return a?n.test(a)?a.length>32?t(new Error(e.$t("buildManager.teamNameMax"))):void t():t(new Error(e.$t("buildManager.teamNameWarn"))):t(new Error(e.$t("buildManager.teamNameRequired")))},t=function(r,a,t){var n=/^[a-zA-Z0-9!_@#$%^&*\.\+\-=]+$/;return a?-1==a.search(/[a-zA-Z]+/)?t(new Error(e.$t("buildManager.aTozRequire"))):n.test(a)?a.length<6?t(new Error(e.$t("buildManager.managerAccountMin"))):a.length>20?t(new Error(e.$t("buildManager.managerAccountMax"))):void t():t(new Error(e.$t("buildManager.managerAccountWarn"))):t(new Error(e.$t("buildManager.managerAccountRequired")))},n=function(r,a,t){var n=/^[a-zA-Z0-9!_@#$%^&*\.\+\-=]+$/;return a?n.test(a)?a.length<6?t(new Error(e.$t("buildManager.managerPasswordMin"))):a.length>20?t(new Error(e.$t("buildManager.managerPasswordMax"))):void t():t(new Error(e.$t("buildManager.managerPasswordWarn"))):t(new Error(e.$t("buildManager.managerPasswordRequired")))};return{accountName:"",demoURL:"http://sy.aerozhonghuan.com:81/test/yiqi/web/qdfaw/tboss/assets/import/addCarList.xlsx",tip:this.$t("buildManager.tip"),accept:".xlsx,.xls",action:"http://sy.aerozhonghuan.com:81/fsm/fsevice/uploadFile",limit:1,batchAddInfo:null,teamId:"",isLook:!1,loading:!1,teams:[],teamsCopy:[],buildForm:{createType:"tboss",type:2},dialogForm:{teamName:""},dialogRuless:{teamName:[{validator:a,trigger:"blur"}]},ruless:{name:[{validator:r,trigger:"blur"}],accountName:[{validator:t,trigger:"blur"}],passWord:[{validator:n,trigger:"blur"}],teamName:[{required:!0,message:this.$t("buildManager.selectTeam"),trigger:"change"}]},buildManagerDialogVis:!1,fileList:[]}},activated:function(){this.getAccountName()},methods:{handleChange:function(){this.$refs["dialogForm"]&&this.$refs["dialogForm"].resetFields()},save:function(){var e=this;this.$refs["buildForm"].validate(function(){var r=Object(i["a"])(regeneratorRuntime.mark((function r(a){var t,n,i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(!a){r.next=17;break}return e.dialogForm.passWord&&(t.passWord=e.dialogForm.passWord),t={},t.name=e.buildForm.name,t.accountName=e.buildForm.accountName,t.passWord=e.buildForm.passWord,t.teamName=e.buildForm.teamName,t.createType="tboss",t.type="1",t.tbossName=e.accountName,e.teams.length?(n=e.teamsCopy.filter((function(r){return r.name===e.buildForm.teamName})),t.carTeamId=n[0].id):(t.isCompany=0,t.isGroup=0,t.isVip=0),r.next=13,Object(s["N"])(t);case 13:i=r.sent,"OK"==i.message?(e.$message({message:e.$t("buildManager.buildSuccess"),type:"success"}),e.$refs["buildForm"]&&e.$refs["buildForm"].resetFields(),e.$refs["dialogForm"]&&e.$refs["dialogForm"].resetFields(),e.teams=[],e.teamsCopy=[],e.$router.go(-1)):e.$message({message:e.$t("buildManager.buildFault"),type:"error"}),r.next=19;break;case 17:return e.$message.error(e.$t("buildManager.submitFault")),r.abrupt("return",!1);case 19:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}())},cancel:function(){this.$refs["dialogForm"].resetFields(),this.buildManagerDialogVis=!1},add:function(){var e=this;this.$refs["dialogForm"].validate(function(){var r=Object(i["a"])(regeneratorRuntime.mark((function r(a){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(!a){r.next=7;break}e.buildManagerDialogVis=!1,e.buildForm.teamName=e.dialogForm.teamName,e.teams=[],e.teamsCopy=[],r.next=9;break;case 7:return e.$message.error(e.$t("buildManager.submitFault")),r.abrupt("return",!1);case 9:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}())},remoteMethod:function(e){var r=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var t,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(""===e){a.next=11;break}return t={keyWord:e},r.loading=!0,a.next=5,Object(s["W"])(t);case 5:n=a.sent,r.teams=JSON.parse(JSON.stringify(n.data)),r.teamsCopy=JSON.parse(JSON.stringify(n.data)),r.loading=!1,a.next=12;break;case 11:r.teams=[];case 12:case"end":return a.stop()}}),a)})))()},buildManager:function(e){this.buildManagerDialogVis=!0,!0===e?this.isLook=!0:(this.$refs["dialogForm"]&&this.$refs["dialogForm"].resetFields(),this.isLook=!1)},getAccountName:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,Object(l["c"])();case 2:a=r.sent,e.accountName=a.data.username;case 4:case"end":return r.stop()}}),r)})))()}}},u=c,m=(a("616a"),a("2877")),d=Object(m["a"])(u,t,n,!1,null,"5f1f4f92",null);r["default"]=d.exports},ee49:function(e,r,a){"use strict";var t=a("ba0f"),n=a.n(t);n.a}}]);
//# sourceMappingURL=carGroup.9feab733.js.map