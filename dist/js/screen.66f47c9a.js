(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["screen"],{"0e4e":function(e,t,r){var a=r("16fe");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var n=r("499e").default;n("0d5c7b78",a,!0,{sourceMap:!0,shadowMode:!1})},"14ce":function(e,t,r){var a=r("f9d8");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var n=r("499e").default;n("25375bce",a,!0,{sourceMap:!0,shadowMode:!1})},"16fe":function(e,t,r){var a=r("24fb");t=a(!0),t.push([e.i,".dialogFormItem[data-v-beed088c]{width:300px}","",{version:3,sources:["D:/01.workspace/10.test/cicd/test-vue-ui/src/views/app/business/faultDiagnosis/faultCodeLibrary/library/D:/01.workspace/10.test/cicd/test-vue-ui/src/views/app/business/faultDiagnosis/faultCodeLibrary/library/src/views/app/business/faultDiagnosis/faultCodeLibrary/library/index.vue"],names:[],mappings:"AAihBA,iCACA,WACA",file:"index.vue",sourcesContent:['<template>\r\n\t<div class="app-container">\r\n    <el-card class="card-panel">\r\n      <el-form :inline="true" :model="query" label-position="left">\r\n        <el-form-item :label="$t(\'library.partsName\')" label-width="90px">\r\n          <el-input v-model="query.partName" style="width: 120px"/>\r\n        </el-form-item>\r\n        <el-form-item :label="$t(\'library.partsVal\')" label-width="90px">\r\n          <el-input v-model="query.partValue" style="width: 120px"/>\r\n        </el-form-item>\r\n        <el-form-item :label="\'SPN:\'" label-width="90px">\r\n          <el-input v-model="query.spn" style="width: 120px"/>\r\n        </el-form-item>\r\n        <el-form-item :label="\'FMI:\'" label-width="90px">\r\n          <el-input v-model="query.fmi" style="width: 120px"/>\r\n        </el-form-item>\r\n        <el-form-item :label="$t(\'library.diagnostic\')" label-width="90px">\r\n          <el-input v-model="query.faultCode" style="width: 120px"/>\r\n        </el-form-item>\r\n        <el-form-item :label="$t(\'library.group\')" label-width="90px">\r\n          <el-input v-model="query.faultGroup" style="width: 120px"/>\r\n        </el-form-item>\r\n        <el-form-item :label="$t(\'library.diagnostic\')" label-width="90px">\r\n          <el-select\r\n            v-model="query.faultLevel"\r\n            style="width: 120px"\r\n            :placeholder="$t(\'common.all\')"\r\n            clearable\r\n          >\r\n            <el-option value="S" :label="$t(\'library.serious\')"></el-option>\r\n            <el-option value="C" :label="$t(\'library.common\')"></el-option>\r\n            <el-option value="D" :label="$t(\'library.heating\')"></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item :label="$t(\'library.type\')" label-width="90px">\r\n          <el-select\r\n            v-model="query.interventionType"\r\n            style="width: 120px"\r\n            :placeholder="$t(\'common.all\')"\r\n            clearable\r\n          >\r\n            <el-option :value="$t(\'library.cc\')" :label="$t(\'library.cc\')"></el-option>\r\n            <el-option value="" :label="$t(\'library.empty\')"></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-row>\r\n          <center>\r\n            <el-button style="width: 150px;" type="primary" icon="el-icon-search" @click="getList()">{{$t(\'common.search\')}}</el-button>\r\n            <el-button style="width: 150px;" type="primary" @click="add()">{{$t(\'common.add\')}}</el-button>\r\n            <el-button style="width: 150px;" type="primary" @click="del(delIds)" :disabled="!delIds.faultId.length">{{$t(\'common.mdelete\')}}</el-button>\r\n            <el-button style="width: 150px;" type="primary" @click="importFaults()">{{$t(\'common.import\')}}</el-button>\r\n            <el-button style="width: 150px;" type="primary" @click="handleDownExcel()">{{$t(\'common.export\')}}</el-button>\r\n          </center>\r\n        </el-row>\r\n      </el-form>\r\n    </el-card>\r\n\r\n    <el-table\r\n      class=\'t-table\'\r\n      stripe\r\n      :data="tableData"\r\n      style="width: 100%; text-align: center;"\r\n      @selection-change="handleSelectionChange"\r\n    >\r\n      <el-table-column type="selection" width="55"></el-table-column>\r\n      <el-table-column prop="partName" align="center" :label="$t(\'library.parts\')"></el-table-column>\r\n      <el-table-column prop="partValue" align="center" :label="$t(\'library.partsVal\')"></el-table-column>\r\n      <el-table-column prop="faultGroup" align="center" :label="$t(\'library.group\')"></el-table-column>\r\n      <el-table-column prop="faultLevel" align="center" :label="$t(\'library.level\')">\r\n        <template slot-scope="scope">\r\n          {{showFaultLevelLabel(scope.row.faultLevel)}}\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column prop="interventionType" align="center" :label="$t(\'library.type\')"></el-table-column>\r\n      <el-table-column prop="faultCode" align="center" :label="$t(\'library.diagnostic\')"></el-table-column>\r\n      <el-table-column prop="spn" align="center" :label="\'SPN\'"></el-table-column>\r\n      <el-table-column prop="fmi" align="center" :label="\'FMI\'"></el-table-column>\r\n      <el-table-column prop="faultDes" align="center" :label="$t(\'library.desc\')"></el-table-column>\r\n      <el-table-column prop="updateTime" align="center" :label="$t(\'oil.updateTime\')"></el-table-column>\r\n      <el-table-column align="center" :label="$t(\'carGroup.operation\')">\r\n        <template slot-scope="scope">\r\n          <el-button type="text" size="small" @click="detail(scope.row)">{{$t(\'common.detail\')}}</el-button>\r\n          <el-button type="text" size="small" @click="update(scope.row)">{{$t(\'carGroup.edit\')}}</el-button>\r\n          <el-button type="text" size="small" @click="del(scope.row)">{{$t(\'common.del\')}}</el-button>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n\r\n    <pagination\r\n      v-show="total>0"\r\n      :total="total"\r\n      :page.sync="query.page_number"\r\n      :limit.sync="query.page_size"\r\n      @pagination="getList"\r\n    />\r\n    <Import\r\n      :title="$t(\'library.import\')"\r\n      :batchAddCarVis="batchAddCarVis"\r\n      :limit="limit"\r\n      :action="action"\r\n      :accept="accept"\r\n      :tip="tip"\r\n      :demoURL="demoURL"\r\n      :batchAddInfo="batchAddInfo"\r\n      @handleSuccess = "handleSuccess"\r\n      @cancelBatchAddCar = "cancelBatchAddCar"\r\n    ></Import>\r\n    <Export\r\n      :iframe-filter="iframeFilter"\r\n      @exportMethod="emailExcel"\r\n    />\r\n    <el-dialog\r\n      :close-on-click-modal="false"\r\n      :visible.sync="dialogVis"\r\n      top="20vh"\r\n      width="50%"\r\n      :title="dialogType==\'add\'?$t(\'common.add\'):dialogType==\'detail\'?$t(\'common.del\'):dialogType==\'update\'?$t(\'common.edit\'):\'\'"\r\n      :show-close="false"\r\n    >\r\n      <center>\r\n        <el-form\r\n          :inline="true"\r\n          :model="addForm"\r\n          label-position="left"\r\n          :rules="addFormRuless"\r\n          ref="addForm"\r\n        >\r\n          <el-row>\r\n            <el-form-item :label="$t(\'library.parts\')" label-width="150px" prop="partName">\r\n              <el-input v-model="addForm.partName" class="dialogFormItem" :disabled="dialogType === \'detail\'"/>\r\n            </el-form-item>\r\n          </el-row>\r\n\r\n          <el-row>\r\n            <el-form-item :label="$t(\'library.partsVal\')" label-width="150px" prop="partValue">\r\n              <el-input v-model="addForm.partValue" class="dialogFormItem" :disabled="dialogType === \'detail\'"/>\r\n            </el-form-item>\r\n          </el-row>\r\n\r\n          <el-row>\r\n            <el-form-item :label="$t(\'library.group\')" label-width="150px" prop="faultGroup">\r\n              <el-input v-model="addForm.faultGroup" class="dialogFormItem" :disabled="dialogType === \'detail\'"/>\r\n            </el-form-item>\r\n          </el-row>\r\n\r\n          <el-row>\r\n            <el-form-item :label="$t(\'library.level\')+\'：\'" label-width="150px" prop="faultLevel">\r\n              <el-select\r\n                v-model="addForm.faultLevel"\r\n                class="dialogFormItem"\r\n                :placeholder="$t(\'common.select\')"\r\n                clearable\r\n                :disabled="dialogType === \'detail\'"\r\n              >\r\n                <el-option value="S" :label="$t(\'library.serious\')"></el-option>\r\n                <el-option value="C" :label="$t(\'library.common\')"></el-option>\r\n                <el-option value="D" :label="$t(\'library.heating\')"></el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n          </el-row>\r\n\r\n          <el-row>\r\n            <el-form-item :label="$t(\'library.inter\')" label-width="150px" prop="interventionType">\r\n              <el-select\r\n                v-model="addForm.interventionType"\r\n                class="dialogFormItem"\r\n                :placeholder="$t(\'common.select\')"\r\n                clearable\r\n                :disabled="dialogType === \'detail\'"\r\n              >\r\n                <el-option :value="$t(\'library.cc\')" :label="$t(\'library.cc\')"></el-option>\r\n                <el-option value="" :label="$t(\'library.empty\')"></el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n          </el-row>\r\n\r\n          <el-row>\r\n            <el-form-item :label="$t(\'library.code\')" label-width="150px" prop="faultCode">\r\n              <el-input v-model="addForm.faultCode" class="dialogFormItem" :disabled="dialogType === \'detail\'"/>\r\n            </el-form-item>\r\n          </el-row>\r\n\r\n          <el-row>\r\n            <el-form-item :label="\'SPN：\'" label-width="150px" prop="spn" class="is-required">\r\n              <el-input v-model="addForm.spn" class="dialogFormItem" :disabled="dialogType === \'detail\'"/>\r\n            </el-form-item>\r\n          </el-row>\r\n\r\n          <el-row>\r\n            <el-form-item :label="\'FMI：\'" label-width="150px" prop="fmi">\r\n              <el-input v-model="addForm.fmi" class="dialogFormItem" :disabled="dialogType === \'detail\'"/>\r\n            </el-form-item>\r\n          </el-row>\r\n\r\n          <el-row>\r\n            <el-form-item :label="$t(\'library.desc\')+\'：\'" label-width="150px" prop="faultDes">\r\n              <el-input v-model="addForm.faultDes" class="dialogFormItem" type="textarea" :disabled="dialogType === \'detail\'"/>\r\n            </el-form-item>\r\n          </el-row>\r\n\r\n          <el-row>\r\n            <el-form-item :label="$t(\'library.widget\')" label-width="150px" prop="faultComponent">\r\n              <el-input v-model="addForm.faultComponent" class="dialogFormItem" type="textarea" :disabled="dialogType === \'detail\'"/>\r\n            </el-form-item>\r\n          </el-row>\r\n\r\n          <el-row>\r\n            <el-form-item :label="$t(\'library.question\')" label-width="150px" prop="causeProblems">\r\n              <el-input\r\n                v-model="addForm.causeProblems"\r\n                class="dialogFormItem" \r\n                type="textarea"\r\n                maxlength="2000"\r\n                show-word-limit\r\n                :disabled="dialogType === \'detail\'"\r\n              />\r\n            </el-form-item>\r\n          </el-row>\r\n\r\n          <el-row>\r\n            <el-form-item :label="$t(\'library.reason\')" label-width="150px" prop="faultCause">\r\n              <el-input\r\n                v-model="addForm.faultCause"\r\n                class="dialogFormItem"\r\n                type="textarea"\r\n                maxlength="2000"\r\n                show-word-limit\r\n                :disabled="dialogType === \'detail\'"\r\n              />\r\n            </el-form-item>\r\n          </el-row>\r\n\r\n          <el-row>\r\n            <el-form-item :label="$t(\'library.solution\')" label-width="150px" prop="faultSolutions">\r\n              <el-input\r\n                v-model="addForm.faultSolutions"\r\n                class="dialogFormItem"\r\n                type="textarea"\r\n                maxlength="2000"\r\n                show-word-limit\r\n                :disabled="dialogType === \'detail\'"\r\n              />\r\n            </el-form-item>\r\n          </el-row>\r\n\r\n          <el-row>\r\n            <el-form-item>\r\n              <el-button type="warning" @click="cancel">{{$t(\'common.cancel\')}}</el-button>\r\n              <el-button type="primary" @click="submit" v-if="dialogType == \'add\' || dialogType == \'update\'">{{$t(\'common.submit\')}}</el-button>\r\n            </el-form-item>\r\n          </el-row>\r\n\r\n        </el-form>\r\n      </center>\r\n    </el-dialog>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  queryCarFaultBaseList , \r\n  exportRealtimeCarFaultList ,\r\n  delCarFaultBaseInfo ,\r\n  exportCarFaultBaseList ,\r\n  importCarFaultBaseInfo ,\r\n  saveCarFaultBaseInfo ,\r\n  queryCarFaultBaseInfo\r\n} from "@/api/business/businessService";\r\nimport pagination from \'@/components/pagination\'; \r\nimport Export from \'@/components/Export\';\r\nimport Import from \'@/components/import\';\r\n\r\nexport default {\r\n  name: \'Library\',\r\n  components: {\r\n    pagination ,\r\n    Export ,\r\n    Import\r\n  },\r\n  data () {\r\n    var checkSPN = (rule, value, callback) => {\r\n      var reg = /^[0-9a-zA-Z/]+$/;\r\n      if(!value) {\r\n        return callback(new Error(this.$t(\'library.needSPN\')));\r\n      } else if (!reg.test(value)) {\r\n        return callback(new Error(this.$t(\'library.formatSPN\')  ));\r\n      } else {\r\n        callback();\r\n      }\r\n    };\r\n    var checkFaultCode = (rule, value, callback) => {\r\n      var reg = /^[0-9a-zA-Z/]+$/;\r\n      if (!reg.test(value) && value) {\r\n        return callback(new Error(this.$t(\'library.formatCode\')));\r\n      } else {\r\n        callback();\r\n      }\r\n    };\r\n    return {\r\n      addFormRuless: {\r\n        partName: [\r\n          { required: true, message: this.$t(\'library.needWidget\') , trigger: \'blur\' }\r\n        ],\r\n        partValue: [\r\n          { required: true, message:  this.$t(\'library.needValue\'), trigger: \'blur\' }\r\n        ],\r\n        faultGroup: [\r\n          { required: true, message:  this.$t(\'library.needGroup\'), trigger: \'blur\' }\r\n        ],\r\n        faultLevel: [\r\n          { required: true, message:  this.$t(\'library.needLevel\'), trigger: \'change\' }\r\n        ],\r\n        faultCode: [\r\n          { validator: checkFaultCode, trigger: \'blur\' }\r\n        ],\r\n        spn: [\r\n          { validator: checkSPN, trigger: \'blur\' }\r\n        ],\r\n        fmi: [\r\n          { required: true, message:  this.$t(\'library.needDFMI\'), trigger: \'change\' }\r\n        ],\r\n        faultDes: [\r\n          { required: true, message:  this.$t(\'library.needDesc\'), trigger: \'change\' }\r\n        ],\r\n      },\r\n      addForm: {\r\n        partName: \'\',\r\n        partValue: \'\',\r\n        faultGroup: \'\',\r\n        faultLevel: \'\',\r\n        interventionType: \'\',\r\n        faultCode: \'\',\r\n        spn: \'\',\r\n        fmi: \'\',\r\n        faultDes: \'\',\r\n        faultComponent: \'\',\r\n        causeProblems: \'\',\r\n        faultCause: \'\',\r\n        faultSolutions: \'\'\r\n      },\r\n      dialogType: \'\',\r\n      dialogVis: false,\r\n      tip: this.$t(\'library.remark\'),\r\n      batchAddInfo: null,\r\n      action: \'https://sy.aerozhonghuan.com:44300/fsm/fsevice/uploadFile\',\r\n      demoURL: \'http://sy.aerozhonghuan.com:81/test/yiqi/web/qdfaw/tboss/assets/import/breakdown.xlsx\',\r\n      accept: \'.xlsx,.xls\',\r\n      limit: 1,\r\n      batchAddCarVis: false,\r\n      iframeFilter: {},\r\n      total: 0,\r\n      tableData: [],\r\n      query: {\r\n        page_number: 1,\r\n        page_size: 10\r\n      },\r\n      delIds: {\r\n        faultId: []\r\n      },\r\n      updateParams: {}\r\n    }\r\n  },\r\n  mounted() {\r\n    this.getList()\r\n  },\r\n  methods: {\r\n    cancel () {\r\n      this.$refs[\'addForm\'].resetFields()\r\n      this.dialogVis = false\r\n      this.dialogType = \'\'\r\n    },\r\n    submit () {\r\n      this.$refs[\'addForm\'].validate(async (valid) => {\r\n        if (valid) {\r\n          if(this.dialogType == \'update\'){\r\n            this.addForm.createTime = this.updateParams.createTime\r\n            this.addForm.createUser = this.updateParams.createUser\r\n            this.addForm.updateTime = this.updateParams.updateTime\r\n            this.addForm.updateUser = this.updateParams.updateUser\r\n            this.addForm.faultId = this.updateParams.faultId\r\n          } else {\r\n            delete this.addForm.createTime\r\n            delete this.addForm.createUser\r\n            delete this.addForm.updateTime\r\n            delete this.addForm.updateUser\r\n            delete this.addForm.faultId\r\n          }\r\n          const re = await saveCarFaultBaseInfo(this.addForm);\r\n          if(re.message == \'OK\'){\r\n            this.$message({\r\n              message: this.$t(\'common.tips.operateSuccess\'),\r\n              type: \'success\'\r\n            });\r\n            this.$refs[\'addForm\'].resetFields()\r\n            this.dialogVis = false\r\n            this.dialogType = \'\'\r\n            this.getList()\r\n          } else {\r\n            this.$message({\r\n              message: this.$t(\'library.operateFail\') ,\r\n              type: \'error\'\r\n            });\r\n          }\r\n        } else {\r\n          this.$message.error( this.$t(\'carGroupBuild.sunmitFault\'))\r\n          return false\r\n        }\r\n      });\r\n    },\r\n    add () {\r\n      this.dialogVis = true\r\n      this.dialogType = \'add\'\r\n    },\r\n    detail (row) {\r\n      this.dialogVis = true\r\n      this.dialogType = \'detail\'\r\n      this.getAddFormInfo(row.faultId)\r\n    },\r\n    update (row) {\r\n      this.updateParams.createTime = row.createTime\r\n      this.updateParams.createUser = row.createUser\r\n      this.updateParams.updateTime = row.updateTime\r\n      this.updateParams.updateUser = row.updateUser\r\n      this.updateParams.faultId = row.faultId\r\n      this.dialogVis = true\r\n      this.dialogType = \'update\'\r\n      this.getAddFormInfo(row.faultId)\r\n    },\r\n    async getAddFormInfo (faultId) {\r\n      const re = await queryCarFaultBaseInfo({faultId});\r\n      this.addForm.partName = re.data.partName\r\n      this.addForm.partValue = re.data.partValue\r\n      this.addForm.faultGroup = re.data.faultGroup\r\n      this.addForm.faultLevel = re.data.faultLevel\r\n      this.addForm.interventionType = re.data.interventionType\r\n      this.addForm.faultCode = re.data.faultCode\r\n      this.addForm.spn = re.data.spn\r\n      this.addForm.fmi = re.data.fmi\r\n      this.addForm.faultDes = re.data.faultDes\r\n      this.addForm.faultComponent = re.data.faultComponent\r\n      this.addForm.causeProblems = re.data.causeProblems\r\n      this.addForm.faultCause = re.data.faultCause\r\n      this.addForm.faultSolutions = re.data.faultSolutions\r\n    },\r\n    importFaults () {\r\n      this.batchAddCarVis = true\r\n    },\r\n    async handleSuccess (response) {\r\n      let params = {\r\n        uuid: response.data.fullPath,\r\n        fileType: response.data.ext_name,\r\n      }\r\n      const re = await importCarFaultBaseInfo(params)\r\n      this.batchAddInfo = re.data\r\n    },\r\n    cancelBatchAddCar () {\r\n      this.batchAddCarVis = false\r\n      this.batchAddInfo = null\r\n    },\r\n    handleSelectionChange (val) {\r\n      this.delIds.faultId = [];\r\n      val.forEach(item => {\r\n        this.delIds.faultId.push(item.faultId)\r\n      })\r\n      this.delIds.faultId = this.delIds.faultId.join()\r\n    },\r\n    del (row) {\r\n      this.$confirm( this.$t(\'library.delete\'),  this.$t(\'common.del\'), {\r\n        confirmButtonText: this.$t(\'common.yes\'),\r\n        cancelButtonText: this.$t(\'common.no\'),\r\n        type: \'warning\'\r\n      }).then(async () => {\r\n        let re = await delCarFaultBaseInfo({faultId: row.faultId})\r\n        if(re.message==="OK"){\r\n          this.$message({\r\n            message:  this.$t(\'common.tips.delSuccess\'),\r\n            type: \'success\'\r\n          });\r\n        } else {\r\n          this.$message({\r\n            message: this.$t(\'library.deleteFail\') ,\r\n            type: \'error\'\r\n          });\r\n        }\r\n        this.getList()\r\n      }).catch(() => {\r\n        this.$message({\r\n          type: \'info\',\r\n          message:  this.$t(\'library.cancelDelete\') \r\n        });          \r\n      });\r\n    },\r\n    showFaultLevelLabel (row) {\r\n      switch (row) {\r\n        case \'S\':\r\n          return this.$t(\'library.serious\') \r\n        case \'C\':\r\n          return  this.$t(\'library.common\') \r\n        case \'D\': \r\n          return  this.$t(\'library.heating\') \r\n      }\r\n    },\r\n    handleDownExcel () {\r\n      this.iframeFilter = {\r\n        data: {\r\n          isEmail: true\r\n        }\r\n      }\r\n    },\r\n    async emailExcel (email) {\r\n      await exportCarFaultBaseList(Object.assign({ email: email }, this.query))\r\n      this.$message.success( this.$t(\'export.receive\') );\r\n    },\r\n    async getList() {\r\n        let re = await queryCarFaultBaseList(this.query);\r\n        this.tableData = re.data.list\r\n        this.total = re.data.total\r\n    },\r\n    exportFault () {\r\n      \r\n    },\r\n    showDetail (row) {\r\n      console.log(row)\r\n    }\r\n  }\r\n}\r\n<\/script>\r\n\r\n<style scoped>\r\n  .dialogFormItem {\r\n    width: 300px\r\n  }\r\n</style>\r\n']}]),e.exports=t},"321e":function(e,t,r){"use strict";r.d(t,"c",(function(){return l})),r.d(t,"d",(function(){return i})),r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return s})),r.d(t,"i",(function(){return u})),r.d(t,"g",(function(){return c})),r.d(t,"e",(function(){return d})),r.d(t,"f",(function(){return p})),r.d(t,"h",(function(){return m}));var a=r("6ebf"),n=a["a"],l=function(e,t,r){var a=/[@#\$%\^&\*\!~`'",:+=?\\]+/g;if(a.test(t))return r(new Error(n.t("common.rules.checkString")));r()},i=function(e,t,r){var a=/^(https|http|ftp|mms)?:\/\//;if(!a.test(t))return r(new Error(n.t("common.rules.checkUrl")));r()},o=function(e,t,r){var a=/^[1-9]\d*$/;if(!a.test(t))return r(new Error(n.t("common.rules.Num")));r()},s=function(e,t,r){var a=/^[0-9a-fA-F]{6}$/;if(!a.test(t))return r(new Error(n.t("common.rules.checkColor")));r()},u=function(e,t,r){var a=/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+((\.[a-zA-Z0-9_-]{2,3}){1,2})$/;if(!a.test(t))return r(new Error(n.t("common.rules.validateEmail")));r()},c=function(e){for(var t in e)e[t]instanceof Object&&(e[t]=JSON.stringify(e[t]));return e},d=function(e,t,r){var a=/^[a-zA-Z0-9]{1,16}$/;if(!a.test(t))return r(new Error(n.t("common.rules.letterOrNumber16")));r()},p=function(e,t,r){var a=/^[1][0-9]{10}$/;if(!a.test(t))return r(new Error(n.t("common.rules.mobilePhone")));r()},m=function(e,t,r){var a=/^\d+$/;if(!a.test(t))return r(new Error(n.t("common.rules.publicTel")));r()}},"41bc":function(e,t,r){"use strict";r.d(t,"d",(function(){return l})),r.d(t,"c",(function(){return i})),r.d(t,"b",(function(){return o})),r.d(t,"g",(function(){return s})),r.d(t,"f",(function(){return u})),r.d(t,"a",(function(){return c})),r.d(t,"e",(function(){return d}));var a=r("b32d"),n=function(e){return e},l=function(e){return Object(a["a"])({url:n("operate/BannerInfo/QueryBannerInfo"),method:"get",params:e})},i=function(e){return Object(a["a"])({url:n("operate/BannerInfo/MoveBannerInfo"),method:"get",params:e})},o=function(e){return Object(a["a"])({url:n("operate/BannerInfo/DelBannerInfo"),method:"post",data:{id:e}})},s=function(e){return Object(a["a"])({url:n("wechat/setAd"),method:"post",data:e})},u=function(e){return Object(a["a"])({url:n("operate/BannerInfo/UpdateBannerOnline"),method:"get",params:e})},c=function(e){return Object(a["a"])({url:n("operate/BannerInfo/AddBannerInfo"),method:"get",params:e})},d=function(e){return Object(a["a"])({url:n("operate/BannerInfo/UpdateBannerInfo"),method:"get",params:e})}},"4a2e":function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("iframe",{staticStyle:{display:"none"},attrs:{src:e.iframeSrc}}),r("el-dialog",{attrs:{width:"550px","close-on-click-modal":!1,title:e.title,visible:e.dialogPvVisible,"before-close":e.clearAddform},on:{"update:visible":function(t){e.dialogPvVisible=t}},nativeOn:{submit:function(e){e.preventDefault()}}},[r("el-form",{ref:"addForm",attrs:{model:e.addForm}},[r("el-form-item",{attrs:{"label-width":"80px",label:e.$t("user.email")+"：",prop:"email",rules:e.ruless.email}},[r("el-input",{attrs:{size:"small",maxlength:50},model:{value:e.addForm.email,callback:function(t){e.$set(e.addForm,"email",t)},expression:"addForm.email"}})],1)],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{type:"primary"},on:{click:e.childMethod}},[e._v(e._s(e.$t("common.submit")))])],1)],1)],1)},n=[],l=r("321e"),i={props:{iframeFilter:{type:Object,required:!0,default:function(){return{data:{isEmail:!1}}}}},computed:{title:function(){return this.$t("export.exceed")}},data:function(){return{addForm:{email:""},iframeSrc:null,dialogPvVisible:!1,ruless:{email:[{required:!0,message:"请输入邮箱",trigger:"blur"},{max:50,message:"请输入50个以内的字符",trigger:"change"},{validator:l["i"],trigger:"blur"}]}}},watch:{"iframeFilter.data":function(e,t){e&&e.isEmail?this.dialogPvVisible=!0:this.iframeSrc=e}},methods:{clearAddform:function(){this.$refs["addForm"].resetFields(),this.dialogPvVisible=!1},childMethod:function(){var e=this;this.$refs["addForm"].validate((function(t){if(!t)return!1;e.$emit("exportMethod",e.addForm.email),e.clearAddform()}))}}},o=i,s=r("2877"),u=Object(s["a"])(o,a,n,!1,null,null,null);t["a"]=u.exports},"5c4c":function(e,t,r){"use strict";var a=r("14ce"),n=r.n(a);n.a},6407:function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"pagination-container",class:{hidden:e.hidden}},[r("el-pagination",e._b({attrs:{background:e.background,"current-page":e.currentPage,"page-size":e.pageSize,layout:e.layout,"page-sizes":e.pageSizes,total:e.total},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t},"update:pageSize":function(t){e.pageSize=t},"update:page-size":function(t){e.pageSize=t},"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}},"el-pagination",e.$attrs,!1))],1)},n=[],l=r("d4ec"),i=r("bee2"),o=r("262e"),s=r("2caf"),u=r("9ab4"),c=r("60a3"),d=function(e){Object(o["a"])(r,e);var t=Object(s["a"])(r);function r(){return Object(l["a"])(this,r),t.apply(this,arguments)}return Object(i["a"])(r,[{key:"handleSizeChange",value:function(e){this.$emit("pagination",{page:this.currentPage,limit:e})}},{key:"handleCurrentChange",value:function(e){this.$emit("pagination",{page:e,limit:this.pageSize})}},{key:"currentPage",get:function(){return this.page},set:function(e){this.$emit("update:page",e)}},{key:"pageSize",get:function(){return this.limit},set:function(e){this.$emit("update:limit",e)}}]),r}(c["e"]);Object(u["a"])([Object(c["c"])({required:!0})],d.prototype,"total",void 0),Object(u["a"])([Object(c["c"])({default:!1})],d.prototype,"hidden",void 0),Object(u["a"])([Object(c["c"])({default:!0})],d.prototype,"background",void 0),Object(u["a"])([Object(c["c"])({default:function(){}})],d.prototype,"pageSizes",void 0),Object(u["a"])([Object(c["c"])({default:"total, sizes, prev, pager, next, jumper"})],d.prototype,"layout",void 0),Object(u["a"])([Object(c["c"])({default:1})],d.prototype,"page",void 0),Object(u["a"])([Object(c["c"])({default:20})],d.prototype,"limit",void 0),d=Object(u["a"])([c["a"]],d);var p=d,m=p,f=(r("899d"),r("2877")),b=Object(f["a"])(m,a,n,!1,null,"6b7bdeba",null);t["a"]=b.exports},"6bec":function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-form-item",{attrs:{label:e.uploadConfig.label,rules:e.rule,prop:e.uploadConfig.ruleName?e.uploadConfig.ruleName:"img"}},[r("el-upload",{ref:"uploadImg",staticClass:"upload-demo",attrs:{"show-file-list":!0,name:"file",prop:e.prop,action:e.actionUp,"on-success":e.onUploadSuccess,"on-progress":e.progress,"on-preview":e.handlePreview,"on-remove":e.onHandleRemove,"before-remove":e.beforeRemove,accept:"image/png,image/gif,image/jpg,image/jpeg","list-type":"picture",multiple:e.multiple,limit:e.uploadConfig.numLimt,"on-exceed":e.handleExceed,"before-upload":e.beforeUploadFile,"file-list":e.fileList,disabled:e.isEdit,drag:!1}},[r("el-button",{attrs:{size:"small",type:"primary"}},[e._v(" "+e._s(e.$t("common.clickUpload"))+" ")]),e.uploadConfig.notice?r("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v(" "+e._s(e.$t("common.notice"))+"："+e._s(e.uploadConfig.notice)+" ")]):e._e()],1)],1)},n=[],l=(r("99af"),r("d4ec")),i=r("bee2"),o=r("262e"),s=r("2caf"),u=r("9ab4"),c=r("60a3"),d=function(e){Object(o["a"])(r,e);var t=Object(s["a"])(r);function r(){var e;return Object(l["a"])(this,r),e=t.apply(this,arguments),e.sizeInvalid=!1,e.multiple=!1,e.isEdit=!1,e.fileObjec=[],e.fileList=[],e.actionUp=e.$UPLOAD_API,e}return Object(i["a"])(r,[{key:"handlePreview",value:function(e){}},{key:"handleExceed",value:function(e,t){this.$message.warning("当前限制选择 "+this.uploadConfig.numLimt+" 个文件，本次选择了"+e.length+"个文件，共选择了"+(e.length+t.length)+"个文件")}},{key:"beforeRemove",value:function(e,t){if(!this.sizeInvalid)return this.$confirm(this.$t("common.toDel")+"？");this.sizeInvalid=!1}},{key:"progress",value:function(){this.uploadFinish=!1}},{key:"onHandleRemove",value:function(e,t){return e}},{key:"onUploadSuccess",value:function(e){if(this.uploadFinish=!0,200===e.status){var t={filePath:e.data[1].fullPath,fileName:e.data[1].fileName,fileType:e.data[1].ext_name};return this.fileObjec.push(t),this.fileObjec}this.$message.error("".concat(this.$t("common.netError"),",").concat(this.$t("common.fileUploadFail")))}},{key:"beforeUploadFile",value:function(e){var t=e.size/1024/1024,r=this.uploadConfig.sizeLimit;if(t>r)return this.$notify.warning({title:"".concat(this.$t("common.warning")),message:"".concat(this.$t("common.fileSizeFail")).concat(r,"M")}),this.sizeInvalid=!0,!1}},{key:"changePath",value:function(e){this.fileList=e}}]),r}(c["e"]);Object(u["a"])([Object(c["c"])()],d.prototype,"uploadConfig",void 0),Object(u["a"])([Object(c["c"])()],d.prototype,"prop",void 0),Object(u["a"])([Object(c["c"])()],d.prototype,"rule",void 0),Object(u["a"])([Object(c["c"])()],d.prototype,"uploadPath",void 0),Object(u["a"])([Object(c["b"])()],d.prototype,"onHandleRemove",null),Object(u["a"])([Object(c["b"])()],d.prototype,"onUploadSuccess",null),d=Object(u["a"])([c["a"]],d);var p=d,m=p,f=r("2877"),b=Object(f["a"])(m,a,n,!1,null,null,null);t["a"]=b.exports},7651:function(e,t,r){var a=r("24fb");t=a(!0),t.push([e.i,".dialogFormItem[data-v-dc3bd24c]{width:300px}","",{version:3,sources:["D:/01.workspace/10.test/cicd/test-vue-ui/src/views/app/business/faultDiagnosis/faultCodeLibrary/groupSetting/D:/01.workspace/10.test/cicd/test-vue-ui/src/views/app/business/faultDiagnosis/faultCodeLibrary/groupSetting/src/views/app/business/faultDiagnosis/faultCodeLibrary/groupSetting/index.vue"],names:[],mappings:"AAgRA,iCACA,WACA",file:"index.vue",sourcesContent:['<template>\r\n\t<div class="app-container">\r\n    <el-card class="card-panel">\r\n      <el-form :inline="true" :model="query" label-position="left">\r\n        <el-form-item :label="$t(\'groupSetting.faultGroup\')" label-width="90px">\r\n          <el-input v-model="query.groupNumber" style="width: 120px"/>\r\n        </el-form-item>\r\n        <el-form-item :label="$t(\'groupSetting.powerType\')" label-width="90px">\r\n          <el-select \r\n            v-model="query.powerType" \r\n            style="width: 120px"\r\n            :placeholder="$t(\'groupSetting.all\')"\r\n            clearable\r\n          >\r\n            <el-option\r\n              v-for="item in powerTypeList"\r\n              :label="item.name"\r\n              :value="item.name"\r\n              :key="item.value"\r\n            ></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item :label="$t(\'groupSetting.discharge\')" label-width="90px">\r\n          <el-select \r\n            v-model="query.dischargeType" \r\n            style="width: 120px"\r\n            :placeholder="$t(\'groupSetting.all\')"\r\n            clearable\r\n          >\r\n            <el-option\r\n              v-for="item in dischargeTypeList"\r\n              :label="item.name"\r\n              :value="item.name"\r\n              :key="item.value"\r\n            ></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item :label="$t(\'groupSetting.ecuType\')" label-width="90px">\r\n          <el-select \r\n            v-model="query.ecuType" \r\n            style="width: 120px"\r\n            :placeholder="$t(\'groupSetting.all\')"\r\n            clearable\r\n          >\r\n            <el-option\r\n              v-for="item in ecuTypeList"\r\n              :label="item.name"\r\n              :value="item.name"\r\n              :key="item.value"\r\n            ></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item :label="$t(\'groupSetting.ecuVersion\')" label-width="90px">\r\n          <el-select \r\n            v-model="query.ecuVersion" \r\n            style="width: 120px"\r\n            :placeholder="$t(\'groupSetting.all\')"\r\n            clearable\r\n          >\r\n            <el-option\r\n              v-for="item in ecuVersionList"\r\n              :label="item.name"\r\n              :value="item.name"\r\n              :key="item.value"\r\n            ></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item :label="$t(\'groupSetting.engineBrand\')" label-width="100px">\r\n          <el-select \r\n            v-model="query.engineBrand" \r\n            style="width: 120px"\r\n            :placeholder="$t(\'groupSetting.all\')"\r\n            clearable\r\n          >\r\n            <el-option\r\n              v-for="(item , index) in engineBrandList"\r\n              :label="item.engineBrand"\r\n              :value="item.engineBrand"\r\n              :key="index"\r\n            ></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item :label="$t(\'groupSetting.engineType\')" label-width="90px">\r\n          <el-input v-model="query.engineModel" style="width: 120px"/>\r\n        </el-form-item>\r\n\r\n        <el-row>\r\n          <center>\r\n            <el-button style="width: 150px;" type="primary" icon="el-icon-search" @click="getList()">{{$t(\'common.search\')}}</el-button>\r\n            <el-button style="width: 150px;" type="primary" @click="add()">{{$t(\'common.add\')}}</el-button>\r\n            <el-button style="width: 150px;" type="primary" @click="handleDownExcel()">{{$t(\'common.export\')}}</el-button>\r\n          </center>\r\n        </el-row>\r\n      </el-form>\r\n    </el-card>\r\n\r\n    <el-table\r\n      class=\'t-table\'\r\n      stripe\r\n      :data="tableData"\r\n      style="width: 100%; text-align: center;"\r\n    >\r\n      <el-table-column type="index" width="55" :label="$t(\'common.index\')"></el-table-column>\r\n      <el-table-column prop="groupNumber" align="center" :label="$t(\'groupSetting.faultGroup\')"></el-table-column>\r\n      <el-table-column prop="powerType" align="center" :label="$t(\'groupSetting.powerType\')"></el-table-column>\r\n      <el-table-column prop="dischargeType" align="center" :label="$t(\'groupSetting.discharge\')"></el-table-column>\r\n      <el-table-column prop="ecuType" align="center" :label="$t(\'groupSetting.ecuType\')"></el-table-column>\r\n      <el-table-column prop="ecuVersion" align="center" :label="$t(\'groupSetting.ecuVersion\')"></el-table-column>\r\n      <el-table-column prop="engineBrand" align="center" :label="$t(\'groupSetting.engineBrand\')"></el-table-column>\r\n      <el-table-column prop="updatedBy" align="center" :label="$t(\'groupSetting.operater\')"></el-table-column>\r\n      <el-table-column prop="updatedTime" align="center" :label="$t(\'groupSetting.lastUpdateTime\')"></el-table-column>\r\n      <el-table-column align="center" :label="$t(\'groupSetting.operate\')">\r\n        <template slot-scope="scope">\r\n          <el-button type="text" size="small" @click="detail(scope.row)">{{$t(\'groupSetting.detail\')}}</el-button>\r\n          <el-button type="text" size="small" @click="update(scope.row)">{{$t(\'groupSetting.update\')}}</el-button>\r\n          <el-button type="text" size="small" @click="del(scope.row)">{{$t(\'groupSetting.delete\')}}</el-button>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n\r\n    <pagination\r\n      v-show="total>0"\r\n      :total="total"\r\n      :page.sync="query.page_number"\r\n      :limit.sync="query.page_size"\r\n      @pagination="getList"\r\n    />\r\n    <el-dialog\r\n      :close-on-click-modal="false"\r\n      :visible.sync="dialogVis"\r\n      top="20vh"\r\n      width="50%"\r\n      :title="dialogType==\'add\'?$t(\'common.add\'):dialogType==\'detail\'?$t(\'common.del\'):dialogType==\'update\'?$t(\'common.edit\'):\'\'"\r\n      :show-close="false"\r\n    >\r\n      <center>\r\n        <el-form\r\n          :inline="true"\r\n          :model="addForm"\r\n          label-position="left"\r\n          :rules="addFormRuless"\r\n          ref="addForm"\r\n        >\r\n          <el-row>\r\n            <el-form-item :label="$t(\'groupSetting.faultGroup\')" label-width="150px" prop="partName">\r\n              <el-input v-model="addForm.groupNumber" class="dialogFormItem" :disabled="dialogType === \'detail\'"/>\r\n            </el-form-item>\r\n          </el-row>\r\n          \r\n        </el-form>\r\n      </center>\r\n    </el-dialog>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  queryFaultGroupList ,\r\n  queryDataDictList ,\r\n  queryAllEngineBrand ,\r\n  queryAllEngineModel ,\r\n  exportFaultGroupList ,\r\n  queryFaultGroupInfo ,\r\n  delFaultGroupInfo ,\r\n  saveFaultGroupInfo\r\n} from "@/api/business/businessService";\r\nimport pagination from \'@/components/pagination\'; \r\nimport Export from \'@/components/Export\';\r\nimport Import from \'@/components/import\';\r\n\r\nexport default {\r\n  name: \'Group\',\r\n  components: {\r\n    pagination ,\r\n    Export ,\r\n    Import\r\n  },\r\n  data () {\r\n    return {\r\n      addFormRuless: {},\r\n      addForm: {},\r\n      dialogVis: false,\r\n      dialogType: \'\',\r\n      engineBrandList: [],\r\n      ecuVersionList: [],\r\n      dischargeTypeList: [],\r\n      powerTypeList: [],\r\n      ecuTypeList: [],\r\n      total: 0,\r\n      query: {\r\n        page_number: 1,\r\n        page_size: 10\r\n      },\r\n      tableData: []\r\n    }\r\n  },\r\n  mounted() {\r\n    this.getList()\r\n    this.getAList()\r\n    this.getBList()\r\n    this.getCList()\r\n    this.getDList()\r\n    this.getAllEngineBrand()\r\n    this.getAllEngineModel()\r\n  },\r\n  methods: {\r\n    add () {\r\n      this.dialogVis = true\r\n      this.dialogType = \'add\'\r\n    },\r\n    async getList() {\r\n        const re = await queryFaultGroupList(this.query);\r\n        this.tableData = re.data.list\r\n        this.total = re.data.total\r\n    },\r\n    async getAList() {\r\n        const re = await queryDataDictList({code: \'FA01\'});\r\n        this.powerTypeList = re.data\r\n    },\r\n    async getBList() {\r\n        const re = await queryDataDictList({code: \'FA02\'});\r\n        this.dischargeTypeList = re.data\r\n    },\r\n    async getCList() {\r\n        const re = await queryDataDictList({code: \'FA03\'});\r\n        this.ecuTypeList = re.data\r\n    },\r\n    async getDList() {\r\n        const re = await queryDataDictList({code: \'FA04\'});\r\n        this.ecuVersionList = re.data\r\n    },\r\n    async getAllEngineBrand() {\r\n        const re = await queryAllEngineBrand();\r\n        this.engineBrandList = re.data\r\n    },\r\n    async getAllEngineModel() {\r\n        const re = await queryAllEngineModel();\r\n    },\r\n    del (row) {\r\n      console.log(row)\r\n      this.$confirm(this.$t(\'groupSetting.deleteConfirm\'), this.$t(\'groupSetting.tip\'), {\r\n        confirmButtonText: this.$t(\'groupSetting.confirm\'),\r\n        cancelButtonText: this.$t(\'groupSetting.cancel\'),\r\n        type: \'warning\'\r\n      })\r\n      .then(async () => {\r\n        let re = await delFaultGroupInfo({id: row.id})\r\n        if(re.message==="OK"){\r\n          this.$message({\r\n            message:  this.$t(\'groupSetting.deleteSuccess\'),\r\n            type: \'success\'\r\n          });\r\n        } else {\r\n          this.$message({\r\n            message: this.$t(\'groupSetting.deleteFault\'),\r\n            type: \'error\'\r\n          });\r\n        }\r\n        this.getList()\r\n      })\r\n      .catch(() => {\r\n        this.$message({\r\n          type: \'info\',\r\n          message:  this.$t(\'groupSetting.canceled\') \r\n        });          \r\n      });\r\n    },\r\n  }\r\n}\r\n<\/script>\r\n\r\n<style scoped>\r\n  .dialogFormItem {\r\n    width: 300px\r\n  }\r\n</style>\r\n']}]),e.exports=t},"834a":function(e,t,r){var a=r("7651");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var n=r("499e").default;n("798c4198",a,!0,{sourceMap:!0,shadowMode:!1})},"899d":function(e,t,r){"use strict";var a=r("ce92"),n=r.n(a);n.a},9132:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-tabs",{attrs:{type:"border-card"},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[r("el-tab-pane",{attrs:{label:e.$t("faultCodeLibrary.faultCodeLibrary"),name:"library"}},[r("library")],1),r("el-tab-pane",{attrs:{label:e.$t("faultCodeLibrary.fmi"),name:"fmi"}},[r("fmi")],1),r("el-tab-pane",{attrs:{label:e.$t("faultCodeLibrary.groupSetting"),name:"group"}},[r("group")],1)],1)},n=[],l=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"app-container"},[r("el-card",{staticClass:"card-panel"},[r("el-form",{attrs:{inline:!0,model:e.query,"label-position":"left"}},[r("el-form-item",{attrs:{label:e.$t("library.partsName"),"label-width":"90px"}},[r("el-input",{staticStyle:{width:"120px"},model:{value:e.query.partName,callback:function(t){e.$set(e.query,"partName",t)},expression:"query.partName"}})],1),r("el-form-item",{attrs:{label:e.$t("library.partsVal"),"label-width":"90px"}},[r("el-input",{staticStyle:{width:"120px"},model:{value:e.query.partValue,callback:function(t){e.$set(e.query,"partValue",t)},expression:"query.partValue"}})],1),r("el-form-item",{attrs:{label:"SPN:","label-width":"90px"}},[r("el-input",{staticStyle:{width:"120px"},model:{value:e.query.spn,callback:function(t){e.$set(e.query,"spn",t)},expression:"query.spn"}})],1),r("el-form-item",{attrs:{label:"FMI:","label-width":"90px"}},[r("el-input",{staticStyle:{width:"120px"},model:{value:e.query.fmi,callback:function(t){e.$set(e.query,"fmi",t)},expression:"query.fmi"}})],1),r("el-form-item",{attrs:{label:e.$t("library.diagnostic"),"label-width":"90px"}},[r("el-input",{staticStyle:{width:"120px"},model:{value:e.query.faultCode,callback:function(t){e.$set(e.query,"faultCode",t)},expression:"query.faultCode"}})],1),r("el-form-item",{attrs:{label:e.$t("library.group"),"label-width":"90px"}},[r("el-input",{staticStyle:{width:"120px"},model:{value:e.query.faultGroup,callback:function(t){e.$set(e.query,"faultGroup",t)},expression:"query.faultGroup"}})],1),r("el-form-item",{attrs:{label:e.$t("library.diagnostic"),"label-width":"90px"}},[r("el-select",{staticStyle:{width:"120px"},attrs:{placeholder:e.$t("common.all"),clearable:""},model:{value:e.query.faultLevel,callback:function(t){e.$set(e.query,"faultLevel",t)},expression:"query.faultLevel"}},[r("el-option",{attrs:{value:"S",label:e.$t("library.serious")}}),r("el-option",{attrs:{value:"C",label:e.$t("library.common")}}),r("el-option",{attrs:{value:"D",label:e.$t("library.heating")}})],1)],1),r("el-form-item",{attrs:{label:e.$t("library.type"),"label-width":"90px"}},[r("el-select",{staticStyle:{width:"120px"},attrs:{placeholder:e.$t("common.all"),clearable:""},model:{value:e.query.interventionType,callback:function(t){e.$set(e.query,"interventionType",t)},expression:"query.interventionType"}},[r("el-option",{attrs:{value:e.$t("library.cc"),label:e.$t("library.cc")}}),r("el-option",{attrs:{value:"",label:e.$t("library.empty")}})],1)],1),r("el-row",[r("center",[r("el-button",{staticStyle:{width:"150px"},attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(t){return e.getList()}}},[e._v(e._s(e.$t("common.search")))]),r("el-button",{staticStyle:{width:"150px"},attrs:{type:"primary"},on:{click:function(t){return e.add()}}},[e._v(e._s(e.$t("common.add")))]),r("el-button",{staticStyle:{width:"150px"},attrs:{type:"primary",disabled:!e.delIds.faultId.length},on:{click:function(t){return e.del(e.delIds)}}},[e._v(e._s(e.$t("common.mdelete")))]),r("el-button",{staticStyle:{width:"150px"},attrs:{type:"primary"},on:{click:function(t){return e.importFaults()}}},[e._v(e._s(e.$t("common.import")))]),r("el-button",{staticStyle:{width:"150px"},attrs:{type:"primary"},on:{click:function(t){return e.handleDownExcel()}}},[e._v(e._s(e.$t("common.export")))])],1)],1)],1)],1),r("el-table",{staticClass:"t-table",staticStyle:{width:"100%","text-align":"center"},attrs:{stripe:"",data:e.tableData},on:{"selection-change":e.handleSelectionChange}},[r("el-table-column",{attrs:{type:"selection",width:"55"}}),r("el-table-column",{attrs:{prop:"partName",align:"center",label:e.$t("library.parts")}}),r("el-table-column",{attrs:{prop:"partValue",align:"center",label:e.$t("library.partsVal")}}),r("el-table-column",{attrs:{prop:"faultGroup",align:"center",label:e.$t("library.group")}}),r("el-table-column",{attrs:{prop:"faultLevel",align:"center",label:e.$t("library.level")},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e.showFaultLevelLabel(t.row.faultLevel))+" ")]}}])}),r("el-table-column",{attrs:{prop:"interventionType",align:"center",label:e.$t("library.type")}}),r("el-table-column",{attrs:{prop:"faultCode",align:"center",label:e.$t("library.diagnostic")}}),r("el-table-column",{attrs:{prop:"spn",align:"center",label:"SPN"}}),r("el-table-column",{attrs:{prop:"fmi",align:"center",label:"FMI"}}),r("el-table-column",{attrs:{prop:"faultDes",align:"center",label:e.$t("library.desc")}}),r("el-table-column",{attrs:{prop:"updateTime",align:"center",label:e.$t("oil.updateTime")}}),r("el-table-column",{attrs:{align:"center",label:e.$t("carGroup.operation")},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{type:"text",size:"small"},on:{click:function(r){return e.detail(t.row)}}},[e._v(e._s(e.$t("common.detail")))]),r("el-button",{attrs:{type:"text",size:"small"},on:{click:function(r){return e.update(t.row)}}},[e._v(e._s(e.$t("carGroup.edit")))]),r("el-button",{attrs:{type:"text",size:"small"},on:{click:function(r){return e.del(t.row)}}},[e._v(e._s(e.$t("common.del")))])]}}])})],1),r("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.query.page_number,limit:e.query.page_size},on:{"update:page":function(t){return e.$set(e.query,"page_number",t)},"update:limit":function(t){return e.$set(e.query,"page_size",t)},pagination:e.getList}}),r("Import",{attrs:{title:e.$t("library.import"),batchAddCarVis:e.batchAddCarVis,limit:e.limit,action:e.action,accept:e.accept,tip:e.tip,demoURL:e.demoURL,batchAddInfo:e.batchAddInfo},on:{handleSuccess:e.handleSuccess,cancelBatchAddCar:e.cancelBatchAddCar}}),r("Export",{attrs:{"iframe-filter":e.iframeFilter},on:{exportMethod:e.emailExcel}}),r("el-dialog",{attrs:{"close-on-click-modal":!1,visible:e.dialogVis,top:"20vh",width:"50%",title:"add"==e.dialogType?e.$t("common.add"):"detail"==e.dialogType?e.$t("common.del"):"update"==e.dialogType?e.$t("common.edit"):"","show-close":!1},on:{"update:visible":function(t){e.dialogVis=t}}},[r("center",[r("el-form",{ref:"addForm",attrs:{inline:!0,model:e.addForm,"label-position":"left",rules:e.addFormRuless}},[r("el-row",[r("el-form-item",{attrs:{label:e.$t("library.parts"),"label-width":"150px",prop:"partName"}},[r("el-input",{staticClass:"dialogFormItem",attrs:{disabled:"detail"===e.dialogType},model:{value:e.addForm.partName,callback:function(t){e.$set(e.addForm,"partName",t)},expression:"addForm.partName"}})],1)],1),r("el-row",[r("el-form-item",{attrs:{label:e.$t("library.partsVal"),"label-width":"150px",prop:"partValue"}},[r("el-input",{staticClass:"dialogFormItem",attrs:{disabled:"detail"===e.dialogType},model:{value:e.addForm.partValue,callback:function(t){e.$set(e.addForm,"partValue",t)},expression:"addForm.partValue"}})],1)],1),r("el-row",[r("el-form-item",{attrs:{label:e.$t("library.group"),"label-width":"150px",prop:"faultGroup"}},[r("el-input",{staticClass:"dialogFormItem",attrs:{disabled:"detail"===e.dialogType},model:{value:e.addForm.faultGroup,callback:function(t){e.$set(e.addForm,"faultGroup",t)},expression:"addForm.faultGroup"}})],1)],1),r("el-row",[r("el-form-item",{attrs:{label:e.$t("library.level")+"：","label-width":"150px",prop:"faultLevel"}},[r("el-select",{staticClass:"dialogFormItem",attrs:{placeholder:e.$t("common.select"),clearable:"",disabled:"detail"===e.dialogType},model:{value:e.addForm.faultLevel,callback:function(t){e.$set(e.addForm,"faultLevel",t)},expression:"addForm.faultLevel"}},[r("el-option",{attrs:{value:"S",label:e.$t("library.serious")}}),r("el-option",{attrs:{value:"C",label:e.$t("library.common")}}),r("el-option",{attrs:{value:"D",label:e.$t("library.heating")}})],1)],1)],1),r("el-row",[r("el-form-item",{attrs:{label:e.$t("library.inter"),"label-width":"150px",prop:"interventionType"}},[r("el-select",{staticClass:"dialogFormItem",attrs:{placeholder:e.$t("common.select"),clearable:"",disabled:"detail"===e.dialogType},model:{value:e.addForm.interventionType,callback:function(t){e.$set(e.addForm,"interventionType",t)},expression:"addForm.interventionType"}},[r("el-option",{attrs:{value:e.$t("library.cc"),label:e.$t("library.cc")}}),r("el-option",{attrs:{value:"",label:e.$t("library.empty")}})],1)],1)],1),r("el-row",[r("el-form-item",{attrs:{label:e.$t("library.code"),"label-width":"150px",prop:"faultCode"}},[r("el-input",{staticClass:"dialogFormItem",attrs:{disabled:"detail"===e.dialogType},model:{value:e.addForm.faultCode,callback:function(t){e.$set(e.addForm,"faultCode",t)},expression:"addForm.faultCode"}})],1)],1),r("el-row",[r("el-form-item",{staticClass:"is-required",attrs:{label:"SPN：","label-width":"150px",prop:"spn"}},[r("el-input",{staticClass:"dialogFormItem",attrs:{disabled:"detail"===e.dialogType},model:{value:e.addForm.spn,callback:function(t){e.$set(e.addForm,"spn",t)},expression:"addForm.spn"}})],1)],1),r("el-row",[r("el-form-item",{attrs:{label:"FMI：","label-width":"150px",prop:"fmi"}},[r("el-input",{staticClass:"dialogFormItem",attrs:{disabled:"detail"===e.dialogType},model:{value:e.addForm.fmi,callback:function(t){e.$set(e.addForm,"fmi",t)},expression:"addForm.fmi"}})],1)],1),r("el-row",[r("el-form-item",{attrs:{label:e.$t("library.desc")+"：","label-width":"150px",prop:"faultDes"}},[r("el-input",{staticClass:"dialogFormItem",attrs:{type:"textarea",disabled:"detail"===e.dialogType},model:{value:e.addForm.faultDes,callback:function(t){e.$set(e.addForm,"faultDes",t)},expression:"addForm.faultDes"}})],1)],1),r("el-row",[r("el-form-item",{attrs:{label:e.$t("library.widget"),"label-width":"150px",prop:"faultComponent"}},[r("el-input",{staticClass:"dialogFormItem",attrs:{type:"textarea",disabled:"detail"===e.dialogType},model:{value:e.addForm.faultComponent,callback:function(t){e.$set(e.addForm,"faultComponent",t)},expression:"addForm.faultComponent"}})],1)],1),r("el-row",[r("el-form-item",{attrs:{label:e.$t("library.question"),"label-width":"150px",prop:"causeProblems"}},[r("el-input",{staticClass:"dialogFormItem",attrs:{type:"textarea",maxlength:"2000","show-word-limit":"",disabled:"detail"===e.dialogType},model:{value:e.addForm.causeProblems,callback:function(t){e.$set(e.addForm,"causeProblems",t)},expression:"addForm.causeProblems"}})],1)],1),r("el-row",[r("el-form-item",{attrs:{label:e.$t("library.reason"),"label-width":"150px",prop:"faultCause"}},[r("el-input",{staticClass:"dialogFormItem",attrs:{type:"textarea",maxlength:"2000","show-word-limit":"",disabled:"detail"===e.dialogType},model:{value:e.addForm.faultCause,callback:function(t){e.$set(e.addForm,"faultCause",t)},expression:"addForm.faultCause"}})],1)],1),r("el-row",[r("el-form-item",{attrs:{label:e.$t("library.solution"),"label-width":"150px",prop:"faultSolutions"}},[r("el-input",{staticClass:"dialogFormItem",attrs:{type:"textarea",maxlength:"2000","show-word-limit":"",disabled:"detail"===e.dialogType},model:{value:e.addForm.faultSolutions,callback:function(t){e.$set(e.addForm,"faultSolutions",t)},expression:"addForm.faultSolutions"}})],1)],1),r("el-row",[r("el-form-item",[r("el-button",{attrs:{type:"warning"},on:{click:e.cancel}},[e._v(e._s(e.$t("common.cancel")))]),"add"==e.dialogType||"update"==e.dialogType?r("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v(e._s(e.$t("common.submit")))]):e._e()],1)],1)],1)],1)],1)],1)},i=[],o=(r("4160"),r("a15b"),r("159b"),r("96cf"),r("1da1")),s=r("da9c"),u=r("6407"),c=r("4a2e"),d=r("e168"),p={name:"Library",components:{pagination:u["a"],Export:c["a"],Import:d["a"]},data:function(){var e=this,t=function(t,r,a){var n=/^[0-9a-zA-Z/]+$/;return r?n.test(r)?void a():a(new Error(e.$t("library.formatSPN"))):a(new Error(e.$t("library.needSPN")))},r=function(t,r,a){var n=/^[0-9a-zA-Z/]+$/;if(!n.test(r)&&r)return a(new Error(e.$t("library.formatCode")));a()};return{addFormRuless:{partName:[{required:!0,message:this.$t("library.needWidget"),trigger:"blur"}],partValue:[{required:!0,message:this.$t("library.needValue"),trigger:"blur"}],faultGroup:[{required:!0,message:this.$t("library.needGroup"),trigger:"blur"}],faultLevel:[{required:!0,message:this.$t("library.needLevel"),trigger:"change"}],faultCode:[{validator:r,trigger:"blur"}],spn:[{validator:t,trigger:"blur"}],fmi:[{required:!0,message:this.$t("library.needDFMI"),trigger:"change"}],faultDes:[{required:!0,message:this.$t("library.needDesc"),trigger:"change"}]},addForm:{partName:"",partValue:"",faultGroup:"",faultLevel:"",interventionType:"",faultCode:"",spn:"",fmi:"",faultDes:"",faultComponent:"",causeProblems:"",faultCause:"",faultSolutions:""},dialogType:"",dialogVis:!1,tip:this.$t("library.remark"),batchAddInfo:null,action:"https://sy.aerozhonghuan.com:44300/fsm/fsevice/uploadFile",demoURL:"http://sy.aerozhonghuan.com:81/test/yiqi/web/qdfaw/tboss/assets/import/breakdown.xlsx",accept:".xlsx,.xls",limit:1,batchAddCarVis:!1,iframeFilter:{},total:0,tableData:[],query:{page_number:1,page_size:10},delIds:{faultId:[]},updateParams:{}}},mounted:function(){this.getList()},methods:{cancel:function(){this.$refs["addForm"].resetFields(),this.dialogVis=!1,this.dialogType=""},submit:function(){var e=this;this.$refs["addForm"].validate(function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(r){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!r){t.next=8;break}return"update"==e.dialogType?(e.addForm.createTime=e.updateParams.createTime,e.addForm.createUser=e.updateParams.createUser,e.addForm.updateTime=e.updateParams.updateTime,e.addForm.updateUser=e.updateParams.updateUser,e.addForm.faultId=e.updateParams.faultId):(delete e.addForm.createTime,delete e.addForm.createUser,delete e.addForm.updateTime,delete e.addForm.updateUser,delete e.addForm.faultId),t.next=4,Object(s["jb"])(e.addForm);case 4:a=t.sent,"OK"==a.message?(e.$message({message:e.$t("common.tips.operateSuccess"),type:"success"}),e.$refs["addForm"].resetFields(),e.dialogVis=!1,e.dialogType="",e.getList()):e.$message({message:e.$t("library.operateFail"),type:"error"}),t.next=10;break;case 8:return e.$message.error(e.$t("carGroupBuild.sunmitFault")),t.abrupt("return",!1);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},add:function(){this.dialogVis=!0,this.dialogType="add"},detail:function(e){this.dialogVis=!0,this.dialogType="detail",this.getAddFormInfo(e.faultId)},update:function(e){this.updateParams.createTime=e.createTime,this.updateParams.createUser=e.createUser,this.updateParams.updateTime=e.updateTime,this.updateParams.updateUser=e.updateUser,this.updateParams.faultId=e.faultId,this.dialogVis=!0,this.dialogType="update",this.getAddFormInfo(e.faultId)},getAddFormInfo:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,Object(s["S"])({faultId:e});case 2:a=r.sent,t.addForm.partName=a.data.partName,t.addForm.partValue=a.data.partValue,t.addForm.faultGroup=a.data.faultGroup,t.addForm.faultLevel=a.data.faultLevel,t.addForm.interventionType=a.data.interventionType,t.addForm.faultCode=a.data.faultCode,t.addForm.spn=a.data.spn,t.addForm.fmi=a.data.fmi,t.addForm.faultDes=a.data.faultDes,t.addForm.faultComponent=a.data.faultComponent,t.addForm.causeProblems=a.data.causeProblems,t.addForm.faultCause=a.data.faultCause,t.addForm.faultSolutions=a.data.faultSolutions;case 16:case"end":return r.stop()}}),r)})))()},importFaults:function(){this.batchAddCarVis=!0},handleSuccess:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function r(){var a,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a={uuid:e.data.fullPath,fileType:e.data.ext_name},r.next=3,Object(s["H"])(a);case 3:n=r.sent,t.batchAddInfo=n.data;case 5:case"end":return r.stop()}}),r)})))()},cancelBatchAddCar:function(){this.batchAddCarVis=!1,this.batchAddInfo=null},handleSelectionChange:function(e){var t=this;this.delIds.faultId=[],e.forEach((function(e){t.delIds.faultId.push(e.faultId)})),this.delIds.faultId=this.delIds.faultId.join()},del:function(e){var t=this;this.$confirm(this.$t("library.delete"),this.$t("common.del"),{confirmButtonText:this.$t("common.yes"),cancelButtonText:this.$t("common.no"),type:"warning"}).then(Object(o["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,Object(s["n"])({faultId:e.faultId});case 2:a=r.sent,"OK"===a.message?t.$message({message:t.$t("common.tips.delSuccess"),type:"success"}):t.$message({message:t.$t("library.deleteFail"),type:"error"}),t.getList();case 5:case"end":return r.stop()}}),r)})))).catch((function(){t.$message({type:"info",message:t.$t("library.cancelDelete")})}))},showFaultLevelLabel:function(e){switch(e){case"S":return this.$t("library.serious");case"C":return this.$t("library.common");case"D":return this.$t("library.heating")}},handleDownExcel:function(){this.iframeFilter={data:{isEmail:!0}}},emailExcel:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,Object(s["w"])(Object.assign({email:e},t.query));case 2:t.$message.success(t.$t("export.receive"));case 3:case"end":return r.stop()}}),r)})))()},getList:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(s["T"])(e.query);case 2:r=t.sent,e.tableData=r.data.list,e.total=r.data.total;case 5:case"end":return t.stop()}}),t)})))()},exportFault:function(){},showDetail:function(e){console.log(e)}}},m=p,f=(r("e315"),r("2877")),b=Object(f["a"])(m,l,i,!1,null,"beed088c",null),g=b.exports,h=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"app-container"},[r("el-table",{staticClass:"t-table",staticStyle:{width:"100%","text-align":"center"},attrs:{stripe:"",data:e.tableData}},[r("el-table-column",{attrs:{prop:"fmi",align:"center",label:e.$t("fmi.fmi")}}),r("el-table-column",{attrs:{prop:"faultLevel",align:"center",label:e.$t("fmi.faultLevel")}}),r("el-table-column",{attrs:{prop:"faultDes",align:"center",label:e.$t("fmi.desc")}})],1)],1)},y=[],v={name:"Fmi",components:{},data:function(){return{tableData:[]}},mounted:function(){this.getList()},methods:{getList:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(s["U"])();case 2:r=t.sent,e.tableData=r.data.list;case 4:case"end":return t.stop()}}),t)})))()}}},w=v,$=Object(f["a"])(w,h,y,!1,null,"f43b64d6",null),x=$.exports,F=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"app-container"},[r("el-card",{staticClass:"card-panel"},[r("el-form",{attrs:{inline:!0,model:e.query,"label-position":"left"}},[r("el-form-item",{attrs:{label:e.$t("groupSetting.faultGroup"),"label-width":"90px"}},[r("el-input",{staticStyle:{width:"120px"},model:{value:e.query.groupNumber,callback:function(t){e.$set(e.query,"groupNumber",t)},expression:"query.groupNumber"}})],1),r("el-form-item",{attrs:{label:e.$t("groupSetting.powerType"),"label-width":"90px"}},[r("el-select",{staticStyle:{width:"120px"},attrs:{placeholder:e.$t("groupSetting.all"),clearable:""},model:{value:e.query.powerType,callback:function(t){e.$set(e.query,"powerType",t)},expression:"query.powerType"}},e._l(e.powerTypeList,(function(e){return r("el-option",{key:e.value,attrs:{label:e.name,value:e.name}})})),1)],1),r("el-form-item",{attrs:{label:e.$t("groupSetting.discharge"),"label-width":"90px"}},[r("el-select",{staticStyle:{width:"120px"},attrs:{placeholder:e.$t("groupSetting.all"),clearable:""},model:{value:e.query.dischargeType,callback:function(t){e.$set(e.query,"dischargeType",t)},expression:"query.dischargeType"}},e._l(e.dischargeTypeList,(function(e){return r("el-option",{key:e.value,attrs:{label:e.name,value:e.name}})})),1)],1),r("el-form-item",{attrs:{label:e.$t("groupSetting.ecuType"),"label-width":"90px"}},[r("el-select",{staticStyle:{width:"120px"},attrs:{placeholder:e.$t("groupSetting.all"),clearable:""},model:{value:e.query.ecuType,callback:function(t){e.$set(e.query,"ecuType",t)},expression:"query.ecuType"}},e._l(e.ecuTypeList,(function(e){return r("el-option",{key:e.value,attrs:{label:e.name,value:e.name}})})),1)],1),r("el-form-item",{attrs:{label:e.$t("groupSetting.ecuVersion"),"label-width":"90px"}},[r("el-select",{staticStyle:{width:"120px"},attrs:{placeholder:e.$t("groupSetting.all"),clearable:""},model:{value:e.query.ecuVersion,callback:function(t){e.$set(e.query,"ecuVersion",t)},expression:"query.ecuVersion"}},e._l(e.ecuVersionList,(function(e){return r("el-option",{key:e.value,attrs:{label:e.name,value:e.name}})})),1)],1),r("el-form-item",{attrs:{label:e.$t("groupSetting.engineBrand"),"label-width":"100px"}},[r("el-select",{staticStyle:{width:"120px"},attrs:{placeholder:e.$t("groupSetting.all"),clearable:""},model:{value:e.query.engineBrand,callback:function(t){e.$set(e.query,"engineBrand",t)},expression:"query.engineBrand"}},e._l(e.engineBrandList,(function(e,t){return r("el-option",{key:t,attrs:{label:e.engineBrand,value:e.engineBrand}})})),1)],1),r("el-form-item",{attrs:{label:e.$t("groupSetting.engineType"),"label-width":"90px"}},[r("el-input",{staticStyle:{width:"120px"},model:{value:e.query.engineModel,callback:function(t){e.$set(e.query,"engineModel",t)},expression:"query.engineModel"}})],1),r("el-row",[r("center",[r("el-button",{staticStyle:{width:"150px"},attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(t){return e.getList()}}},[e._v(e._s(e.$t("common.search")))]),r("el-button",{staticStyle:{width:"150px"},attrs:{type:"primary"},on:{click:function(t){return e.add()}}},[e._v(e._s(e.$t("common.add")))]),r("el-button",{staticStyle:{width:"150px"},attrs:{type:"primary"},on:{click:function(t){return e.handleDownExcel()}}},[e._v(e._s(e.$t("common.export")))])],1)],1)],1)],1),r("el-table",{staticClass:"t-table",staticStyle:{width:"100%","text-align":"center"},attrs:{stripe:"",data:e.tableData}},[r("el-table-column",{attrs:{type:"index",width:"55",label:e.$t("common.index")}}),r("el-table-column",{attrs:{prop:"groupNumber",align:"center",label:e.$t("groupSetting.faultGroup")}}),r("el-table-column",{attrs:{prop:"powerType",align:"center",label:e.$t("groupSetting.powerType")}}),r("el-table-column",{attrs:{prop:"dischargeType",align:"center",label:e.$t("groupSetting.discharge")}}),r("el-table-column",{attrs:{prop:"ecuType",align:"center",label:e.$t("groupSetting.ecuType")}}),r("el-table-column",{attrs:{prop:"ecuVersion",align:"center",label:e.$t("groupSetting.ecuVersion")}}),r("el-table-column",{attrs:{prop:"engineBrand",align:"center",label:e.$t("groupSetting.engineBrand")}}),r("el-table-column",{attrs:{prop:"updatedBy",align:"center",label:e.$t("groupSetting.operater")}}),r("el-table-column",{attrs:{prop:"updatedTime",align:"center",label:e.$t("groupSetting.lastUpdateTime")}}),r("el-table-column",{attrs:{align:"center",label:e.$t("groupSetting.operate")},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{type:"text",size:"small"},on:{click:function(r){return e.detail(t.row)}}},[e._v(e._s(e.$t("groupSetting.detail")))]),r("el-button",{attrs:{type:"text",size:"small"},on:{click:function(r){return e.update(t.row)}}},[e._v(e._s(e.$t("groupSetting.update")))]),r("el-button",{attrs:{type:"text",size:"small"},on:{click:function(r){return e.del(t.row)}}},[e._v(e._s(e.$t("groupSetting.delete")))])]}}])})],1),r("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.query.page_number,limit:e.query.page_size},on:{"update:page":function(t){return e.$set(e.query,"page_number",t)},"update:limit":function(t){return e.$set(e.query,"page_size",t)},pagination:e.getList}}),r("el-dialog",{attrs:{"close-on-click-modal":!1,visible:e.dialogVis,top:"20vh",width:"50%",title:"add"==e.dialogType?e.$t("common.add"):"detail"==e.dialogType?e.$t("common.del"):"update"==e.dialogType?e.$t("common.edit"):"","show-close":!1},on:{"update:visible":function(t){e.dialogVis=t}}},[r("center",[r("el-form",{ref:"addForm",attrs:{inline:!0,model:e.addForm,"label-position":"left",rules:e.addFormRuless}},[r("el-row",[r("el-form-item",{attrs:{label:e.$t("groupSetting.faultGroup"),"label-width":"150px",prop:"partName"}},[r("el-input",{staticClass:"dialogFormItem",attrs:{disabled:"detail"===e.dialogType},model:{value:e.addForm.groupNumber,callback:function(t){e.$set(e.addForm,"groupNumber",t)},expression:"addForm.groupNumber"}})],1)],1)],1)],1)],1)],1)},C=[],T={name:"Group",components:{pagination:u["a"],Export:c["a"],Import:d["a"]},data:function(){return{addFormRuless:{},addForm:{},dialogVis:!1,dialogType:"",engineBrandList:[],ecuVersionList:[],dischargeTypeList:[],powerTypeList:[],ecuTypeList:[],total:0,query:{page_number:1,page_size:10},tableData:[]}},mounted:function(){this.getList(),this.getAList(),this.getBList(),this.getCList(),this.getDList(),this.getAllEngineBrand(),this.getAllEngineModel()},methods:{add:function(){this.dialogVis=!0,this.dialogType="add"},getList:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(s["db"])(e.query);case 2:r=t.sent,e.tableData=r.data.list,e.total=r.data.total;case 5:case"end":return t.stop()}}),t)})))()},getAList:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(s["Z"])({code:"FA01"});case 2:r=t.sent,e.powerTypeList=r.data;case 4:case"end":return t.stop()}}),t)})))()},getBList:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(s["Z"])({code:"FA02"});case 2:r=t.sent,e.dischargeTypeList=r.data;case 4:case"end":return t.stop()}}),t)})))()},getCList:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(s["Z"])({code:"FA03"});case 2:r=t.sent,e.ecuTypeList=r.data;case 4:case"end":return t.stop()}}),t)})))()},getDList:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(s["Z"])({code:"FA04"});case 2:r=t.sent,e.ecuVersionList=r.data;case 4:case"end":return t.stop()}}),t)})))()},getAllEngineBrand:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(s["P"])();case 2:r=t.sent,e.engineBrandList=r.data;case 4:case"end":return t.stop()}}),t)})))()},getAllEngineModel:function(){return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(s["Q"])();case 2:e.sent;case 3:case"end":return e.stop()}}),e)})))()},del:function(e){var t=this;console.log(e),this.$confirm(this.$t("groupSetting.deleteConfirm"),this.$t("groupSetting.tip"),{confirmButtonText:this.$t("groupSetting.confirm"),cancelButtonText:this.$t("groupSetting.cancel"),type:"warning"}).then(Object(o["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,Object(s["q"])({id:e.id});case 2:a=r.sent,"OK"===a.message?t.$message({message:t.$t("groupSetting.deleteSuccess"),type:"success"}):t.$message({message:t.$t("groupSetting.deleteFault"),type:"error"}),t.getList();case 5:case"end":return r.stop()}}),r)})))).catch((function(){t.$message({type:"info",message:t.$t("groupSetting.canceled")})}))}}},S=T,k=(r("c92e"),Object(f["a"])(S,F,C,!1,null,"dc3bd24c",null)),L=k.exports,I={name:"FaultCodeLibrary",components:{Library:g,Fmi:x,Group:L},data:function(){return{activeName:"library"}},activated:function(){},mounted:function(){},methods:{}},q=I,A=Object(f["a"])(q,a,n,!1,null,"20aa39ba",null);t["default"]=A.exports},9808:function(e,t,r){var a=r("24fb");t=a(!0),t.push([e.i,".pagination-container[data-v-6b7bdeba]{background:transparent;padding:32px 16px}.pagination-container.hidden[data-v-6b7bdeba]{display:none}","",{version:3,sources:["D:/01.workspace/10.test/cicd/test-vue-ui/src/components/D:/01.workspace/10.test/cicd/test-vue-ui/src/components/src/components/pagination.vue"],names:[],mappings:"AAyDA,uCACA,sBAAA,CACA,iBACA,CACA,8CACA,YACA",file:"pagination.vue",sourcesContent:['<template>\r\n  <div :class="{\'hidden\':hidden}"\r\n       class="pagination-container">\r\n    <el-pagination :background="background"\r\n                   :current-page.sync="currentPage"\r\n                   :page-size.sync="pageSize"\r\n                   :layout="layout"\r\n                   :page-sizes="pageSizes"\r\n                   :total="total"\r\n                   v-bind="$attrs"\r\n                   @size-change="handleSizeChange"\r\n                   @current-change="handleCurrentChange" />\r\n  </div>\r\n</template>\r\n\r\n<script lang="ts">\r\nimport { Component, Prop, Vue } from \'vue-property-decorator\'\r\n\r\n@Component\r\nexport default class Pageination extends Vue {\r\n  @Prop({ required: true }) private total!: Number\r\n  @Prop({ default: false }) private hidden!: boolean\r\n  @Prop({ default: true }) private background!: boolean\r\n  @Prop({\r\n    default: () => {\r\n      ;[10, 20, 30, 50]\r\n    }\r\n  })\r\n  private pageSizes!: object\r\n  @Prop({ default: \'total, sizes, prev, pager, next, jumper\' })\r\n  private layout!: string\r\n  @Prop({ default: 1 }) private page!: Number\r\n  @Prop({ default: 20 }) private limit!: Number\r\n\r\n  private get currentPage() {\r\n    return this.page\r\n  }\r\n  private set currentPage(val) {\r\n    this.$emit(\'update:page\', val)\r\n  }\r\n  private get pageSize() {\r\n    return this.limit\r\n  }\r\n  private set pageSize(val) {\r\n    this.$emit(\'update:limit\', val)\r\n  }\r\n\r\n  private handleSizeChange(val: number) {\r\n    this.$emit(\'pagination\', { page: this.currentPage, limit: val })\r\n  }\r\n  private handleCurrentChange(val: any) {\r\n    this.$emit(\'pagination\', { page: val, limit: this.pageSize })\r\n  }\r\n}\r\n<\/script>\r\n\r\n<style scoped>\r\n.pagination-container {\r\n  background: transparent;\r\n  padding: 32px 16px;\r\n}\r\n.pagination-container.hidden {\r\n  display: none;\r\n}\r\n</style>\r\n']}]),e.exports=t},a15b:function(e,t,r){"use strict";var a=r("23e7"),n=r("44ad"),l=r("fc6a"),i=r("a640"),o=[].join,s=n!=Object,u=i("join",",");a({target:"Array",proto:!0,forced:s||!u},{join:function(e){return o.call(l(this),void 0===e?",":e)}})},ba6f:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-container",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.fullscreenLoading,expression:"fullscreenLoading",modifiers:{fullscreen:!0,lock:!0}}]},[r("el-form",{ref:"form",attrs:{rules:e.rules,"label-width":"100px",model:e.row}},[r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:12,offset:3}},[r("UploadImg",{attrs:{"upload-config":e.uploadConfig,"upload-finish":e.finishUpload},on:{"on-upload-success":e.uploadSuccess,"on-handle-remove":e.handleRemove}}),r("el-form-item",{attrs:{label:e.$t("business.appConfig.appType"),prop:"appType"}},[r("el-select",{model:{value:e.row.appType,callback:function(t){e.$set(e.row,"appType",t)},expression:"row.appType"}},e._l(e.appArr,(function(e){return r("el-option",{key:e.key,attrs:{label:e.value,value:e.key}})})),1)],1),r("el-form-item",{attrs:{label:e.$t("business.appConfig.accTarget"),prop:"accTarget"}},[r("el-input",{attrs:{clearable:""},model:{value:e.row.accTarget,callback:function(t){e.$set(e.row,"accTarget",t)},expression:"row.accTarget"}})],1),r("el-form-item",{attrs:{label:e.$t("business.appConfig.tm"),prop:"tm"}},[r("el-input",{attrs:{clearable:""},model:{value:e.row.tm,callback:function(t){e.$set(e.row,"tm",t)},expression:"row.tm"}},[r("template",{slot:"append"},[e._v(e._s(e.$t("common.seconds")))])],2)],1),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submit("form")}}},[e._v(" "+e._s(e.$t("business.appConfig.create"))+" ")]),r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.goBack()}}},[e._v(" "+e._s(e.$t("common.cancel"))+" ")])],1)],1)],1)],1)],1)},n=[],l=(r("96cf"),r("1da1")),i=r("e7ef"),o=r("321e"),s=r("6bec"),u=r("41bc"),c=r("e741"),d={components:{UploadImg:s["a"]},data:function(){return{fileObjec:[],row:{appType:"0",imgUrl:null,accTarget:null,tm:5},fullscreenLoading:!1,finishUpload:!0,rules:{tm:[{required:!0,message:"必填",trigger:"change"},{validator:o["a"],trigger:"change"}],appType:[{required:!0,message:"必填",trigger:"change"}],accTarget:[{validator:o["d"],trigger:"change"}]}}},computed:{uploadConfig:function(){return{notice:this.$t("common.noticePic")+"1080*1920",label:this.$t("business.appConfig.adsPic"),sizeLimit:2,numLimt:1}},appArr:function(){return i["ViewData"].operateAppScreen.appTypeList(this)}},methods:{reset:function(){"0"===this.endDate&&(this.row.activityEndDate="")},uploadSuccess:function(e){this.fileObjec=e},handleRemove:function(e){this.fileObjec[0].filePath===e.response.data[1].fullPath&&(this.fileObjec=[])},add:function(e){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(a=e,!(t.fileObjec&&t.fileObjec[0]&&t.fileObjec[0].filePath)){r.next=5;break}a.imgUrl=t.fileObjec[0].filePath,r.next=7;break;case 5:return t.$message.warning("请上传图片"),r.abrupt("return",!1);case 7:return t.fullscreenLoading=!0,r.next=10,Object(u["g"])(a);case 10:t.$message.success("操作成功"),t.fullscreenLoading=!1;case 12:case"end":return r.stop()}}),r)})))()},goBack:function(){c["a"].delView(this.$route),this.$router.go(-1)},submit:function(e){var t=this;this.$refs[e].validate((function(e,r){if(!e)return!1;t.finishUpload?t.add(t.row):t.$message.error("请等待图片上传完成")}))}}},p=d,m=(r("5c4c"),r("2877")),f=Object(m["a"])(p,a,n,!1,null,"01bbc884",null);t["default"]=f.exports},c92e:function(e,t,r){"use strict";var a=r("834a"),n=r.n(a);n.a},ce92:function(e,t,r){var a=r("9808");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var n=r("499e").default;n("9234cb74",a,!0,{sourceMap:!0,shadowMode:!1})},e315:function(e,t,r){"use strict";var a=r("0e4e"),n=r.n(a);n.a},e7ef:function(e,t,r){"use strict";r.r(t),r.d(t,"ViewData",(function(){return n})),r.d(t,"BaseData",(function(){return a}));var a={yOrNo:function(e){return[{key:1,val:e.$t("common.data.BaseData.yOrN[0]")},{key:0,val:e.$t("common.data.BaseData.yOrNo[1]")}]},onOrOff:function(e){return[{key:"1",value:e.$t("common.data.BaseData.onOrOff[0]")},{key:"0",value:e.$t("common.data.BaseData.onOrOff[1]")}]}},n={operateAppScreen:{appTypeList:function(e){return[{key:"0",value:e.$t("common.data.ViewData.operateAppScreen.appTypeList[0]")},{key:"1",value:e.$t("common.data.ViewData.operateAppScreen.appTypeList[1]")},{key:"2",value:e.$t("common.data.ViewData.operateAppScreen.appTypeList[2]")},{key:"3",value:e.$t("common.data.ViewData.operateAppScreen.appTypeList[3]")}]},statusList:function(e){return[{key:"0",value:e.$t("common.data.ViewData.operateAppScreen.statusList[0]")},{key:"1",value:e.$t("common.data.ViewData.operateAppScreen.statusList[1]")},{key:"2",value:e.$t("common.data.ViewData.operateAppScreen.statusList[2]")}]}}}},f9d8:function(e,t,r){var a=r("24fb");t=a(!0),t.push([e.i,".el-form[data-v-01bbc884]{width:100%}","",{version:3,sources:["D:/01.workspace/10.test/cicd/test-vue-ui/src/views/app/business/appConfig/screen/D:/01.workspace/10.test/cicd/test-vue-ui/src/views/app/business/appConfig/screen/D:/01.workspace/10.test/cicd/test-vue-ui/src/views/app/business/appConfig/screen/index.vue?vue&type=style&index=0&id=01bbc884&lang=less&scoped=true&","D:/01.workspace/10.test/cicd/test-vue-ui/src/views/app/business/appConfig/screen/D:/01.workspace/10.test/cicd/test-vue-ui/src/views/app/business/appConfig/screen/index.vue"],names:[],mappings:"AAmJA,0BACE,UClJF",file:"index.vue",sourcesContent:["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.el-form {\n  width: 100%;\n}\n",".el-form {\n  width: 100%;\n}\n"]}]),e.exports=t}}]);
//# sourceMappingURL=screen.66f47c9a.js.map