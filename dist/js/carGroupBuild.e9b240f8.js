(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["carGroupBuild"],{"028d":function(r,e,a){"use strict";a.r(e);var n=function(){var r=this,e=r.$createElement,a=r._self._c||e;return a("div",{staticClass:"app-container"},[a("el-card",[a("center",[a("el-form",{ref:"buildForm",attrs:{inline:!0,model:r.buildForm,"label-position":"left",rules:r.ruless}},[a("el-row",[a("el-form-item",{attrs:{label:r.$t("carGroupBuild.teamName"),"label-width":"150px",prop:"teamName"}},[a("el-input",{staticClass:"formItem",model:{value:r.buildForm.teamName,callback:function(e){r.$set(r.buildForm,"teamName",e)},expression:"buildForm.teamName"}})],1)],1),a("el-row",[a("el-form-item",{attrs:{label:r.$t("carGroupBuild.setManager"),"label-width":"150px",prop:"name",align:"left"}},[a("el-select",{staticClass:"formItem",attrs:{filterable:"",remote:"","remote-method":r.remoteMethod,placeholder:r.$t("carGroupBuild.setManagerTip"),loading:r.loading},on:{change:r.handleChange},model:{value:r.buildForm.name,callback:function(e){r.$set(r.buildForm,"name",e)},expression:"buildForm.name"}},r._l(r.managers,(function(e){return a("el-option",{key:e.id,attrs:{label:(e.name&&""!=e.name?e.name:r.$t("noName"))+"（"+(e.phone&&""!=e.phone?e.phone:r.$t("noPhone"))+"，"+(e.accountName&&""!=e.accountName?e.accountName:r.$t("noAccount"))+"）",value:e.name}})})),1),a("br"),a("el-button",{attrs:{type:"text",size:"small"},on:{click:r.buildManager}},[r._v(r._s(r.$t("carGroupBuild.buildManager")))]),this.dialogForm.name?a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(e){return r.buildManager(!0)}}},[r._v(r._s(r.$t("carGroupBuild.showBuild")))]):r._e()],1)],1),a("el-row",[a("el-form-item",[a("el-button",{staticStyle:{width:"100px"},attrs:{type:"primary",size:"midium"},on:{click:r.save}},[r._v(r._s(r.$t("carGroupBuild.save")))])],1)],1)],1)],1)],1),a("el-dialog",{attrs:{"close-on-click-modal":!1,visible:r.buildManagerDialogVis,top:"20vh",width:"50%",title:r.$t("carGroupBuild.buildManager")},on:{"update:visible":function(e){r.buildManagerDialogVis=e}}},[a("el-card",[a("center",[a("el-form",{ref:"dialogForm",attrs:{inline:!0,model:r.dialogForm,"label-position":"left",rules:r.dialogRuless}},[a("el-row",[a("el-form-item",{attrs:{label:r.$t("carGroupBuild.managerName"),"label-width":"150px",prop:"name"}},[a("el-input",{staticClass:"dialogFormItem",attrs:{disabled:r.isLook},model:{value:r.dialogForm.name,callback:function(e){r.$set(r.dialogForm,"name",e)},expression:"dialogForm.name"}})],1)],1),a("el-row",[a("el-form-item",{staticClass:"is-required",attrs:{label:r.$t("carGroupBuild.managerAccount"),"label-width":"150px",prop:"accountName"}},[a("el-input",{staticClass:"dialogFormItem",attrs:{disabled:r.isLook},model:{value:r.dialogForm.accountName,callback:function(e){r.$set(r.dialogForm,"accountName",e)},expression:"dialogForm.accountName"}})],1)],1),a("el-row",[a("el-form-item",{staticClass:"is-required",attrs:{label:r.$t("carGroupBuild.passWord"),"label-width":"150px",prop:"passWord"}},[a("el-input",{staticClass:"dialogFormItem",attrs:{"auto-complete":"new-password",disabled:r.isLook},model:{value:r.dialogForm.passWord,callback:function(e){r.$set(r.dialogForm,"passWord",e)},expression:"dialogForm.passWord"}})],1)],1),a("el-row",[a("el-form-item",[r.isLook?r._e():a("el-button",{attrs:{type:"warning"},on:{click:r.cancel}},[r._v(r._s(r.$t("carGroupBuild.cancel")))]),r.isLook?r._e():a("el-button",{attrs:{type:"primary"},on:{click:r.add}},[r._v(r._s(r.$t("carGroupBuild.add")))])],1)],1)],1)],1)],1)],1),a("Import",{attrs:{title:r.$t("carGroupBuild.BatchAddCarTip"),batchAddCarVis:r.batchAddCarVis,limit:r.limit,action:r.action,accept:r.accept,tip:r.tip,demoURL:r.demoURL,batchAddInfo:r.batchAddInfo},on:{handleSuccess:r.handleSuccess,cancelBatchAddCar:r.cancelBatchAddCar}})],1)},t=[],i=(a("4de4"),a("b0c0"),a("ac1f"),a("841c"),a("96cf"),a("1da1")),o=a("da9c"),l=a("b8f0"),s=a("e168"),c={name:"CarGroupBuild",components:{Import:s["a"]},data:function(){var r=this,e=function(e,a,n){var t=/^[a-zA-Z0-9!_\-\u4e00-\u9fa5]+$/;return a?t.test(a)?a.length>32?n(new Error(r.$t("carGroupBuild.teamNameMaxTip"))):void n():n(new Error(r.$t("carGroupBuild.teamNameUnexpected"))):n(new Error(r.$t("carGroupBuild.teamNameRequire")))},a=function(e,a,n){var t=/^[a-zA-Z0-9!_@#$%^&*\.\+\-=]+$/;return a?-1==a.search(/[a-zA-Z]+/)?n(new Error(r.$t("carGroupBuild.aTozRequire"))):t.test(a)?a.length<6?n(new Error(r.$t("carGroupBuild.minTip"))):a.length>20?n(new Error(r.$t("carGroupBuild.maxTip"))):void n():n(new Error(r.$t("carGroupBuild.managerAccountUnexpected"))):n(new Error(r.$t("carGroupBuild.managerAccountRequire")))},n=function(e,a,n){var t=/^[a-zA-Z0-9!_@#$%^&*\.\+\-=]+$/;return a?t.test(a)?a.length<6?n(new Error(r.$t("carGroupBuild.possWordMinTip"))):a.length>20?n(new Error(r.$t("carGroupBuild.possWordMaxTip"))):void n():n(new Error(r.$t("carGroupBuild.possWordUnexpected"))):n(new Error(r.$t("carGroupBuild.possWordRequired")))};return{accountName:"",demoURL:"http://sy.aerozhonghuan.com:81/test/yiqi/web/qdfaw/tboss/assets/import/addCarList.xlsx",tip:this.$t("carGroupBuild.BatchAddCarMaxTip"),accept:".xlsx,.xls",action:"http://sy.aerozhonghuan.com:81/fsm/fsevice/uploadFile",limit:1,batchAddInfo:null,teamId:"",batchAddCarVis:!1,isLook:!1,loading:!1,managers:[],managersCopy:[],buildForm:{createType:"tboss",type:2},dialogForm:{name:"",accountName:"",passWord:""},ruless:{teamName:[{validator:e,trigger:"blur"}],name:[{required:!0,message:this.$t("carGroupBuild.managerRequired"),trigger:"change"}]},dialogRuless:{name:[{required:!0,message:this.$t("carGroupBuild.nameRequired"),trigger:"blur"},{min:2,max:20,message:this.$t("carGroupBuild.nameUnexpected"),trigger:"blur"}],accountName:[{validator:a,trigger:"blur"}],passWord:[{validator:n,trigger:"blur"}]},buildManagerDialogVis:!1,fileList:[]}},activated:function(){this.getAccountName()},methods:{cancelBatchAddCar:function(){this.batchAddCarVis=!1,this.$refs["buildForm"]&&this.$refs["buildForm"].resetFields(),this.$refs["dialogForm"]&&this.$refs["dialogForm"].resetFields(),this.managers=[],this.managersCopy=[],this.batchAddInfo=null,this.$router.go(-1)},handleSuccess:function(r){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var n,t;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n={uuid:r.data.fullPath,fileType:r.data.ext_name,reviewer:e.accountName,teamId:e.teamId},a.next=3,Object(o["h"])(n);case 3:t=a.sent,e.batchAddInfo=t.data;case 5:case"end":return a.stop()}}),a)})))()},handleChange:function(){this.$refs["dialogForm"]&&this.$refs["dialogForm"].resetFields()},save:function(){var r=this;this.$refs["buildForm"].validate(function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(a){var n,t,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!a){e.next=19;break}return n={},n.teamName=r.buildForm.teamName,n.name=r.buildForm.name,n.createType="tboss",n.type="2",n.tbossName=r.accountName,r.managers.length&&(t=r.managersCopy.filter((function(e){return e.name===r.buildForm.name})),n.managerId=t[0].id),r.dialogForm.accountName&&(n.accountName=r.dialogForm.accountName),r.dialogForm.passWord&&(n.passWord=r.dialogForm.passWord),n.isCompany=0,n.isGroup=0,n.isVip=0,e.next=15,Object(o["N"])(n);case 15:i=e.sent,"OK"==i.message?(r.batchAddCarVis=!0,r.teamId=i.data):r.$message({message:r.$t("carGroupBuild.buildFault"),type:"error"}),e.next=21;break;case 19:return r.$message.error(r.$t("carGroupBuild.sunmitFault")),e.abrupt("return",!1);case 21:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}())},cancel:function(){this.$refs["dialogForm"].resetFields(),this.buildManagerDialogVis=!1},add:function(){var r=this;this.$refs["dialogForm"].validate(function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!a){e.next=7;break}r.buildManagerDialogVis=!1,r.buildForm.name=r.dialogForm.name,r.managers=[],r.managersCopy=[],e.next=9;break;case 7:return r.$message.error(r.$t("carGroupBuild.sunmitFault")),e.abrupt("return",!1);case 9:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}())},remoteMethod:function(r){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var n,t;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(""===r){a.next=11;break}return n={keyWord:r},e.loading=!0,a.next=5,Object(o["E"])(n);case 5:t=a.sent,e.managers=JSON.parse(JSON.stringify(t.data)),e.managersCopy=JSON.parse(JSON.stringify(t.data)),e.loading=!1,a.next=12;break;case 11:e.managers=[];case 12:case"end":return a.stop()}}),a)})))()},buildManager:function(r){this.buildManagerDialogVis=!0,!0===r?this.isLook=!0:(this.$refs["dialogForm"]&&this.$refs["dialogForm"].resetFields(),this.isLook=!1)},getAccountName:function(){var r=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(l["c"])();case 2:a=e.sent,r.accountName=a.data.username;case 4:case"end":return e.stop()}}),e)})))()}}},u=c,d=(a("03f3"),a("2877")),m=Object(d["a"])(u,n,t,!1,null,"23ec2002",null);e["default"]=m.exports},"03f3":function(r,e,a){"use strict";var n=a("d187"),t=a.n(n);t.a},"129f":function(r,e){r.exports=Object.is||function(r,e){return r===e?0!==r||1/r===1/e:r!=r&&e!=e}},"841c":function(r,e,a){"use strict";var n=a("d784"),t=a("825a"),i=a("1d80"),o=a("129f"),l=a("14c3");n("search",1,(function(r,e,a){return[function(e){var a=i(this),n=void 0==e?void 0:e[r];return void 0!==n?n.call(e,a):new RegExp(e)[r](String(a))},function(r){var n=a(e,r,this);if(n.done)return n.value;var i=t(r),s=String(this),c=i.lastIndex;o(c,0)||(i.lastIndex=0);var u=l(i,s);return o(i.lastIndex,c)||(i.lastIndex=c),null===u?-1:u.index}]}))},"93ee":function(r,e,a){var n=a("24fb");e=n(!0),e.push([r.i,".formItem[data-v-23ec2002]{width:600px}.dialogFormItem[data-v-23ec2002]{width:300px}.el-form-item[data-v-23ec2002]{margin-top:100px!important}.margin[data-v-23ec2002]{margin:15px 0}.transform[data-v-23ec2002]{transform:rotate(90deg);color:#e6a23c}","",{version:3,sources:["D:/01.workspace/10.test/cicd/test-vue-ui/src/views/app/business/carGroup/D:/01.workspace/10.test/cicd/test-vue-ui/src/views/app/business/carGroup/src/views/app/business/carGroup/build.vue"],names:[],mappings:"AA0UA,2BACA,WACA,CACA,iCACA,WACA,CACA,+BACA,0BACA,CACA,yBACA,aACA,CACA,4BACA,uBAAA,CACA,aACA",file:"build.vue",sourcesContent:['<template>\r\n\t<div class="app-container">\r\n    <el-card>\r\n      <center>\r\n        <el-form\r\n          :inline="true"\r\n          :model="buildForm"\r\n          label-position="left"\r\n          :rules="ruless"\r\n          ref="buildForm"\r\n        >\r\n          <el-row>\r\n            <el-form-item :label="$t(\'carGroupBuild.teamName\')" label-width="150px" prop="teamName">\r\n              <el-input v-model="buildForm.teamName" class="formItem"/>\r\n            </el-form-item>\r\n          </el-row>\r\n\r\n          <el-row>\r\n            <el-form-item :label="$t(\'carGroupBuild.setManager\')" label-width="150px" prop="name" align="left">\r\n              <el-select\r\n                v-model="buildForm.name"\r\n                class="formItem"\r\n                filterable\r\n                remote\r\n                :remote-method="remoteMethod"\r\n                :placeholder="$t(\'carGroupBuild.setManagerTip\')"\r\n                :loading="loading"\r\n                @change="handleChange"\r\n              >\r\n                <el-option\r\n                  v-for="item in managers"\r\n                  :key="item.id"\r\n                  :label="(item.name && item.name!=\'\'?item.name:$t(\'noName\')) + \'（\' + (item.phone && item.phone!=\'\'?item.phone:$t(\'noPhone\')) + \'，\' + (item.accountName&&item.accountName!=\'\'?item.accountName:$t(\'noAccount\')) + \'）\'"\r\n                  :value="item.name">\r\n                </el-option>\r\n              </el-select>\r\n              <br/>\r\n              <el-button type="text" size="small" @click="buildManager">{{$t(\'carGroupBuild.buildManager\')}}</el-button>\r\n              <el-button type="text" size="small" @click="buildManager(true)" v-if="this.dialogForm.name">{{$t(\'carGroupBuild.showBuild\')}}</el-button>\r\n            </el-form-item>\r\n          </el-row>\r\n\r\n          <el-row>\r\n            <el-form-item>\r\n              <el-button type="primary" @click="save" size="midium" style="width: 100px">{{$t(\'carGroupBuild.save\')}}</el-button>\r\n            </el-form-item>\r\n          </el-row>\r\n\r\n        </el-form>\r\n      </center>\r\n    </el-card>\r\n    <el-dialog\r\n      :close-on-click-modal="false"\r\n      :visible.sync="buildManagerDialogVis"\r\n      top="20vh"\r\n      width="50%"\r\n      :title="$t(\'carGroupBuild.buildManager\')"\r\n    >\r\n      <el-card>\r\n        <center>\r\n          <el-form\r\n            :inline="true"\r\n            :model="dialogForm"\r\n            label-position="left"\r\n            :rules="dialogRuless"\r\n            ref="dialogForm"\r\n          >\r\n            <el-row>\r\n              <el-form-item :label="$t(\'carGroupBuild.managerName\')" label-width="150px" prop="name">\r\n                <el-input v-model="dialogForm.name" class="dialogFormItem" :disabled="isLook"/>\r\n              </el-form-item>\r\n            </el-row>\r\n\r\n            <el-row>\r\n              <el-form-item :label="$t(\'carGroupBuild.managerAccount\')" label-width="150px" prop="accountName" class="is-required">\r\n                <el-input v-model="dialogForm.accountName" class="dialogFormItem" :disabled="isLook"/>\r\n              </el-form-item>\r\n            </el-row>\r\n\r\n            <el-row>\r\n              <el-form-item :label="$t(\'carGroupBuild.passWord\')" label-width="150px" prop="passWord" class="is-required">\r\n                <el-input auto-complete="new-password" v-model="dialogForm.passWord" class="dialogFormItem" :disabled="isLook"/>\r\n              </el-form-item>\r\n            </el-row>\r\n\r\n            <el-row>\r\n              <el-form-item>\r\n                <el-button type="warning" @click="cancel" v-if="!isLook">{{$t(\'carGroupBuild.cancel\')}}</el-button>\r\n                <el-button type="primary" @click="add" v-if="!isLook">{{$t(\'carGroupBuild.add\')}}</el-button>\r\n              </el-form-item>\r\n            </el-row>\r\n\r\n          </el-form>\r\n        </center>\r\n      </el-card>\r\n    </el-dialog>\r\n    <Import\r\n      :title="$t(\'carGroupBuild.BatchAddCarTip\')"\r\n      :batchAddCarVis="batchAddCarVis"\r\n      :limit="limit"\r\n      :action="action"\r\n      :accept="accept"\r\n      :tip="tip"\r\n      :demoURL="demoURL"\r\n      :batchAddInfo="batchAddInfo"\r\n      @handleSuccess = "handleSuccess"\r\n      @cancelBatchAddCar = "cancelBatchAddCar"\r\n    ></Import>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nimport { getManagerData , newAccount , batchAddCarList } from "@/api/business/businessService";\r\nimport { getUserInfo } from \'@/api/users\'\r\nimport Import from \'@/components/import\';\r\n\r\nexport default {\r\n  name: \'CarGroupBuild\',\r\n  components: {\r\n    Import\r\n  },\r\n  data () {\r\n    var checkTeamName = (rule, value, callback) => {\r\n      var reg = /^[a-zA-Z0-9!_\\-\\u4e00-\\u9fa5]+$/;\r\n      if(!value) {\r\n        return callback(new Error(this.$t(\'carGroupBuild.teamNameRequire\')));\r\n      } else if (!reg.test(value)) {\r\n        return callback(new Error(this.$t(\'carGroupBuild.teamNameUnexpected\')));\r\n      } else if (value.length>32) {\r\n        return callback(new Error(this.$t(\'carGroupBuild.teamNameMaxTip\')));\r\n      } else {\r\n        callback();\r\n      }\r\n    };\r\n    var checkAccountName = (rule, value, callback) => {\r\n      var reg = /^[a-zA-Z0-9!_@#$%^&*\\.\\+\\-=]+$/;\r\n      if(!value) {\r\n        return callback(new Error(this.$t(\'carGroupBuild.managerAccountRequire\')));\r\n      } else if (value.search(/[a-zA-Z]+/)==-1) {\r\n        return callback(new Error(this.$t(\'carGroupBuild.aTozRequire\')));\r\n      } else if (!reg.test(value)) {\r\n        return callback(new Error(this.$t(\'carGroupBuild.managerAccountUnexpected\')));\r\n      } else if (value.length<6) {\r\n        return callback(new Error(this.$t(\'carGroupBuild.minTip\')));\r\n      } else if (value.length>20) {\r\n        return callback(new Error(this.$t(\'carGroupBuild.maxTip\')));\r\n      } else {\r\n        callback();\r\n      }\r\n    };\r\n    var checkPassWord = (rule, value, callback) => {\r\n      var reg = /^[a-zA-Z0-9!_@#$%^&*\\.\\+\\-=]+$/;\r\n      if(!value) {\r\n        return callback(new Error(this.$t(\'carGroupBuild.possWordRequired\')));\r\n      } else if (!reg.test(value)) {\r\n        return callback(new Error(this.$t(\'carGroupBuild.possWordUnexpected\')));\r\n      } else if (value.length<6) {\r\n        return callback(new Error(this.$t(\'carGroupBuild.possWordMinTip\')));\r\n      } else if (value.length>20) {\r\n        return callback(new Error(this.$t(\'carGroupBuild.possWordMaxTip\')));\r\n      } else {\r\n        callback();\r\n      }\r\n    };\r\n    return {\r\n      accountName: \'\',\r\n      demoURL: \'http://sy.aerozhonghuan.com:81/test/yiqi/web/qdfaw/tboss/assets/import/addCarList.xlsx\',\r\n      tip: this.$t(\'carGroupBuild.BatchAddCarMaxTip\'),\r\n      accept: \'.xlsx,.xls\',\r\n      action: \'http://sy.aerozhonghuan.com:81/fsm/fsevice/uploadFile\',\r\n      limit: 1,\r\n      batchAddInfo: null,\r\n      teamId: \'\',\r\n      batchAddCarVis: false,\r\n      isLook: false,\r\n      loading: false,\r\n      managers: [],\r\n      managersCopy: [],\r\n      buildForm: {\r\n        createType:\'tboss\',\r\n        type: 2\r\n      },\r\n      dialogForm: {\r\n        name: \'\',\r\n        accountName: \'\',\r\n        passWord: \'\'\r\n      },\r\n      ruless: {\r\n        teamName: [\r\n          { validator: checkTeamName, trigger: \'blur\' }\r\n        ],\r\n        name: [\r\n          { required: true, message: this.$t(\'carGroupBuild.managerRequired\'), trigger: \'change\' }\r\n        ]\r\n      },\r\n      dialogRuless: {\r\n        name: [\r\n          { required: true, message: this.$t(\'carGroupBuild.nameRequired\'), trigger: \'blur\' },\r\n          { min: 2, max: 20, message: this.$t(\'carGroupBuild.nameUnexpected\'), trigger: \'blur\' }\r\n        ],\r\n        accountName: [\r\n          { validator: checkAccountName, trigger: \'blur\' }\r\n        ],\r\n        passWord: [\r\n          { validator: checkPassWord, trigger: \'blur\' }\r\n        ]\r\n      },\r\n      buildManagerDialogVis: false,\r\n      fileList: []\r\n    }\r\n  },\r\n  activated() {\r\n    this.getAccountName ()\r\n  },\r\n  methods: {\r\n    cancelBatchAddCar () {\r\n      this.batchAddCarVis = false\r\n      if(this.$refs[\'buildForm\']){\r\n        this.$refs[\'buildForm\'].resetFields()\r\n      }\r\n      if(this.$refs[\'dialogForm\']){\r\n        this.$refs[\'dialogForm\'].resetFields()\r\n      }\r\n      this.managers = []\r\n      this.managersCopy = []\r\n      this.batchAddInfo = null\r\n      this.$router.go(-1)\r\n    },\r\n    async handleSuccess (response) {\r\n      let params = {\r\n        uuid: response.data.fullPath,\r\n        fileType: response.data.ext_name,\r\n        reviewer: this.accountName,\r\n        teamId: this.teamId\r\n      }\r\n      const batchAdd = await batchAddCarList(params)\r\n      this.batchAddInfo = batchAdd.data\r\n    },\r\n    handleChange () {\r\n      if(this.$refs[\'dialogForm\']){\r\n        this.$refs[\'dialogForm\'].resetFields()\r\n      }\r\n    },\r\n    save () {\r\n      this.$refs[\'buildForm\'].validate(async (valid) => {\r\n        if (valid) {\r\n          let param = {}\r\n          param.teamName = this.buildForm.teamName\r\n          param.name = this.buildForm.name\r\n          param.createType = \'tboss\'\r\n          param.type = \'2\'\r\n          param.tbossName = this.accountName    \r\n          if(this.managers.length){\r\n            let fil = this.managersCopy.filter(item => {\r\n              return item.name === this.buildForm.name\r\n            })\r\n            param.managerId = fil[0].id\r\n          }\r\n          if (this.dialogForm.accountName) param.accountName = this.dialogForm.accountName\r\n          if (this.dialogForm.passWord) param.passWord = this.dialogForm.passWord\r\n          param.isCompany = 0\r\n          param.isGroup = 0\r\n          param.isVip = 0\r\n          const re = await newAccount(param);\r\n          if(re.message == \'OK\'){\r\n            this.batchAddCarVis = true\r\n            this.teamId = re.data\r\n          } else {\r\n            this.$message({\r\n              message: this.$t(\'carGroupBuild.buildFault\'),\r\n              type: \'error\'\r\n            });\r\n          }\r\n        } else {\r\n          this.$message.error(this.$t(\'carGroupBuild.sunmitFault\'))\r\n          return false\r\n        }\r\n      });\r\n    },\r\n    cancel () {\r\n      this.$refs[\'dialogForm\'].resetFields()\r\n      this.buildManagerDialogVis = false\r\n    },\r\n    add () {\r\n      this.$refs[\'dialogForm\'].validate(async (valid) => {\r\n        if (valid) {\r\n          this.buildManagerDialogVis = false\r\n          this.buildForm.name = this.dialogForm.name\r\n          this.managers = []\r\n          this.managersCopy = []\r\n        } else {\r\n          this.$message.error(this.$t(\'carGroupBuild.sunmitFault\'))\r\n          return false\r\n        }\r\n      });\r\n    },\r\n    async remoteMethod(query) {\r\n      if (query !== \'\') {\r\n        let params = {\r\n          keyWord: query\r\n        }\r\n        this.loading = true;\r\n        const re = await getManagerData(params);\r\n        this.managers = JSON.parse(JSON.stringify(re.data))\r\n        this.managersCopy = JSON.parse(JSON.stringify(re.data))\r\n        this.loading = false;\r\n      } else {\r\n        this.managers = [];\r\n      }\r\n    },\r\n    buildManager (flag) {\r\n      this.buildManagerDialogVis = true\r\n      if(flag===true){\r\n        this.isLook = true\r\n      }else{\r\n        if(this.$refs[\'dialogForm\']){\r\n          this.$refs[\'dialogForm\'].resetFields()\r\n        }\r\n        this.isLook = false\r\n      }\r\n    },\r\n    async getAccountName () {\r\n      const user = await getUserInfo()\r\n      this.accountName = user.data.username\r\n    }\r\n  }\r\n}\r\n<\/script>\r\n\r\n<style scoped>\r\n  .formItem {\r\n    width: 600px\r\n  }\r\n  .dialogFormItem {\r\n    width: 300px\r\n  }\r\n  .el-form-item {\r\n    margin-top: 100px !important;\r\n  }\r\n  .margin {\r\n    margin: 15px 0;\r\n  }\r\n  .transform {\r\n    transform: rotate(90deg);\r\n    color: #E6A23C;\r\n  }\r\n</style>\r\n']}]),r.exports=e},d187:function(r,e,a){var n=a("93ee");"string"===typeof n&&(n=[[r.i,n,""]]),n.locals&&(r.exports=n.locals);var t=a("499e").default;t("6ed34282",n,!0,{sourceMap:!0,shadowMode:!1})}}]);
//# sourceMappingURL=carGroupBuild.e9b240f8.js.map