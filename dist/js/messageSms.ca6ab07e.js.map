{"version":3,"sources":["webpack:///./src/utils/rules.ts","webpack:///./src/views/businessSupport/message/messageSms.vue?3c0f","webpack:///src/views/businessSupport/message/messageSms.vue","webpack:///./src/views/businessSupport/message/messageSms.vue?e785","webpack:///./src/views/businessSupport/message/messageSms.vue","webpack:///./src/api/public/PublicService.ts","webpack:///./src/views/businessSupport/message/messageSms.vue?12bd","webpack:///./src/api/business/messageService.ts","webpack:///./src/views/businessSupport/message/messageSms.vue?6303","webpack:///./src/views/businessSupport/message/messageSms.vue?6d68"],"names":["lang","checkString","rule","value","callback","reg","test","Error","t","checkUrl","Num","checkColor","validateEmail","objToStringFy","obj","i","Object","JSON","stringify","letterOrNumber16","mobilePhone","publicTel","render","_vm","this","_h","$createElement","_c","_self","staticClass","addFlag","staticStyle","_v","_s","$t","_e","ref","attrs","rules","row","model","$$v","$set","expression","_l","item","key","name","nativeOn","$event","sendMsg","staticRenderFns","components","props","computed","msgType","title","content","data","targetUser","seriseId","modelId","noticeType","sendType","validity","saveDays","saveHours","msgObject","msgTypeList","watch","created","$route","params","msgId","id","mounted","getMsgStyle","getMessageDetail","methods","component","makeUrl","url","basedata","method","uploadFile","queryCarPropertyForMaintains","noticeList","carSeriesList","carTypeList","userIdByPhoneAndVin","newNotice","resendNotice","smsMessageList","newSms","resendSms","smsMsgTypeList","statisticsSmsList","statisticsSmsDetail","module","locals","exports","add","default","___CSS_LOADER_API_IMPORT___","push"],"mappings":"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","file":"js/messageSms.ca6ab07e.js","sourcesContent":["/**\r\n * 自定义表单校验方法 && 基于element-ui 封装的全局自定义校验规则\r\n */\r\nimport i18n from '@/lang'\r\nlet lang:any = i18n\r\n\r\n//非法字符\r\nexport const checkString = (rule: any, value: any, callback: any) => {\r\n  const reg = /[@#\\$%\\^&\\*\\!~`'\",:+=?\\\\]+/g\r\n  if (reg.test(value)) {\r\n    return callback(new Error(lang.t('common.rules.checkString')))\r\n  } else {\r\n    callback()\r\n  }\r\n}\r\n//url地址\r\nexport const checkUrl = (rule: any, value: any, callback: any) => {\r\n  const reg = /^(https|http|ftp|mms)?:\\/\\//\r\n  if (!reg.test(value)) {\r\n    return callback(new Error(lang.t('common.rules.checkUrl')))\r\n  } else {\r\n    callback()\r\n  }\r\n}\r\n//正整数\r\nexport const Num = (rule: any, value: any, callback: any) => {\r\n  const reg = /^[1-9]\\d*$/\r\n  if (!reg.test(value)) {\r\n    return callback(new Error(lang.t('common.rules.Num')))\r\n  } else {\r\n    callback()\r\n  }\r\n}\r\n\r\n//6位颜色色号(实际是十六进制数)\r\nexport const checkColor = (rule: any, value: any, callback: any) => {\r\n  const reg = /^[0-9a-fA-F]{6}$/\r\n  if (!reg.test(value)) {\r\n    return callback(new Error(lang.t('common.rules.checkColor')))\r\n  } else {\r\n    callback()\r\n  }\r\n}\r\n//邮箱格式\r\nexport const validateEmail = (rule: any, value: any, callback: any) => {\r\n  const reg = /^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+((\\.[a-zA-Z0-9_-]{2,3}){1,2})$/\r\n  if (!reg.test(value)) {\r\n    return callback(new Error(lang.t('common.rules.validateEmail')))\r\n  } else {\r\n    callback()\r\n  }\r\n}\r\n\r\nexport const objToStringFy = (obj: any) => {\r\n\r\n  for (let i in obj) {\r\n    if (obj[i] instanceof Object) {\r\n      obj[i] = JSON.stringify(obj[i]);\r\n    }\r\n  }\r\n  return obj\r\n}\r\n\r\n// 16位数字或字母组合校验\r\nexport const letterOrNumber16 = (rule: any, value: any, callback: any) => {\r\n  const reg = /^[a-zA-Z0-9]{1,16}$/\r\n  if (!reg.test(value)) {\r\n    return callback(new Error(lang.t('common.rules.letterOrNumber16')))\r\n  } else {\r\n    callback()\r\n  }\r\n}\r\n\r\n// 11位手机号\r\nexport const mobilePhone = (rule: any, value: any, callback: any) => {\r\n  const reg = /^[1][0-9]{10}$/\r\n  if (!reg.test(value)) {\r\n    return callback(new Error(lang.t('common.rules.mobilePhone')))\r\n  } else {\r\n    callback()\r\n  }\r\n}\r\n\r\n// 联系方式 通用校验 只要是数字即可\r\nexport const publicTel = (rule: any, value: any, callback: any) => {\r\n  const reg = /^\\d+$/\r\n  if (!reg.test(value)) {\r\n    return callback(new Error(lang.t('common.rules.publicTel')))\r\n  } else {\r\n    callback()\r\n  }\r\n}\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"message-sms\"},[(this.addFlag === '1')?_c('div',{staticStyle:{\"height\":\"40px\",\"background-color\":\"#97a8be\"}},[_vm._v(_vm._s(_vm.$t('message.addMessage')))]):_vm._e(),(this.addFlag === '0')?_c('div',{staticStyle:{\"height\":\"40px\",\"background-color\":\"#97a8be\"}},[_vm._v(_vm._s(_vm.$t('message.reSendMsg')))]):_vm._e(),_c('el-form',{ref:\"dataForm\",attrs:{\"rules\":_vm.rules,\"label-width\":\"120px\",\"model\":_vm.row}},[_c('el-form-item',{attrs:{\"label\":_vm.$t('message.msgType'),\"prop\":\"msgType\"}},[_c('el-select',{staticClass:\"search-item\",attrs:{\"placeholder\":_vm.$t('common.select')},model:{value:(_vm.row.msgType),callback:function ($$v) {_vm.$set(_vm.row, \"msgType\", $$v)},expression:\"row.msgType\"}},_vm._l((_vm.msgTypeList),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.name,\"value\":item.value}})}),1)],1),_c('div',{staticStyle:{\"display\":\"flex\",\"flex-direction\":\"row\"}},[_c('el-form-item',{attrs:{\"label\":_vm.$t('message.title'),\"prop\":\"title\"}},[_c('el-input',{model:{value:(_vm.row.title),callback:function ($$v) {_vm.$set(_vm.row, \"title\", $$v)},expression:\"row.title\"}})],1),_c('span',[_vm._v(_vm._s(_vm.$t('message.warnMsg')))])],1),_c('el-form-item',{attrs:{\"label\":_vm.$t('message.content'),\"prop\":\"content\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"rows\":2},model:{value:(_vm.row.content),callback:function ($$v) {_vm.$set(_vm.row, \"content\", $$v)},expression:\"row.content\"}})],1),_c('div',{staticStyle:{\"display\":\"flex\",\"flex-direction\":\"row\"}},[_c('el-form-item',{attrs:{\"label\":_vm.$t('message.targetUser')}},[_c('el-input',{model:{value:(_vm.row.phone),callback:function ($$v) {_vm.$set(_vm.row, \"phone\", $$v)},expression:\"row.phone\"}})],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},nativeOn:{\"click\":function($event){return _vm.sendMsg('dataForm')}}},[_vm._v(_vm._s(_vm.$t('common.addTo')))]),_c('el-button',{attrs:{\"type\":\"primary\"},nativeOn:{\"click\":function($event){return _vm.sendMsg('dataForm')}}},[_vm._v(_vm._s(_vm.$t('common.import')))])],1)],1),_c('el-form-item',{attrs:{\"prop\":\"content\",\"label-width\":\"120px\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"rows\":2},model:{value:(_vm.row.userPhoneNumbers),callback:function ($$v) {_vm.$set(_vm.row, \"userPhoneNumbers\", $$v)},expression:\"row.userPhoneNumbers\"}})],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},nativeOn:{\"click\":function($event){return _vm.sendMsg('dataForm')}}},[_vm._v(_vm._s(_vm.$t('message.sendMsg')))])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"message-sms\">\r\n    <div\r\n      style=\"height: 40px;background-color:#97a8be;\"\r\n      v-if=\"this.addFlag === '1'\"\r\n    >{{$t('message.addMessage')}}</div>\r\n    <div\r\n      style=\"height: 40px;background-color:#97a8be;\"\r\n      v-if=\"this.addFlag === '0'\"\r\n    >{{$t('message.reSendMsg')}}</div>\r\n    <el-form ref=\"dataForm\" :rules=\"rules\" label-width=\"120px\" :model=\"row\">\r\n      <el-form-item :label=\"$t('message.msgType')\" prop=\"msgType\">\r\n        <el-select v-model=\"row.msgType\" class=\"search-item\" :placeholder=\"$t('common.select')\">\r\n          <el-option\r\n            v-for=\"item in msgTypeList \"\r\n            :key=\"item.value\"\r\n            :label=\"item.name\"\r\n            :value=\"item.value\"\r\n          />\r\n        </el-select>\r\n      </el-form-item>\r\n      <div style=\"display: flex; flex-direction: row;\">\r\n        <el-form-item :label=\"$t('message.title')\" prop=\"title\">\r\n          <el-input v-model=\"row.title\" />\r\n        </el-form-item>\r\n        <span>{{$t('message.warnMsg')}}</span>\r\n      </div>\r\n      <el-form-item :label=\"$t('message.content')\" prop=\"content\">\r\n        <el-input v-model=\"row.content\" type=\"textarea\" :rows=\"2\" />\r\n      </el-form-item>\r\n      <div style=\"display: flex; flex-direction: row;\">\r\n        <el-form-item :label=\"$t('message.targetUser')\">\r\n          <el-input v-model=\"row.phone\" />\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <el-button type=\"primary\" @click.native=\"sendMsg('dataForm')\">{{$t('common.addTo')}}</el-button>\r\n          <el-button type=\"primary\" @click.native=\"sendMsg('dataForm')\">{{$t('common.import')}}</el-button>\r\n        </el-form-item>\r\n      </div>\r\n      <el-form-item prop=\"content\" label-width=\"120px\">\r\n        <el-input v-model=\"row.userPhoneNumbers\" type=\"textarea\" :rows=\"2\" />\r\n      </el-form-item>\r\n      <el-form-item>\r\n        <el-button type=\"primary\" @click.native=\"sendMsg('dataForm')\">{{$t('message.sendMsg')}}</el-button>\r\n      </el-form-item>\r\n    </el-form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { newSms, resendSms } from \"@/api/business/messageService\";\r\nimport { checkString } from \"@/utils/rules\";\r\nimport { TagsViewModule } from \"@/store/modules/tags-view\";\r\nimport { basedata } from \"@/api/public/PublicService\";\r\n\r\nexport default {\r\n  components: {\r\n    //comSearch,\r\n  },\r\n  props: {},\r\n  computed: {\r\n    rules() {\r\n      return {\r\n        msgType: [\r\n          {\r\n            required: true,\r\n            message: this.$t(\"message.required\"),\r\n            trigger: \"change\"\r\n          }\r\n        ],\r\n        title: [\r\n          {\r\n            required: true,\r\n            message: this.$t(\"message.required\"),\r\n            trigger: \"change\"\r\n          },\r\n          { validator: checkString, trigger: \"change\" },\r\n          {\r\n            max: 40,\r\n            message: this.$t(\"message.upTo40Words\"),\r\n            trigger: \"change\"\r\n          }\r\n        ],\r\n        content: [\r\n          {\r\n            required: true,\r\n            message: this.$t(\"message.required\"),\r\n            trigger: \"change\"\r\n          },\r\n          { validator: checkString, trigger: \"change\" },\r\n          {\r\n            max: 500,\r\n            message: this.$t(\"message.upTo500Words\"),\r\n            trigger: \"change\"\r\n          }\r\n        ]\r\n      };\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      row: {\r\n        targetUser: 0,\r\n        seriseId: \"\",\r\n        modelId: \"\",\r\n        noticeType: 0,\r\n        sendType: 0,\r\n        validity: 0,\r\n        saveDays: 6,\r\n        saveHours: 24,\r\n        msgObject: []\r\n      },\r\n\r\n      addFlag: \"\",\r\n      msgTypeList: []\r\n    };\r\n  },\r\n  watch: {},\r\n  created() {\r\n    this.addFlag = this.$route.params.addFlag;\r\n    this.msgId = this.$route.params.id;\r\n  },\r\n  mounted() {\r\n    this.getMsgStyle();\r\n    // 重发\r\n    if (this.addFlag === \"0\") {\r\n      this.getMessageDetail(this.msgId);\r\n    }\r\n  },\r\n  methods: {\r\n    // 消息类型\r\n    async getMsgStyle() {\r\n      const res = await basedata({ type: \"A\", code: \"M003\" });\r\n      this.msgTypeList = res.data.list;\r\n    },\r\n\r\n    async sendMsg() {\r\n      this.$refs[\"dataForm\"].validate(valid => {\r\n        if (valid) {\r\n          newSms(this.row)\r\n            .then(() => {\r\n              this.$message.success(\r\n                this.$t(\"message.messageCreatedSuccessfully\") + \"！\"\r\n              );\r\n              //删除tab标签\r\n              TagsViewModule.delView(this.$route);\r\n              //返回\r\n              this.$router.go(-1);\r\n            })\r\n            .catch(err => {\r\n              console.error(err);\r\n            });\r\n        }\r\n      });\r\n    },\r\n    async getMessageDetail(msgId) {\r\n      const res = await resendSms({ id: msgId });\r\n      this.row = res.data;\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.message-sms {\r\n  .collapse-select {\r\n    padding: 0 20px;\r\n  }\r\n\r\n  .ml-10 {\r\n    margin-left: 10px;\r\n  }\r\n\r\n  .list {\r\n    padding: 10px 5px;\r\n    border-bottom: 1px solid #dfe6ec;\r\n  }\r\n\r\n  .red {\r\n    color: $red;\r\n  }\r\n\r\n  .center {\r\n    text-align: center;\r\n    border-bottom: 1px solid #dfe6ec;\r\n    padding-bottom: 10px;\r\n  }\r\n}\r\n\r\n.el-form {\r\n  width: 100%;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./messageSms.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./messageSms.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./messageSms.vue?vue&type=template&id=6a6075b6&scoped=true&\"\nimport script from \"./messageSms.vue?vue&type=script&lang=js&\"\nexport * from \"./messageSms.vue?vue&type=script&lang=js&\"\nimport style0 from \"./messageSms.vue?vue&type=style&index=0&id=6a6075b6&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6a6075b6\",\n  null\n  \n)\n\nexport default component.exports","import request from '@/utils/request';\r\n\r\ntype makeUrl = { (url: string): string };\r\nlet makeUrl = (url: string) => {\r\n  return url\r\n}\r\n/* *\r\n* https://10.30.50.150:8443/svn/青汽车联网项目/数据结构设计/云端数据库数据字典表/云端数据库字典表.xlsx\r\n* 数据字典 获得服务类型 se01 type一般是传\"A\"\r\n* */\r\nexport const basedata = (params: any) =>\r\n  request({\r\n    url: makeUrl('operate/common/basedata'),\r\n    method: 'get',\r\n    params\r\n  });\r\n//图片上传\r\nexport const uploadImageAndCrtThumbImage = (data: any) =>\r\n  request({\r\n    url: process.env.VUE_APP_UPLOAD_API,\r\n    method: 'post',\r\n    data\r\n  });\r\n// 文件上传\r\nexport const uploadFile = (data: any) => {\r\n    return request({\r\n        url: process.env.VUE_APP_UPLOAD_FILE_API,\r\n        method: 'post',\r\n        data\r\n    });\r\n}\r\n\r\n\r\nexport const searchMap = (data: any) =>\r\n    request({\r\n        url: makeUrl('driver/search/geo'),\r\n        method: 'get',\r\n        params: data\r\n    });\r\n\r\nexport const queryCarPropertyForMaintains = (data: any) =>\r\n    request({\r\n        url: makeUrl('sellbusiness/queryCarPropertyForMaintains'),\r\n        method: 'get',\r\n        params: data\r\n    });\r\n","import mod from \"-!../../../../node_modules/vue-style-loader/index.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../node_modules/style-resources-loader/lib/index.js??ref--8-oneOf-1-5!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./messageSms.vue?vue&type=style&index=0&id=6a6075b6&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/vue-style-loader/index.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../node_modules/style-resources-loader/lib/index.js??ref--8-oneOf-1-5!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./messageSms.vue?vue&type=style&index=0&id=6a6075b6&lang=scss&scoped=true&\"","import request from '@/utils/request';\r\n\r\n// 推送消息列表\r\nexport const noticeList = (params: any) =>\r\n  request({\r\n    url: 'operate/notice/queryNoticeList',\r\n    method: 'get',\r\n    params\r\n  });\r\n\r\n// 车辆品牌\r\nexport const brandList = (params: any) =>\r\n  request({\r\n    url: 'operate/common/brandList',\r\n    method: 'get',\r\n    params\r\n  });\r\n\r\n// 车系\r\nexport const carSeriesList = (params: any) =>\r\n  request({\r\n    url: 'operate/common/seriseList',\r\n    method: 'get',\r\n    params\r\n  });\r\n\r\n// 车型\r\nexport const carTypeList = (params: any) =>\r\n  request({\r\n    url: 'operate/common/activityModelList',\r\n    method: 'get',\r\n    params\r\n  });\r\n\r\n// 根据手机号或者底盘号获取用户\r\nexport const userIdByPhoneAndVin = (params: any) =>\r\n    request({\r\n        url: 'operate/getUserIdByPhoneAndVin',\r\n        method: 'get',\r\n        params\r\n    });\r\n\r\n// 新增推送消息\r\nexport const newNotice = (data: any) => {\r\n  return request({\r\n    url: 'operate/notice/newNotice',\r\n    method: 'post',\r\n    data: data\r\n  });\r\n};\r\n\r\n// 重发-推送消息详情\r\nexport const resendNotice = (data: any) => {\r\n  return request({\r\n    url: 'operate/notice/resendNotice',\r\n    method: 'post',\r\n    data: data\r\n  });\r\n};\r\n\r\n// 短消息列表\r\nexport const smsMessageList = (params: any) =>\r\n    request({\r\n        url: 'operate/msgManageGetSendedSMSList',\r\n        method: 'get',\r\n        params\r\n    });\r\n\r\n// 新增短消息\r\nexport const newSms = (data: any) => {\r\n    return request({\r\n        url: 'operate/msgManageSendSMS',\r\n        method: 'post',\r\n        data: data\r\n    });\r\n};\r\n\r\n// 重发-短消息详情\r\nexport const resendSms = (params: any) =>\r\n    request({\r\n        url: 'operate/msgManageReSendSMS',\r\n        method: 'get',\r\n        params\r\n    });\r\n\r\n// 统计-发送端\r\nexport const smsMsgTypeList = (params: any) =>\r\n    request({\r\n        url: 'operate/queryStatisticsSMSType',\r\n        method: 'get',\r\n        params\r\n    });\r\n\r\n// 统计-类型\r\nexport const statisticsSmsList = (params: any) =>\r\n    request({\r\n        url: 'operate/queryStatisticsSMSList',\r\n        method: 'get',\r\n        params\r\n    });\r\n\r\n\r\n// 统计-详情\r\nexport const statisticsSmsDetail = (params: any) =>\r\n    request({\r\n        url: 'operate/msgStatisticsSMSDetailList',\r\n        method: 'get',\r\n        params\r\n    });\r\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../node_modules/style-resources-loader/lib/index.js??ref--8-oneOf-1-5!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./messageSms.vue?vue&type=style&index=0&id=6a6075b6&lang=scss&scoped=true&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"6f228228\", content, true, {\"sourceMap\":true,\"shadowMode\":false});","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(true);\n// Module\nexports.push([module.id, \"[data-v-6a6075b6]:export{menuBg:#304156;menuText:#bfcbd9;menuActiveText:#409eff}.message-sms .collapse-select[data-v-6a6075b6]{padding:0 20px}.message-sms .ml-10[data-v-6a6075b6]{margin-left:10px}.message-sms .list[data-v-6a6075b6]{padding:10px 5px;border-bottom:1px solid #dfe6ec}.message-sms .red[data-v-6a6075b6]{color:#c03639}.message-sms .center[data-v-6a6075b6]{text-align:center;border-bottom:1px solid #dfe6ec;padding-bottom:10px}.el-form[data-v-6a6075b6]{width:100%}\", \"\",{\"version\":3,\"sources\":[\"D:/01.workspace/10.test/cicd/test-vue-ui/src/views/businessSupport/message/D:/01.workspace/10.test/cicd/test-vue-ui/src/views/businessSupport/message/D:/01.workspace/10.test/cicd/test-vue-ui/src/views/businessSupport/message/messageSms.vue\"],\"names\":[],\"mappings\":\"AA6BA,yBACE,cAbM,CAcN,gBAbQ,CAcR,sBAbc,CA4Ld,+CACE,cAAA,CAGF,qCACE,gBAAA,CAGF,oCACE,gBAAA,CACA,+BAAA,CAGF,mCACE,aAxNC,CA2NH,sCACE,iBAAA,CACA,+BAAA,CACA,mBAAA,CAIJ,0BACE,UAAA\",\"file\":\"messageSms.vue\",\"sourcesContent\":[\"/* Variables */\\r\\n\\r\\n// Base color\\r\\n$blue:#324157;\\r\\n$light-blue:#3A71A8;\\r\\n$red:#C03639;\\r\\n$pink: #E65D6E;\\r\\n$green: #30B08F;\\r\\n$tiffany: #4AB7BD;\\r\\n$yellow:#FEC171;\\r\\n$panGreen: #30B08F;\\r\\n\\r\\n// Sidebar\\r\\n$sideBarWidth: 210px;\\r\\n$subMenuBg:#1f2d3d;\\r\\n$subMenuHover:#001528;\\r\\n$subMenuActiveText:#f4f4f5;\\r\\n$menuBg:#304156;\\r\\n$menuText:#bfcbd9;\\r\\n$menuActiveText:#409EFF; // Also see settings.sidebarTextTheme\\r\\n\\r\\n// Login page\\r\\n$lightGray: #eee;\\r\\n$darkGray:#889aa4;\\r\\n$loginBg: #2d3a4b;\\r\\n$loginCursorColor: #fff;\\r\\n\\r\\n// The :export directive is the magic sauce for webpack\\r\\n// https://mattferderer.com/use-sass-variables-in-typescript-and-javascript\\r\\n:export {\\r\\n  menuBg: $menuBg;\\r\\n  menuText: $menuText;\\r\\n  menuActiveText: $menuActiveText;\\r\\n}\\r\\n/* Mixins */\\r\\n@mixin clearfix {\\r\\n  &:after {\\r\\n    content: \\\"\\\";\\r\\n    display: table;\\r\\n    clear: both;\\r\\n  }\\r\\n}\\r\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\r\\n.message-sms {\\r\\n  .collapse-select {\\r\\n    padding: 0 20px;\\r\\n  }\\r\\n\\r\\n  .ml-10 {\\r\\n    margin-left: 10px;\\r\\n  }\\r\\n\\r\\n  .list {\\r\\n    padding: 10px 5px;\\r\\n    border-bottom: 1px solid #dfe6ec;\\r\\n  }\\r\\n\\r\\n  .red {\\r\\n    color: $red;\\r\\n  }\\r\\n\\r\\n  .center {\\r\\n    text-align: center;\\r\\n    border-bottom: 1px solid #dfe6ec;\\r\\n    padding-bottom: 10px;\\r\\n  }\\r\\n}\\r\\n\\r\\n.el-form {\\r\\n  width: 100%;\\r\\n}\\r\\n\"]}]);\n// Exports\nmodule.exports = exports;\n"],"sourceRoot":""}